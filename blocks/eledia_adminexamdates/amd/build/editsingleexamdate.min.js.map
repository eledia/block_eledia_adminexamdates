{"version":3,"file":"editsingleexamdate.min.js","sources":["../src/editsingleexamdate.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * editsingleexamdate - change room triggers to hide/show the input room group\n * @package    block_eledia_adminexamdates\n * @copyright  2021 Ren√© Hansen <support@eledia.de>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nexport const init = () => {\n    document.querySelectorAll('.form-check-input').forEach(item => {\n        var itemid = item.id;\n        var roomgroupid = itemid.replace(/blockexamroomscheck/i, \"roomheader\");\n        var el = document.getElementById(roomgroupid);\n        el.style.display = item.checked == 1 ? 'block' : 'none';\n        el.classList.remove('collapsed');\n        item.addEventListener('change', e => {\n            var targetid = e.target.id;\n            var roomgroupid = targetid.replace(/blockexamroomscheck/i, \"roomheader\");\n            var el = document.getElementById(roomgroupid);\n            el.style.display = e.target.checked == 1 ? 'block' : 'none';\n            el.classList.remove('collapsed');\n        });\n    });\n\n    var elements = document.getElementsByClassName(\"delsingleexamdate\");\n    var delForm = document.querySelector(\"#delsingleexamdatebtn form\");\n    var submitFunction = function() {\n        var attribute = this.getAttribute(\"data-examblockid\");\n        var delInput = delForm.querySelector('input[name=\"delete\"]');\n        delInput.value = attribute;\n        delForm.submit();\n    };\n\n    Array.from(elements).forEach(function(element) {\n        element.addEventListener('click', submitFunction);\n    });\n};"],"names":["document","querySelectorAll","forEach","item","roomgroupid","id","replace","el","getElementById","style","display","checked","classList","remove","addEventListener","e","target","elements","getElementsByClassName","delForm","querySelector","submitFunction","attribute","this","getAttribute","value","submit","Array","from","element"],"mappings":"mLAsBoB,KAChBA,SAASC,iBAAiB,qBAAqBC,SAAQC,WAE/CC,YADSD,KAAKE,GACOC,QAAQ,uBAAwB,cACrDC,GAAKP,SAASQ,eAAeJ,aACjCG,GAAGE,MAAMC,QAA0B,GAAhBP,KAAKQ,QAAe,QAAU,OACjDJ,GAAGK,UAAUC,OAAO,aACpBV,KAAKW,iBAAiB,UAAUC,QAExBX,YADWW,EAAEC,OAAOX,GACGC,QAAQ,uBAAwB,cACvDC,GAAKP,SAASQ,eAAeJ,aACjCG,GAAGE,MAAMC,QAA8B,GAApBK,EAAEC,OAAOL,QAAe,QAAU,OACrDJ,GAAGK,UAAUC,OAAO,uBAIxBI,SAAWjB,SAASkB,uBAAuB,qBAC3CC,QAAUnB,SAASoB,cAAc,8BACjCC,eAAiB,eACbC,UAAYC,KAAKC,aAAa,oBACnBL,QAAQC,cAAc,wBAC5BK,MAAQH,UACjBH,QAAQO,UAGZC,MAAMC,KAAKX,UAAUf,SAAQ,SAAS2B,SAClCA,QAAQf,iBAAiB,QAASO"}