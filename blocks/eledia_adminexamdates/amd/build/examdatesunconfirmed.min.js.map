{"version":3,"file":"examdatesunconfirmed.min.js","sources":["../src/examdatesunconfirmed.js"],"sourcesContent":["// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * @package    block_eledia_adminexamdates\n * @copyright  2022 Ren√© Hansen <support@eledia.de>\n * @license    http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\n// import ModalFactory from \"../../../../lib/amd/src/modal_factory\";\n//\n// define(['jquery', 'core/str', 'core/modal_factory'], function ($, String, ModalFactory) {\n//\n//     $('.annotation-text-link').on('click', function (e) {\n//\n//         ModalFactory.create(\n//             {\n//                 type: ModalFactory.types.DEFAULT,\n//                 title: String.get_string('annotationtext', 'block_eledia_adminexamdates'),\n//                 body: '',\n//             })\n//             .then(modal => {\n//                 modal.show();\n//                 return modal;\n//             });\n//     });\n// });\n\ndefine(['jquery', 'core/str', 'core/modal_factory', 'core/notification'], function ($, str, ModalFactory, Notification) {\n\n    return /** @alias module:block_eledia_adminexamdates/examdatesunconfirmed */ {\n\n        /**\n         * Prepares a modal for annotation text.\n         *\n         * @method annotationText\n         */\n        annotationText: function () {\n\n            str.get_string('annotationtext', 'block_eledia_adminexamdates').done(\n                function (annotationtext) {\n                    $('[data-annotation-text]').on('click', function (e) {\n                        e.preventDefault();\n                        var clickedLink = $(e.currentTarget);\n                        ModalFactory.create({\n                            title: annotationtext + ' - ' +\n                                clickedLink.data(\"annotation-text\").examname,\n                            body: clickedLink.data(\"annotation-text\").text.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\"),\n                        })\n                            .then(function (modal) {\n                                modal.show();\n                            });\n                    });\n                }).fail(Notification.exception);\n            // var atext = $('[data-annotation-text]');\n            // str.get_string('annotationtext', 'block_eledia_adminexamdates').then(function(langString) {\n            //     return ModalFactory.create({\n            //         title: langString + ' - '+ atext.data(\"annotation-text\").examname,\n            //         body: atext.data(\"annotation-text\").text.replace(/(?:\\r\\n|\\r|\\n)/g, \"<br>\"),\n            //     }, atext).done(function(modal) {\n            //         modal.getRoot().find('a').on('click', function () {\n            //             modal.hide();\n            //         });\n            //     });\n            // }).catch(Notification.exception);\n        }\n    };\n});\n"],"names":["define","$","str","ModalFactory","Notification","annotationText","get_string","done","annotationtext","on","e","preventDefault","clickedLink","currentTarget","create","title","data","examname","body","text","replace","then","modal","show","fail","exception"],"mappings":";;;;;AAwCAA,0DAAO,CAAC,SAAU,WAAY,qBAAsB,sBAAsB,SAAUC,EAAGC,IAAKC,aAAcC,oBAEzB,CAOzEC,eAAgB,WAEZH,IAAII,WAAW,iBAAkB,+BAA+BC,MAC5D,SAAUC,gBACNP,EAAE,0BAA0BQ,GAAG,SAAS,SAAUC,GAC9CA,EAAEC,qBACEC,YAAcX,EAAES,EAAEG,eACtBV,aAAaW,OAAO,CAChBC,MAAOP,eAAiB,MACpBI,YAAYI,KAAK,mBAAmBC,SACxCC,KAAMN,YAAYI,KAAK,mBAAmBG,KAAKC,QAAQ,kBAAmB,UAEzEC,MAAK,SAAUC,OACZA,MAAMC,gBAGnBC,KAAKpB,aAAaqB"}