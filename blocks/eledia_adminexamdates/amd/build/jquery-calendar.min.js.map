{"version":3,"file":"jquery-calendar.min.js","sources":["../src/jquery-calendar.js"],"sourcesContent":["/*\n * @class Calendar ~jquery-calendar plugin~ (https://github.com/ArrobeFr/jquery-calendar-bs4)\n * @author Developped by Arrobe (https://www.arrobe.fr)\n * Some Improvements, refactorizations and fixes: M. A. Coma Rivas\n * @license Licensed under MIT (https://github.com/ArrobeFr/jquery-calendar/blob/master/LICENSE)\n */\n\n// eslint-disable-next-line no-undef\njQuery(document).ready(function ($) {\n    function Calendar(element, Args) {\n        // Check Moment.js dependency\n        if (typeof (moment) !== 'function') {\n            console.error('Calendar require Moment.js !');\n            return;\n        }\n\n        // Pre-defined events colors\n        var eventColors = [ // https://www.materialui.co/colors (800)\n            '#C62828', // Red\n            '#AD1457', // Pink\n            '#6A1B9A', // Purple\n            '#4527A0', // Deep Purple\n            '#283593', // Indigo\n            '#1565C0', // Blue\n            '#0277BD', // Light Blue\n            '#00838F', // Cyan\n            '#00695C', // Teal\n            '#2E7D32', // Green\n            '#558B2F', // Light Green\n            '#9E9D24', // Lime\n            '#F9A825', // Yellow\n            '#FF8F00', // Amber\n            '#EF6C00', // Orange\n            '#D84315', // Deep Orange\n            '#4E342E', // Brown\n            '#424242', // Grey\n            '#37474F', // Blue Grey\n            '#212121', // Grey (900)\n        ];\n\n        // Pre-defined events colors\n        var daynoteColors = [ // https://www.materialui.co/colors (800)\n            '#EF9A9A', // Red\n            '#F48FB1', // Pink\n            '#CE93D8', // Purple\n            '#B39DDB', // Deep Purple\n            '#9FA8DA', // Indigo\n            '#90CAF9', // Blue\n            '#81D4FA', // Light Blue\n            '#80DEEA', // Cyan\n            '#80CBC4', // Teal\n            '#A5D6A7', // Green\n            '#C5E1A5', // Light Green\n            '#E6EE9C', // Lime\n            '#FFF59D', // Yellow\n            '#FFE082', // Amber\n            '#FFCC80', // Orange\n            '#FFAB91', // Deep Orange\n            '#BCAAA4', // Brown\n            '#EEEEEE', // Grey\n            '#B0BEC5' // Blue Grey\n        ];\n\n        // Define default configuration\n        this.conf = {\n            locale: (Args.locale) ? Args.locale : 'fr',\n            view: 'week',\n            rooms: (Args.rooms !== false) ? Args.rooms : false,\n            roomlist: (Args.roomlist !== false) ? Args.roomlist : false,\n            enableKeyboard: (Args.enableKeyboard) ? Args.enableKeyboard : true,\n            defaultView: {\n                largeScreen: (Args.defaultView) ? (Args.defaultView.largeScreen) ? (Args.defaultView.largeScreen) : 'week' : 'week',\n                smallScreen: (Args.defaultView) ? (Args.defaultView.smallScreen) ? (Args.defaultView.smallScreen) : 'day' : 'day',\n                smallScreenThreshold: (Args.defaultView) ? (Args.defaultView.smallScreenThreshold) ? (Args.defaultView.smallScreenThreshold) : 1000 : 1000\n            },\n            weekday: {\n                timeline: {\n                    fromHour: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.fromHour) ? Args.weekday.timeline.fromHour : 7 : 7 : 7,\n                    toHour: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.toHour) ? Args.weekday.timeline.toHour : 20 : 20 : 20,\n                    intervalMinutes: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.intervalMinutes) ? Args.weekday.timeline.intervalMinutes : 60 : 60 : 60,\n                    format: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.format) ? Args.weekday.timeline.format : 'HH:mm' : 'HH:mm' : 'HH:mm',\n                    heightPx: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.heightPx) ? Args.weekday.timeline.heightPx : 50 : 50 : 50,\n                    autoResize: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.autoResize !== undefined) ? Args.weekday.timeline.autoResize : true : true : true\n                },\n                dayline: {\n                    weekdays: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.weekdays) ? Args.weekday.dayline.weekdays : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6],\n                    format: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.format) ? Args.weekday.dayline.format : 'dddd DD/MM' : 'dddd DD/MM' : 'dddd DD/MM',\n                    heightPx: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.heightPx) ? Args.weekday.dayline.heightPx ? (Args.weekday.dayline.heightPx > 31) ? Args.weekday.dayline.heightPx : 31 : 31 : 31 : 31 : 31,\n                    month: {\n                        format: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.format) ? Args.weekday.dayline.month.format : 'MMMM YYYY' : 'MMMM YYYY' : 'MMMM YYYY' : 'MMMM YYYY',\n                        heightPx: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.heightPx) ? Args.weekday.dayline.month.heightPx : 30 : 30 : 30 : 30,\n                        weekFormat: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.weekFormat) ? Args.weekday.dayline.month.weekFormat : 'w' : 'w' : 'w' : 'w'\n                    }\n                }\n            },\n            month: {\n                format: (Args.month) ? (Args.month.format) ? Args.month.format : 'MMMM YYYY' : 'MMMM YYYY',\n                heightPx: (Args.month) ? (Args.month.heightPx) ? (Args.month.heightPx > 31) ? Args.month.heightPx : 31 : 31 : 31,\n                weekline: {\n                    format: (Args.month) ? (Args.month.weekline) ? (Args.month.weekline.format) ? Args.month.weekline.format : 'w' : 'w' : 'w',\n                    heightPx: (Args.month) ? (Args.month.weekline) ? (Args.month.weekline.heightPx) ? Args.month.weekline.heightPx : 80 : 80 : 80\n                },\n                dayheader: {\n                    weekdays: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.weekdays) ? Args.month.dayheader.weekdays : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6],\n                    format: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.format) ? Args.month.dayheader.format : 'dddd' : 'dddd' : 'dddd',\n                    heightPx: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.heightPx) ? Args.month.dayheader.heightPx : 30 : 30 : 30\n                },\n                day: {\n                    format: (Args.month) ? (Args.month.day) ? (Args.month.day.format) ? Args.month.day.format : 'DD/MM' : 'DD/MM' : 'DD/MM'\n                }\n            },\n            unixTimestamp: (Args.unixTimestamp) ? Args.unixTimestamp : moment().format('X'),\n            event: {\n                hover: {\n                    delay: (Args.event) ? (Args.event.hover) ? (Args.event.hover.delay) ? Args.event.hover.delay : 500 : 500 : 500\n                }\n            },\n            colors: {\n                events: (Args.colors) ? (Args.colors.events) ? Args.colors.events : eventColors : eventColors,\n                daynotes: (Args.colors) ? (Args.colors.daynotes) ? Args.colors.daynotes : daynoteColors : daynoteColors,\n                random: (Args.colors) ? (Args.colors.random) ? Args.colors.random : true : true,\n                border1: (Args.colors) ? (Args.colors.border1) ? (Args.colors.border1) : '#576874' : '#576874',\n                border2: (Args.colors) ? (Args.colors.border2) ? (Args.colors.border2) : '#576874' : '#576874'\n            },\n            categories: {\n                enable: (Args.categories) ? (Args.categories.enable !== undefined) ? Args.categories.enable : true : true,\n                hover: {\n                    delay: (Args.categories) ? (Args.categories.hover) ? (Args.categories.hover.delay) ? Args.categories.hover.delay : 500 : 500 : 500\n                }\n            },\n            now: {\n                enable: (Args.now) ? (Args.now.enable !== undefined) ? (Args.now.enable) : false : false,\n                refresh: (Args.now) ? (Args.now.refresh !== undefined) ? (Args.now.refresh) : false : false,\n                heightPx: (Args.now) ? (Args.now.heightPx) ? (Args.now.heightPx) : 1 : 1,\n                style: (Args.now) ? (Args.now.style) ? (Args.now.style) : 'solid' : 'solid',\n                color: (Args.now) ? (Args.now.color) ? (Args.now.color) : '#03A9F4' : '#03A9F4'\n            }\n        };\n\n        // Sets moment's locale\n        moment.locale(this.conf.locale);\n\n        // Sets colors\n        this.setEventColors(this.conf.colors.events);\n        this.setDaynoteColors(this.conf.colors.daynotes);\n\n        // Create array to associate colors and categories\n        this.eventCategoryColor = [];\n        this.daynoteCategoryColor = [];\n\n        // Create array to associate colors and categories as defined by setEventCategoriesColors or setDaynoteCategoriesColors\n        this.userEventCategoryColor = [];\n        this.userDaynoteCategoryColor = [];\n\n        // Load events\n        this.setEvents((Args.events) ? Args.events : []);\n\n        // Load day notes\n        this.setDaynotes((Args.daynotes) ? Args.daynotes : []);\n\n        // Define the default view\n        if (this.mobileQuery() == 'mobile') {\n            this.setView(this.conf.defaultView.smallScreen);\n        } else {\n            this.setView(this.conf.defaultView.largeScreen);\n        }\n\n        // Init\n        this.element = element;\n        this.initTime = false;\n    }\n\n    Calendar.prototype.init = function () {\n        var millis = Date.now();\n        this.element.addClass('loading');\n        this.calculateCurrentInterval();\n        $(this.element).trigger('Calendar.init', [\n            this,\n            this.getPrevViewInterval(),\n            this.getViewInterval(),\n            this.getNextViewInterval()\n        ]);\n        $(this.element).html('');\n        if (!$(this.element).hasClass('calendar')) {\n            $(this.element).addClass('calendar');\n        }\n        if (this.getView() == 'day' || this.getView() == 'week') {\n            if (this.conf.weekday.timeline.autoResize) {\n                this.resizeTimeline();\n            }\n        }\n        this.drawCategories();\n        if (this.getView() == 'day' || this.getView() == 'week') {\n            this.weekDrawTime();\n            this.weekDrawDays();\n            this.weekDrawDaynotes();\n            this.weekDrawEvents();\n        }\n        if (this.getView() == 'month') {\n            this.monthDrawWeek();\n            this.monthDrawWeekNumbers();\n            this.monthDrawWeekDays();\n            this.monthDrawDaynotes();\n            this.monthDrawEvents();\n        }\n        this.drawModal();\n        this.drawNow();\n        this.positionEvents();\n        this.hoverEventOrDaynote();\n        this.clickEventOrDaynote();\n        this.addBtnLeftRight();\n        this.addSwipe();\n        this.clickSwitchView();\n        this.keyboardSwitchView();\n        this.defaultEvents();\n        this.element.removeClass('loading');\n        this.initTime = (Date.now() - millis) + 'ms';\n    };\n\n    Calendar.prototype.defaultEvents = function () {\n        if (this.binded == true) {\n            return;\n        }\n        var self = this;\n        var eventMouseenterDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                if (parseInt(elem.css('top')) >= (elem.closest('ul').height() / 2) - self.conf.weekday.timeline.heightPx) {\n                    var heightPx = parseInt(elem.css('top')) + parseInt(elem.css('height'));\n                    elem\n                        .css('z-index', 10)\n                        .animate({\n                            height: heightPx,\n                            top: 0,\n                            width: '100%',\n                            left: 0\n                        }, 50)\n                    ;\n                } else {\n                    var heightPx = elem.closest('ul').height() - parseInt(elem.css('top'));\n                    elem\n                        .css('z-index', 10)\n                        .animate({\n                            height: heightPx,\n                            width: '100%',\n                            left: 0\n                        }, 50)\n                    ;\n                }\n                elem.find('.event-name').removeClass('invisible');\n                elem.find('.event-content').removeClass('invisible');\n            }\n        };\n        $(self.element).off('Calendar.event-mouseenter', eventMouseenterDefault).on('Calendar.event-mouseenter', eventMouseenterDefault);\n        $(self.element).off('Calendar.daynote-mouseenter', eventMouseenterDefault).on('Calendar.daynote-mouseenter', eventMouseenterDefault);\n\n        var eventMouseleaveDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                elem\n                    .css('z-index', 'auto')\n                    .animate({\n                        height: parseFloat(elem.attr('data-height')) + 'px',\n                        top: parseFloat(elem.attr('data-top')),\n                        width: parseFloat(elem.attr('data-width')) + '%',\n                        left: parseFloat(elem.attr('data-left')) + '%'\n                    }, 50)\n                ;\n                elem.find('.event-content').addClass('invisible');\n            }\n        };\n        $(self.element).off('Calendar.event-mouseleave', eventMouseleaveDefault).on('Calendar.event-mouseleave', eventMouseleaveDefault);\n        $(self.element).off('Calendar.daynote-mouseleave', eventMouseleaveDefault).on('Calendar.daynote-mouseleave', eventMouseleaveDefault);\n\n        var eventClickDefault = function (event, self, elem, evt) {\n            if (!event.isDefaultPrevented()) {\n                var modal = $(self.element).find('#calendar-modal');\n                var rgb = self.hexToRgb(elem.attr('data-color'));\n                modal.css('background', 'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', 0.5)');\n                modal.find('.modal-title').append(elem.attr('data-title') + ' ');\n                modal.find('.modal-body').append(\n                    $('<h4>').append(\n                        $(this).closest('.calendar-events-day').find('span').html()\n                    ).append(\n                        ' '\n                    ).append(\n                        $('<small>').text(elem.find('.event-date').text())\n                    )\n                );\n                modal.find('.modal-body').append(elem.find('.event-content').html());\n                modal.modal('show');\n                modal.on('hidden.bs.modal', function (e) {\n                    $(e.target).find('.modal-title').html('');\n                    $(e.target).find('.modal-body').html('');\n                });\n            }\n        };\n        $(self.element).off('Calendar.event-click', eventClickDefault).on('Calendar.event-click', eventClickDefault);\n        $(self.element).off('Calendar.daynote-click', eventClickDefault).on('Calendar.daynote-click', eventClickDefault);\n\n        var eventCategoryClickDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                var events = self.element.find('.calendar-event[data-category=\"' + $(elem).text() + '\"]');\n                if ($(elem).attr('data-clicked') == 'false') {\n                    events.animate({\n                        opacity: 0\n                    }, 200, function () {\n                        events.css('display', 'none');\n                        $(elem).css('background-color', '#E0E0E0');\n                        $(elem).attr('data-clicked', true);\n                    });\n                }\n                if ($(elem).attr('data-clicked') == 'true') {\n                    events.css('display', 'list-item');\n                    $(elem).css('background-color', $(elem).attr('data-color'));\n                    events.animate({\n                        opacity: 1\n                    }, 200, function () {\n                        $(elem).attr('data-clicked', false);\n                    });\n                }\n            }\n        };\n        $(self.element).off('Calendar.category-event-click', eventCategoryClickDefault).on('Calendar.category-event-click', eventCategoryClickDefault);\n        $(self.element).off('Calendar.category-daynote-click', eventCategoryClickDefault).on('Calendar.category-daynote-click', eventCategoryClickDefault);\n\n        var eventCategoryMouseenterDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                self.element.find('.calendar-event').each(function (i, e) {\n                    if ($(e).attr('data-category') != elem.text()) {\n                        $(e).css('opacity', 0.2);\n                    }\n                });\n            }\n        };\n        $(self.element).off('Calendar.category-event-mouseenter', eventCategoryMouseenterDefault).on('Calendar.category-event-mouseenter', eventCategoryMouseenterDefault);\n        $(self.element).off('Calendar.category-daynote-mouseenter', eventCategoryMouseenterDefault).on('Calendar.category-daynote-mouseenter', eventCategoryMouseenterDefault);\n\n        var eventCategoryMouseleaveDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                self.element.find('.calendar-event').each(function (i, e) {\n                    $(e).css('opacity', 1);\n                });\n            }\n        };\n        $(self.element).off('Calendar.category-event-mouseleave', eventCategoryMouseleaveDefault).on('Calendar.category-event-mouseleave', eventCategoryMouseleaveDefault);\n        $(self.element).off('Calendar.category-daynote-mouseleave', eventCategoryMouseleaveDefault).on('Calendar.category-daynote-mouseleave', eventCategoryMouseleaveDefault);\n\n        this.binded = true;\n    };\n\n    Calendar.prototype.weekDrawTime = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-timeline'\n        }));\n        $(this.element).find('div.calendar-timeline').css('padding-top', this.conf.weekday.dayline.heightPx + 'px');\n        var marginTop = this.conf.weekday.dayline.month.heightPx;\n        if (this.conf.categories.enable) {\n            var $categoryBar = $(this.element).find('div.calendar-categories');\n            marginTop += $categoryBar.height() + parseFloat($categoryBar.css('margin-bottom'));\n        }\n        $(this.element).find('div.calendar-timeline').css('margin-top', marginTop + 'px');\n\n        $(this.element).find('div.calendar-timeline').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-timeline').find('ul');\n\n        var time = moment(moment()).startOf('Week');\n        time.add(this.conf.weekday.timeline.fromHour, 'H');\n\n        var limit = (((this.conf.weekday.timeline.toHour + 1) * 60) - (this.conf.weekday.timeline.fromHour * 60)) / this.conf.weekday.timeline.intervalMinutes;\n        var i = 0;\n        while (i < limit) {\n            li = $('<li>');\n            li.append($('<span>').text(time.format(this.conf.weekday.timeline.format)));\n            li.height(this.conf.weekday.timeline.heightPx);\n            ul.append(li);\n            time.add(this.conf.weekday.timeline.intervalMinutes, 'm');\n            i++;\n        }\n    };\n\n    Calendar.prototype.weekDrawDays = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-events'\n        }));\n\n        var div = $('<div>', {\n                \"class\": 'calendar-month'\n            })\n                .css('height', this.conf.weekday.dayline.month.heightPx + 'px')\n                .css('text-align', 'center')\n                .css('padding-top', (this.conf.weekday.dayline.month.heightPx - 20) / 2 + 'px')\n        ;\n        if (this.getView() == 'week') {\n            div.text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.weekday.dayline.month.format)));\n            div.addClass('weektomonth');\n        }\n        if (this.getView() == 'day') {\n            div.text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.weekday.dayline.month.weekFormat)));\n            div.addClass('daytoweek');\n        }\n        $(this.element).find('div.calendar-events').append(div);\n\n        $(this.element).find('div.calendar-events').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-events').find('ul');\n\n        var days = this.getViewDays();\n\n        for (var i = 0; i < days.length; i++) {\n            time = moment.unix(days[i]);\n\n            li = $('<li>', {\n                \"class\": 'calendar-events-day'\n            });\n            li.css('width', 100 / days.length + '%');\n            div = $('<div>', {\n                \"class\": 'calendar-day-header'\n            });\n            div.height(this.conf.weekday.dayline.heightPx);\n            if (i == 0 && this.mobileQuery() == 'desktop') {\n                div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                }).attr('data-direction', 'left').append($('<i>', {\n                    \"class\": 'fas fa-arrow-left'\n                })));\n            }\n            div.append($('<span>')\n                .addClass('weektoday')\n                .css('width', '100%')\n                .html(this.miscUcfirstString(time.format(this.conf.weekday.dayline.format)))\n            );\n\n            if (i == days.length - 1 && this.mobileQuery() == 'desktop') {\n                div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                }).attr('data-direction', 'right').append($('<i>', {\n                    \"class\": 'fas fa-arrow-right'\n                })));\n            }\n            li.append(div);\n            li.attr('data-time', time.startOf('day').format('X'));\n            var date = new Date(time);\n            var dayOfWeek = date.getDay();\n            var isWeekend = (dayOfWeek === 6) || (dayOfWeek === 0);\n            li.attr('data-weekend', isWeekend);\n\n            li.append($('<ul>'));\n            li.find('ul').height(((60 / this.conf.weekday.timeline.intervalMinutes) * (this.conf.weekday.timeline.toHour - this.conf.weekday.timeline.fromHour) * this.conf.weekday.timeline.heightPx) + ((60 / this.conf.weekday.timeline.intervalMinutes) * this.conf.weekday.timeline.heightPx));\n            ul.append(li);\n        }\n\n        var maxHeight = 0;\n        $(this.element).find('.calendar-day-header').each(function () {\n            if ($(this).height() > maxHeight) {\n                maxHeight = $(this).height();\n            }\n        });\n        $(this.element).find('.calendar-day-header').each(function () {\n            $(this).height(maxHeight);\n        });\n\n        if (this.conf.weekday.dayline.heightPx < maxHeight) {\n            this.conf.weekday.dayline.heightPx = maxHeight;\n            $(this.element).find('div.calendar-timeline').css('padding-top', this.conf.weekday.dayline.heightPx + 'px'); // W: Padding-top do cabeÃ§alho dos dias da semana\n            // alert(this.conf.weekday.dayline.heightPx + \" \" + $(this.element).find('.calendar-day-header').first().css('height'));\n        }\n\n    };\n\n    Calendar.prototype.monthDrawWeek = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-events'\n        }));\n        var div = $('<div>', {\n            \"class\": 'calendar-month'\n        });\n        div.css('height', this.conf.month.heightPx + 'px');\n\n        if (this.mobileQuery() == 'desktop') {\n            div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                })\n                    .attr('data-direction', 'left')\n                    .append($('<i>', {\n                        \"class\": 'fas fa-angle-left'\n                    }))\n            );\n        }\n        div.append($('<span>')\n            .css('position', 'absolute')\n            .css('top', this.conf.month.heightPx / 2 + 'px')\n            .css('right', '50%')\n            .css('transform', 'translate(50%,-50%)')\n            .text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.month.format)))\n        );\n        if (this.mobileQuery() == 'desktop') {\n            div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                })\n                    .css('float', 'right')\n                    .attr('data-direction', 'right')\n                    .append($('<i>', {\n                        \"class\": 'fas fa-arrow-right'\n                    }))\n            );\n        }\n\n        $(this.element).find('div.calendar-events').append(div);\n        $(this.element).find('div.calendar-events').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-events').find('ul');\n\n        var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n        var month = parseInt(time.format('MM'));\n        var week = parseInt(time.format('w'));\n        var nbWeeks = 0;\n        while (parseInt(time.format('MM')) == month) {\n            nbWeeks++;\n            while (parseInt(time.format('w')) == week) {\n                time.add(1, 'days');\n            }\n            week = parseInt(time.format('w'));\n        }\n\n        for (var i = 0; i < this.conf.month.dayheader.weekdays.length; i++) {\n            time = moment().startOf('week').add(this.conf.month.dayheader.weekdays[i], 'days');\n            li = $('<li>', {\n                \"class\": 'calendar-month-day-header'\n            });\n            li.append($('<div>')\n                .css('height', this.conf.month.dayheader.heightPx + 'px')\n                .css('padding-top', (this.conf.month.dayheader.heightPx - 20) / 2 + 'px')\n                .text(this.miscUcfirstString(time.format(this.conf.month.dayheader.format)))\n            );\n            li.css('width', 100 / this.conf.month.dayheader.weekdays.length + '%');\n            li.append($('<ul>').css('height', nbWeeks * this.conf.month.weekline.heightPx + 'px'));\n            ul.append(li);\n        }\n        var maxHeight = 0;\n        $(this.element).find('.calendar-month-day-header').each(function () {\n            var e = $(this).find('div');\n            if ($(e).height() > maxHeight) {\n                maxHeight = $(e).height();\n            }\n        });\n        $(this.element).find('.calendar-month-day-header').each(function () {\n            var e = $(this).find('div');\n            $(e).height(maxHeight);\n        });\n    };\n\n    Calendar.prototype.monthDrawWeekNumbers = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-timeline'\n        }));\n        var marginTop = this.conf.month.dayheader.heightPx;\n        marginTop += this.conf.month.heightPx;\n        if (this.conf.categories.enable) {\n            marginTop += 30;\n        }\n        marginTop += 2;\n        $(this.element).find('div.calendar-timeline').css('margin-top', marginTop + 'px');\n        $(this.element).find('div.calendar-timeline').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-timeline').find('ul');\n\n        var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n        var month = parseInt(time.format('MM'));\n        var week = parseInt(time.format('w'));\n        while (parseInt(time.format('MM')) == month) {\n            li = $('<li>', {\n                \"class\": 'monthtoweek'\n            });\n            li.append($('<span>')\n                .attr('data-timestamp', time.format('X'))\n                .text(time.format(this.conf.month.weekline.format)).css('margin-top', this.conf.month.weekline.heightPx / 2 + 'px')\n            );\n            li.height(this.conf.month.weekline.heightPx);\n            ul.append(li);\n            while (parseInt(time.format('w')) == week) {\n                time.add(1, 'days');\n            }\n            week = parseInt(time.format('w'));\n        }\n    };\n\n    Calendar.prototype.monthDrawWeekDays = function () {\n        var days = this.getViewDays(),\n            targetUl, li;\n\n        var i = parseInt(moment.unix(days[0]).weekday());\n        var time = moment.unix(days[0]);\n        while (i > 0) {\n            time = time.subtract(1, 'days');\n            targetUl = this.element.find(\".calendar-events>ul>.calendar-month-day-header>div:contains('\" + this.miscUcfirstString(time.format(this.conf.month.dayheader.format)) + \"')\").parent().find('ul');\n            li = $('<li>');\n            li.css('height', this.conf.month.weekline.heightPx + 'px');\n            $(targetUl).append(li);\n            i--;\n        }\n\n        time = days.length;\n        for (i = 0; i < time; i++) {\n            targetUl = this.element.find(\".calendar-events>ul>.calendar-month-day-header>div:contains('\" + this.miscUcfirstString(moment.unix(days[i]).format(this.conf.month.dayheader.format)) + \"')\").parent().find('ul');\n            li = $('<li>', {\n                \"class\": 'calendar-month-events-day'\n            });\n            li.css('height', this.conf.month.weekline.heightPx + 'px');\n            li.attr('data-time-from', moment.unix(days[i]).startOf('day').format('X'));\n            li.attr('data-time-to', moment.unix(days[i]).endOf('day').format('X'));\n            li.append($('<span>').text(moment.unix(days[i]).format(this.conf.month.day.format)));\n            $(targetUl).append(li);\n        }\n\n        this.element.find('.calendar-month-events-day').each(function () {\n            $(this).append($('<ul>'));\n        });\n    };\n\n    Calendar.prototype.drawCategories = function () {\n        this.determineEventsCategories();\n        this.determineDaynotesCategories();\n\n        if (this.conf.categories.enable) {\n            var label,\n                div = $('<div>', {\n                    \"class\": 'calendar-categories'\n                }).css('height', '26px');\n            for (var i = 0; i < this.eventCategoryColor.length; i++) {\n                label = $('<span>', {\n                    \"class\": 'badge badge-default calendar-label'\n                });\n                label.css('margin-right', '5px');\n                label.css('background-color', this.eventCategoryColor[i].color);\n                label.css('cursor', 'pointer');\n                label.attr('data-color', this.eventCategoryColor[i].color);\n                label.attr('data-clicked', false);\n                label.text(this.eventCategoryColor[i].category);\n                div.append(label);\n            }\n            for (i = 0; i < this.daynoteCategoryColor.length; i++) {\n                label = $('<span>', {\n                    \"class\": 'badge badge-default calendar-label calendar-label-daynote'\n                });\n                label.css('margin-right', '5px');\n                label.css('background-color', this.daynoteCategoryColor[i].color);\n                label.css('cursor', 'pointer');\n                label.attr('data-color', this.daynoteCategoryColor[i].color);\n                label.attr('data-clicked', false);\n                label.text(this.daynoteCategoryColor[i].category);\n                div.append(label);\n            }\n            this.element.prepend(div);\n            this.hoverCategory();\n            this.clickCategory();\n        }\n    };\n\n    Calendar.prototype.hoverCategory = function () {\n        var setTimeoutConst, elem,\n            self = this;\n        this.element.find('.calendar-label').hover(\n            function () {\n                elem = $(this);\n                setTimeoutConst = setTimeout(function () {\n                    if (elem.hasClass('calendar-label-daynote')) {\n                        $(self.element).trigger('Calendar.category-daynote-mouseenter', [\n                            self,\n                            elem\n                        ]);\n                    } else {\n                        $(self.element).trigger('Calendar.category-event-mouseenter', [\n                            self,\n                            elem\n                        ]);\n                    }\n                }, self.conf.categories.hover.delay);\n            },\n            function () {\n                clearTimeout(setTimeoutConst);\n                elem = $(this);\n                if (elem.hasClass('calendar-label-daynote')) {\n                    $(self.element).trigger('Calendar.category-daynote-mouseleave', [\n                        self,\n                        elem\n                    ]);\n                } else {\n                    $(self.element).trigger('Calendar.category-event-mouseleave', [\n                        self,\n                        elem\n                    ]);\n                }\n            }\n        );\n    };\n\n    Calendar.prototype.clickCategory = function () {\n        var elem,\n            self = this;\n        this.element.find('.calendar-label').click(function (event) {\n            if ($(event.target).hasClass('calendar-label-daynote')) {\n                $(self.element).trigger('Calendar.category-daynote-click', [\n                    self,\n                    elem\n                ]);\n            } else {\n                $(self.element).trigger('Calendar.category-event-click', [\n                    self,\n                    elem\n                ]);\n            }\n        });\n    };\n\n    Calendar.prototype.positionEvents = function () {\n        switch (this.getView()) {\n            case 'day':\n            case 'week':\n                this.positionEventsInWeek();\n                break;\n\n            case 'month':\n                this.positionEventsInMonth();\n                break;\n        }\n    };\n\n    Calendar.prototype.positionEventsInWeek = function () {\n        var self = this;\n        var zeroLast = 0;\n        this.element.find('.calendar-event').each(function (i) {\n            // Place each event in the grid -> need to set top position and height\n            var start = parseInt($(this).attr('data-start'));\n            var end = parseInt($(this).attr('data-end'));\n            var duration = end - start;\n            var zero = parseInt($(this).closest('li.calendar-events-day').attr('data-time')) + (self.conf.weekday.timeline.fromHour * 60 * 60);\n            if (zero > zeroLast) {\n                zeroLast = zero;\n            }\n            var eventTop = ((start - zero) / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) - 1;\n            var eventHeight = (duration / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) + 1;\n\n            var endsOnCurrent = 0;\n            var nbEventNotOnCurrent = false;\n            var nbEventOnCurrent = 0;\n            var tmp = [];\n            var currentElement = $(this);\n            $(this).closest('ul').find('li.calendar-event').each(function (j, e) {\n                if ($(e)[0] != currentElement[0]) {\n                    if (parseInt(currentElement.attr('data-start')) < parseInt($(e).attr('data-end')) && parseInt(currentElement.attr('data-end')) > parseInt($(e).attr('data-start'))) {\n                        tmp.push($(e));\n                        nbEventOnCurrent++;\n                    }\n                    if (parseInt(currentElement.attr('data-start')) < parseInt($(e).attr('data-end')) && parseInt(currentElement.attr('data-end')) > parseInt($(e).attr('data-end'))) {\n                        endsOnCurrent++;\n                    } else if (parseInt(currentElement.attr('data-start')) == parseInt($(e).attr('data-start')) && parseInt($(e).attr('data-index')) < parseInt(currentElement.attr('data-index'))) {\n                        endsOnCurrent++;\n                    }\n                }\n            });\n\n            var dates = [];\n            dates.push(parseInt(currentElement.attr('data-start')));\n            dates.push(parseInt(currentElement.attr('data-end')));\n\n            for (var i = 0; i < tmp.length; i++) {\n                if (parseInt(tmp[i].attr('data-start')) >= parseInt(currentElement.attr('data-start')) && parseInt(tmp[i].attr('data-start')) <= parseInt(currentElement.attr('data-end'))) {\n                    dates.push(parseInt(tmp[i].attr('data-start')));\n                }\n                if (parseInt(tmp[i].attr('data-end')) >= parseInt(currentElement.attr('data-start')) && parseInt(tmp[i].attr('data-end')) <= parseInt(currentElement.attr('data-end'))) {\n                    dates.push(parseInt(tmp[i].attr('data-end')));\n                }\n            }\n\n            dates = self.miscUniqueArray(dates);\n            dates.sort(function (a, b) {\n                return (a > b) ? 1 : -1;\n            });\n\n            for (var i = 0; i < dates.length; i++) {\n                var enMemeTemps = 0;\n                for (var j = 0; j < tmp.length; j++) {\n                    if (dates[i] > parseInt(tmp[j].attr('data-start')) && dates[i] <= parseInt(tmp[j].attr('data-end'))) {\n                        enMemeTemps++;\n                    }\n                }\n                if ((enMemeTemps > 0 && enMemeTemps > nbEventNotOnCurrent) || nbEventNotOnCurrent === false) {\n                    nbEventNotOnCurrent = enMemeTemps;\n                }\n            }\n\n            currentElement.attr('data-events', nbEventNotOnCurrent + 1);\n            currentElement.attr('data-divider', nbEventNotOnCurrent + 1);\n\n            i = tmp.length;\n            while (i--) {\n                if (parseInt(tmp[i].attr('data-divider')) > parseInt(currentElement.attr('data-divider'))) {\n                    currentElement.attr('data-divider', tmp[i].attr('data-divider'));\n                }\n            }\n\n            var positions = [];\n            for (i = 0; i < parseInt(currentElement.attr('data-divider')); i++) {\n                positions[i] = false;\n                for (var j = 0; j < tmp.length; j++) {\n                    for (var k = 0; k < String(tmp[j].attr('data-positions')).split(',').length; k++) {\n                        var position = String(tmp[j].attr('data-positions')).split(',')[k];\n                        if (position == i) {\n                            positions[i] = true;\n                        }\n                    }\n                }\n            }\n\n            currentElement.attr('data-positions', -1);\n\n            i = 0;\n            while (parseInt(currentElement.attr('data-positions')) == -1) {\n                if (positions[i] === false) {\n                    currentElement.attr('data-positions', i);\n                    if (parseInt(currentElement.attr('data-divider')) - parseInt(currentElement.attr('data-events')) + 1 > 1) {\n                        while (positions[i + 1] === false) {\n                            currentElement.attr('data-positions', currentElement.attr('data-positions') + ',' + (i + 1));\n                            i++;\n                        }\n                    }\n                }\n                i++;\n            }\n            if ((self.conf.rooms !== false) && self.conf.roomlist !== false) {\n                //var eventLeft = (String(currentElement.attr('data-positions')).split(',')[0]\n                var pos = self.conf.roomlist.indexOf(String(currentElement.attr('data-category')));\n                var eventLeft = (String(pos).split(',')[0] / self.conf.rooms) * 100;\n                var eventWidth = 100 / self.conf.rooms;\n            } else {\n                var eventWidth = 100 / (parseInt(currentElement.attr('data-divider')) / String(currentElement.attr('data-positions')).split(',').length);\n                var eventLeft = (String(currentElement.attr('data-positions')).split(',')[0] / parseInt(currentElement.attr('data-divider'))) * 100;\n            }\n            console.log('###rooms:' + self.conf.rooms);\n            self.setEventPosition(this, eventTop, eventHeight, eventLeft, eventWidth);\n        });\n    };\n\n    Calendar.prototype.positionEventsInMonth = function () {\n        var self = this;\n        this.element.find('li.calendar-month-events-day').each(function () {\n            var n = $(this).find('.calendar-event').length;\n            $(this).find('.calendar-event').each(function (i) {\n\n                var eventTop = (parseInt($(this).closest('.calendar-month-events-day').index()) * self.conf.month.weekline.heightPx) + 20 - 1;\n                var eventHeight = self.conf.month.weekline.heightPx - 21 + 1;\n                var eventWidth = 100 / n;\n                var eventLeft = (100 / n) * i;\n\n                self.setEventPosition(this, eventTop, eventHeight, eventLeft, eventWidth);\n            });\n        });\n    };\n\n    Calendar.prototype.setEventPosition = function (elem, eventTop, eventHeight, eventLeft, eventWidth) {\n        $(elem).attr('data-top', eventTop);\n        $(elem).attr('data-height', eventHeight);\n        $(elem).attr('data-left', eventLeft);\n        $(elem).attr('data-width', eventWidth);\n\n        $(elem).css({\n            top: (eventTop) + 'px',\n            height: (eventHeight) + 'px',\n            left: eventLeft + '%',\n            width: eventWidth + '%'\n        });\n    };\n\n    Calendar.prototype.weekDrawEvents = function () {\n        var e, i, day, fromHour, toHour, interval,\n            n = this.events.length;\n        for (i = 0; i < n; i++) {\n            e = this.events[i];\n            day = false;\n            fromHour = this.conf.weekday.timeline.fromHour;\n            toHour = this.conf.weekday.timeline.toHour;\n            interval = this.conf.weekday.timeline.intervalMinutes;\n            $(this.element).find('.calendar-events-day').each(function (i, d) {\n                if (e.start >= (parseInt($(d).attr('data-time')) + fromHour * 60 * 60) && e.end <= (parseInt($(d).attr('data-time')) + toHour * 60 * 60) + ((60 / interval) * interval * 60)) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.start).format('X'),\n                    moment.unix(e.end).format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getEventCategoryColor(e.category),\n                    moment.unix(e.start).format(this.conf.weekday.timeline.format) + ' - ' + moment.unix(e.end).format(this.conf.weekday.timeline.format),\n                    ['calendar-event']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.weekDrawDaynotes = function () {\n        var i, e, day,\n            n = this.daynotes.length;\n        for (i = 0; i < n; i++) {\n            e = this.daynotes[i];\n            day = false;\n            $(this.element).find('.calendar-events-day').each(function (m, d) {\n                if (parseInt(moment.unix(e.time).startOf('day').format('X')) == parseInt($(d).attr('data-time'))) {\n                    day = d;\n                }\n            });\n\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                var color = this.getDaynoteCategoryColor(e.category);\n                var from = this.conf.weekday.timeline.fromHour;\n                var toHour = this.conf.weekday.timeline.toHour + parseInt(this.conf.weekday.timeline.intervalMinutes / 60);\n                var toMin = ((this.conf.weekday.timeline.intervalMinutes / 60) - parseInt(this.conf.weekday.timeline.intervalMinutes / 60)) * 60;\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.time).startOf('day').add(from, 'h').format('X'),\n                    moment.unix(e.time).startOf('day').add(toHour, 'h').add(toMin, 'm').format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getDaynoteCategoryColor(e.category),\n                    '',\n                    ['calendar-event', 'calendar-daynote']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.drawEventsOrDaynotes = function (e, index, start, end, title, content, category, notconfirmed, notmyevent, color, time_interval, classes) {\n\n\n        var li = $('<li>'),\n            i = classes.length;\n        while (i--) {\n            li.addClass(classes[i]);\n        }\n        li.attr('data-index', index);\n        li.attr('data-start', start);\n        li.attr('data-end', end);\n        li.attr('data-title', title);\n        li.attr('data-content', content);\n        li.attr('data-category', category);\n        li.attr('data-notconfirmed', notconfirmed);\n        li.attr('data-notmyevent', notmyevent);\n        li.attr('data-color', color);\n        li.css('background', color);\n        if (notmyevent === '1') {\n            li.css('border', '5px solid ' + this.conf.colors.border2);\n        }\n        if (notconfirmed === '1') {\n            li.css('border', '5px solid ' + this.conf.colors.border1);\n        }\n        a = $('<a>', {\n            href: '#'\n        });\n        a.append($('<em>', {\n            \"class\": 'event-name'\n        }).text(title));\n        a.append($('<em>', {\n            \"class\": 'event-content invisible'\n        }));\n\n        a.find('.event-content').append($('<b>', {\n            \"class\": 'event-date'\n        }).html(time_interval));\n        a.find('.event-content').append($('<br>'));\n        a.find('.event-content').append(content);\n\n        li.append(a);\n        $(e).find('ul').append(li);\n    };\n\n    Calendar.prototype.monthDrawEvents = function () {\n        var i, e, day,\n            n = this.events.length;\n        for (i = 0; i < n; i++) {\n            e = this.events[i];\n            day = false;\n            $(this.element).find('.calendar-month-events-day').each(function (m, d) {\n                if (e.start >= (parseInt($(d).attr('data-time-from'))) && e.end <= (parseInt($(d).attr('data-time-to')))) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.start).format('X'),\n                    moment.unix(e.end).format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getEventCategoryColor(e.category),\n                    moment.unix(e.start).format(this.conf.month.day.format) + ' : ' + moment.unix(e.start).format(this.conf.weekday.timeline.format) + ' - ' + moment.unix(e.end).format(this.conf.weekday.timeline.format),\n                    ['calendar-event']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.monthDrawDaynotes = function () {\n        var i, e, day,\n            n = this.daynotes.length;\n        for (i = 0; i < n; i++) {\n            e = this.daynotes[i];\n            day = false;\n            $(this.element).find('.calendar-month-events-day').each(function (m, d) {\n                if (e.time >= (parseInt($(d).attr('data-time-from'))) && e.time <= (parseInt($(d).attr('data-time-to')))) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.time).startOf('day').format('X'),\n                    moment.unix(e.time).endOf('day').format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getDaynoteCategoryColor(e.category),\n                    moment.unix(e.time).format(this.conf.month.day.format),\n                    ['calendar-event', 'calendar-daynote']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.drawModal = function () {\n        modal = '<div class=\"modal fade\" id=\"calendar-modal\" tabindex=\"-1\" role=\"dialog\">';\n        modal += '<div class=\"modal-dialog\" role=\"document\">';\n        modal += '<div class=\"modal-content\">';\n        modal += '<div class=\"modal-header\">';\n        modal += '<h3 class=\"modal-title\"></h3>';\n        modal += '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>';\n        modal += '</div>';\n        modal += '<div class=\"modal-body\">';\n        modal += '</div>';\n        modal += '</div>';\n        modal += '</div>';\n        modal += '</div>';\n        $(this.element).append(modal);\n    };\n\n    Calendar.prototype.drawNow = function () {\n        if (this.conf.now.enable) {\n            var hr = $('<hr>', {\n                \"class\": 'featurette-divider calendar-now'\n            });\n            hr.css('width', '100%');\n            hr.css('position', 'absolute');\n            hr.css('z-index', 3);\n            hr.css('border-top', this.conf.now.heightPx + 'px ' + this.conf.now.style + ' ' + this.conf.now.color);\n            var top = ((moment().format('X') - moment().startOf('day').add(this.conf.weekday.timeline.fromHour, 'h').format('X')) / 60 / this.conf.weekday.timeline.intervalMinutes * this.conf.weekday.timeline.heightPx) - (this.conf.weekday.timeline.heightPx / 2);\n            hr.css('top', top + 'px');\n            this.element.find('li.calendar-events-day[data-time=\"' + moment().startOf('day').format('X') + '\"]').find('ul').append(hr);\n            if (this.conf.now.refresh) {\n                var self = this;\n                setInterval(function () {\n                    var hr = self.element.find('hr.calendar-now').remove();\n                    var hr = $('<hr>', {\n                        \"class\": 'featurette-divider calendar-now'\n                    });\n                    hr.css('width', '100%');\n                    hr.css('position', 'absolute');\n                    hr.css('z-index', 2);\n                    hr.css('border-top', self.conf.now.heightPx + 'px ' + self.conf.now.style + ' ' + self.conf.now.color);\n                    var top = ((moment().format('X') - moment().startOf('day').add(self.conf.weekday.timeline.fromHour, 'h').format('X')) / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) - (self.conf.weekday.timeline.heightPx / 2);\n                    hr.css('top', top + 'px');\n                    self.element.find('li.calendar-events-day[data-time=\"' + moment().startOf('day').format('X') + '\"]').find('ul').append(hr);\n                }, 10000);\n            }\n        }\n    };\n\n    Calendar.prototype.hoverEventOrDaynote = function () {\n        var self = this;\n        this.element.find('.calendar-event').each(function () {\n            var setTimeoutConst;\n            $(this).hover(\n                function () {\n                    elem = $(this);\n                    setTimeoutConst = setTimeout(function () {\n                        if (elem.hasClass('calendar-daynote')) {\n                            $(self.element).trigger('Calendar.daynote-mouseenter', [\n                                self,\n                                elem\n                            ]);\n                        } else {\n                            $(self.element).trigger('Calendar.event-mouseenter', [\n                                self,\n                                elem\n                            ]);\n                        }\n\n                    }, self.conf.event.hover.delay);\n                },\n                function () {\n                    clearTimeout(setTimeoutConst);\n                    elem = $(this);\n                    if (elem.hasClass('calendar-daynote')) {\n                        $(self.element).trigger('Calendar.daynote-mouseleave', [\n                            self,\n                            elem\n                        ]);\n                    } else {\n                        $(self.element).trigger('Calendar.event-mouseleave', [\n                            self,\n                            elem\n                        ]);\n                    }\n\n                }\n            );\n        });\n    };\n\n    Calendar.prototype.clickEventOrDaynote = function () {\n        var self = this;\n        this.element.find('.calendar-event').each(function () {\n            $(this).click(function (event) {\n                event.preventDefault();\n                event.stopPropagation();\n                elem = $(event.target);\n                if (elem.prop('nodeName') !== 'LI' && !elem.hasClass('calendar-event')) {\n                    elem = elem.closest('li.calendar-event');\n                }\n                if (elem.hasClass('calendar-daynote')) {\n                    $(self.element).trigger('Calendar.daynote-click', [\n                        self,\n                        elem,\n                        self.daynotes[parseInt(elem.attr('data-index'))]\n                    ]);\n                } else {\n                    $(self.element).trigger('Calendar.event-click', [\n                        self,\n                        elem,\n                        self.events[parseInt(elem.attr('data-index'))]\n                    ]);\n                }\n            });\n        });\n    };\n\n    Calendar.prototype.resizeTimeline = function () {\n        var j = this.events.length;\n        while (j--) {\n            if (parseInt(moment.unix(this.events[j].start).format('HH')) < this.conf.weekday.timeline.fromHour) {\n                this.conf.weekday.timeline.fromHour = parseInt(moment.unix(this.events[j].start).format('HH'));\n            }\n            if (parseInt(this.events[j].end) > parseInt(moment.unix(this.events[j].end).startOf('day').add(this.conf.weekday.timeline.toHour, 'hour').format('X'))) {\n                this.conf.weekday.timeline.toHour = parseInt(moment.unix(this.events[j].end).hour());\n                if (this.conf.weekday.timeline.toHour < 23) {\n                    this.conf.weekday.timeline.toHour++;\n                }\n            }\n        }\n    };\n\n    Calendar.prototype.getViewDays = function () {\n        var days = [];\n        if (this.getView() == 'day') {\n            days.push(parseInt(moment.unix(this.conf.unixTimestamp).format('X')));\n        }\n        if (this.getView() == 'week') {\n            for (var i = 0; i < this.conf.weekday.dayline.weekdays.length; i++) {\n                days.push(parseInt(moment.unix(this.conf.unixTimestamp).startOf('week').add(this.conf.weekday.dayline.weekdays[i], 'days').format('X')));\n            }\n        }\n        if (this.getView() == 'month') {\n            var nbDaysInMonth = moment.unix(this.conf.unixTimestamp).daysInMonth();\n            var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n            for (var i = 0; i < nbDaysInMonth; i++) {\n                days.push(parseInt(time.startOf('day').format('X')));\n                time.add(1, 'days');\n            }\n        }\n        return days;\n    };\n\n    Calendar.prototype.addBtnLeftRight = function () {\n        var self = this;\n        this.element.find('.btn-move-calendar').click(function (event) {\n            var elem = $(event.target);\n            if (elem.prop('nodeName') !== 'BUTTON') {\n                elem = elem.closest('.btn-move-calendar');\n            }\n            self.moveCurrentIntervalView($(elem).attr('data-direction'));\n        });\n    };\n\n    Calendar.prototype.addSwipe = function () {\n        var self = this;\n        self.element.find('.calendar-events').swipe({\n            swipe: function (event, direction) {\n                if (direction == 'left' || direction == 'right') {\n                    // Le swipe est Ã  l'envers\n                    if (direction == 'left') {\n                        direction = 'right';\n                    } else if (direction == 'right') {\n                        direction = 'left';\n                    }\n                    self.moveCurrentIntervalView(direction);\n                }\n            },\n            threshold: 100,\n            allowPageScroll: 'auto'\n        });\n    };\n\n    Calendar.prototype.clickSwitchView = function () {\n        var self = this;\n        // Monthtoweek\n        $(this.element).find('.monthtoweek').click(function () {\n            self.setTimestamp(parseInt($(this).find('span').attr('data-timestamp')));\n            self.setView('week');\n            self.init();\n        });\n        // Weektomonth\n        $(this.element).find('.weektomonth').click(function () {\n            self.setView('month');\n            self.init();\n        });\n        // Daytoweek\n        $(this.element).find('.daytoweek').click(function () {\n            self.setView('week');\n            self.init();\n        });\n        // Weektoday\n        $(this.element).find('.weektoday').click(function () {\n            self.setTimestamp($(this).closest('.calendar-events-day').attr('data-time'));\n            self.setView('day');\n            self.init();\n        });\n    };\n\n    Calendar.prototype.keyboardSwitchView = function () {\n        if (!this.conf.enableKeyboard) {\n            return;\n        }\n        var self = this;\n        $(window).unbind('keydown').on('keydown', function (x) {\n            // Ctrl + left\n            if (x.keyCode == 37 && x.ctrlKey) {\n                self.moveCurrentIntervalView('left');\n            }\n            // Ctrl + right\n            if (x.keyCode == 39 && x.ctrlKey) {\n                self.moveCurrentIntervalView('right');\n            }\n            // Ctrl + up\n            if (x.keyCode == 38 && x.ctrlKey) {\n                if (self.getView() == 'week') {\n                    self.setView('month');\n                    self.init();\n                }\n                if (self.getView() == 'day') {\n                    self.setView('week');\n                    self.init();\n                }\n            }\n            // Ctrl + down\n            if (x.keyCode == 40 && x.ctrlKey) {\n                if (self.getView() == 'week') {\n                    self.setView('day');\n                    self.init();\n                }\n                if (self.getView() == 'month') {\n                    self.setView('week');\n                    self.init();\n                }\n            }\n        });\n    };\n\n    Calendar.prototype.moveCurrentIntervalView = function (direction) {\n        var word,\n            self = this;\n        if (this.getView() == 'day') {\n            word = 'days';\n        }\n        if (this.getView() == 'week') {\n            word = 'week';\n        }\n        if (this.getView() == 'month') {\n            word = 'month';\n        }\n        if (direction == 'left') {\n            this.conf.unixTimestamp = parseInt(moment.unix(self.conf.unixTimestamp).subtract(1, word).format('X'));\n        }\n        if (direction == 'right') {\n            this.conf.unixTimestamp = parseInt(moment.unix(self.conf.unixTimestamp).add(1, word).format('X'));\n        }\n        this.init();\n    };\n\n    Calendar.prototype.mobileQuery = function () {\n        return $(window).width() < this.conf.defaultView.smallScreenThreshold ? 'mobile' : 'desktop';\n    };\n\n    Calendar.prototype.hexToRgb = function (hex) {\n        var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : null;\n    };\n\n    Calendar.prototype.calculateCurrentInterval = function () {\n        var days = this.getViewDays();\n        this.fromTimestamp = parseInt(moment.unix(days[0]).startOf('day').format('X'));\n        this.toTimestamp = parseInt(moment.unix(days[days.length - 1]).endOf('day').format('X'));\n    };\n\n    Calendar.prototype.getCategories = function (object, attribute1, attribute2) {\n        var categories = [],\n            e,\n            n = object.length,\n            fromTimeStamp = parseInt(this.fromTimestamp),\n            toTimeStamp = parseInt(this.toTimestamp);\n\n        for (var i = 0; i < n; i++) {\n            e = object[i];\n            if (parseInt(e[attribute1]) >= fromTimeStamp && parseInt(e[attribute2]) <= toTimeStamp) {\n                categories.push(e.category);\n            }\n        }\n        var roomlist = this.conf.roomlist;\n        categories = roomlist.filter(v => categories.includes(v));\n        return this.miscUniqueArray(categories);\n    };\n\n    Calendar.prototype.getCategoryColor = function (category, object, colors, color) {\n        console.log('###category:' + category);\n        console.log('###object:' + JSON.stringify(object, null, 4));\n        console.log('###colors:' + colors);\n        console.log('###color:' + color);\n        var roomcolors = JSON.parse($(\"#calendar-roomcategories\").attr(\"data-calendar-roomcolors\"));\n        console.log('###COLORS:' + JSON.stringify(roomcolors, null, 4));\n\n        var used, j,\n            i = roomcolors.length;\n        while (i--) {\n            if (roomcolors[i].category == category) {\n                object.unshift({\n                    category: category,\n                    color: roomcolors[i].color\n                });\n                return roomcolors[i].color;\n            }\n        }\n// var i = object.length;\n//     while (i--) {\n//       if (object[i].category == category) {\n//         return object[i].color;\n//       }\n//     }\n\n        for (i = 0; i < colors.length; i++) {\n            used = false;\n            j = object.length;\n            while (j--) {\n                if (object[j].color == colors[i]) {\n                    used = true;\n                }\n            }\n            if (!used) {\n                object.push({\n                    category: category,\n                    color: colors[i]\n                });\n                return colors[i];\n            }\n        }\n        return color;\n    };\n\n    Calendar.prototype.getEventsCategories = function () {\n        return this.getCategories(this.events, 'start', 'end');\n    };\n\n    Calendar.prototype.determineEventsCategories = function () {\n        var categories = this.getEventsCategories();\n        this.eventCategoryColor = (this.userEventCategoryColor.length > 0) ? this.userEventCategoryColor : [];\n        var i = categories.length;\n        while (i--) {\n            this.getEventCategoryColor(categories[i]);\n        }\n    };\n\n    Calendar.prototype.getEventCategoryColor = function (category) {\n        return this.getCategoryColor(category, this.eventCategoryColor, this.conf.colors.events, '#000000');\n    };\n\n    Calendar.prototype.getEventCategoriesColors = function () {\n        return this.eventCategoryColor;\n    };\n\n    Calendar.prototype.setEventCategoriesColors = function (categoriesColors) {\n        this.userEventCategoryColor = categoriesColors;\n    };\n\n    Calendar.prototype.getDaynotesCategories = function () {\n        return this.getCategories(this.daynotes, 'time', 'time');\n    };\n\n    Calendar.prototype.determineDaynotesCategories = function () {\n        var categories = this.getDaynotesCategories();\n        this.daynoteCategoryColor = (this.userDaynoteCategoryColor.length > 0) ? this.userDaynoteCategoryColor : [];\n        var i = categories.length;\n        while (i--) {\n            this.getDaynoteCategoryColor(categories[i]);\n        }\n    };\n\n    Calendar.prototype.getDaynoteCategoryColor = function (category) {\n        return this.getCategoryColor(category, this.daynoteCategoryColor, this.conf.colors.daynotes, '#FEFEFE');\n    };\n\n    Calendar.prototype.getDaynoteCategoriesColors = function () {\n        return this.daynoteCategoryColor;\n    };\n\n    Calendar.prototype.setDaynoteCategoriesColors = function (categoriesColors) {\n        this.userDaynoteCategoryColor = categoriesColors;\n    };\n\n    Calendar.prototype.getEventColors = function () {\n        return this.conf.colors.events;\n    };\n\n    Calendar.prototype.setEventColors = function (array) {\n        this.conf.colors.events = this.miscDedupeArray(array);\n        if (this.conf.colors.random) {\n            this.conf.colors.events.sort(function () {\n                return 0.5 - Math.random();\n            });\n        }\n    };\n\n    Calendar.prototype.getDaynoteColors = function () {\n        return this.conf.colors.daynotes;\n    };\n\n    Calendar.prototype.setDaynoteColors = function (array) {\n        this.conf.colors.daynotes = this.miscDedupeArray(array);\n        if (this.conf.colors.random) {\n            this.conf.colors.daynotes.sort(function () {\n                return 0.5 - Math.random();\n            });\n        }\n    };\n\n    Calendar.prototype.getEvents = function () {\n        return this.events;\n    };\n\n    Calendar.prototype.setEvents = function (events) {\n        this.events = (events) ? events : [];\n        this.events.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.addEvents = function (events) {\n        this.events = this.events.concat(events);\n        this.events.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.getDaynotes = function () {\n        return this.daynotes;\n    };\n\n    Calendar.prototype.setDaynotes = function (daynotes) {\n        this.daynotes = (daynotes) ? daynotes : [];\n        this.daynotes.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.addDaynotes = function (daynotes) {\n        this.daynotes = this.daynotes.concat(daynotes);\n        this.daynotes.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.getInitTime = function () {\n        return this.initTime;\n    };\n\n    Calendar.prototype.getViewInterval = function () {\n        return [this.fromTimestamp, this.toTimestamp];\n    };\n\n    Calendar.prototype.getNextViewInterval = function () {\n        var add = {'day': 'd', 'week': 'w', 'month': 'M'};\n        add = add[this.getView()];\n        return [\n            parseInt(moment.unix(this.fromTimestamp).add(1, add).format('X')),\n            parseInt(moment.unix(this.toTimestamp).add(1, add).format('X'))\n        ];\n\n    };\n\n    Calendar.prototype.getPrevViewInterval = function () {\n        var sub = {'day': 'd', 'week': 'w', 'month': 'M'};\n        sub = sub[this.getView()];\n        return [\n            parseInt(moment.unix(this.fromTimestamp).subtract(1, sub).format('X')),\n            parseInt(moment.unix(this.toTimestamp).subtract(1, sub).format('X'))\n        ];\n    };\n\n    Calendar.prototype.getTimestamp = function () {\n        return this.conf.unixTimestamp;\n    };\n\n    Calendar.prototype.setTimestamp = function (timestamp) {\n        this.conf.unixTimestamp = parseInt(timestamp);\n    };\n\n    Calendar.prototype.getView = function () {\n        return this.conf.view;\n    };\n\n    Calendar.prototype.setView = function (view) {\n        if (view == 'day' || view == 'week' || view == 'month') {\n            this.conf.view = view;\n        }\n    };\n\n    Calendar.prototype.miscDedupeArray = function (a) {\n        a = a.concat();\n        for (var i = 0; i < a.length; ++i) {\n            for (var j = i + 1; j < a.length; ++j) {\n                if (a[i] === a[j]) {\n                    a.splice(j--, 1);\n                }\n            }\n        }\n        return a;\n    };\n\n    Calendar.prototype.miscUniqueArray = function (a) {\n        a = a.concat();\n        for (var i = 0; i < a.length; ++i) {\n            for (var j = i + 1; j < a.length; ++j) {\n                if (a[i] === a[j]) {\n                    a.splice(j--, 1);\n                }\n            }\n        }\n        return a;\n    };\n\n    Calendar.prototype.miscUcfirstString = function (s) {\n        return s.charAt(0).toUpperCase() + s.slice(1);\n    };\n\n    var objSchedulesPlan = [];\n\n    // Initialization\n    jQuery.extend(jQuery.fn, {\n        Calendar: function (objArgs) {\n            var c = new Calendar($(this), (objArgs === undefined) ? {} : objArgs);\n            objSchedulesPlan.push(c);\n            return c;\n        }\n    });\n\n    // Reinitialization on screen rotation\n    var resizeListener1;\n    var pause1 = 500;\n    window.addEventListener(\"orientationchange\", function () {\n        clearTimeout(resizeListener1);\n        resizeListener1 = setTimeout(function () {\n            objSchedulesPlan.forEach(function (obj) {\n                obj.init();\n            });\n        }, pause1);\n    });\n\n    // Reinitialization on screen resize if not mobile\n    var resizeListener2;\n    var pause2 = 500;\n    window.addEventListener(\"resize\", function () {\n        clearTimeout(resizeListener2);\n        resizeListener2 = setTimeout(function () {\n            objSchedulesPlan.forEach(function (obj) {\n                if (obj.mobileQuery() == 'desktop') {\n                    obj.init();\n                }\n            });\n        }, pause2);\n    });\n\n});\n"],"names":["jQuery","document","ready","$","Calendar","element","Args","moment","eventColors","daynoteColors","conf","locale","view","rooms","roomlist","enableKeyboard","defaultView","largeScreen","smallScreen","smallScreenThreshold","weekday","timeline","fromHour","toHour","intervalMinutes","format","heightPx","autoResize","undefined","dayline","weekdays","month","weekFormat","weekline","dayheader","day","unixTimestamp","event","hover","delay","colors","events","daynotes","random","border1","border2","categories","enable","now","refresh","style","color","this","setEventColors","setDaynoteColors","eventCategoryColor","daynoteCategoryColor","userEventCategoryColor","userDaynoteCategoryColor","setEvents","setDaynotes","mobileQuery","setView","initTime","console","error","prototype","init","millis","Date","addClass","calculateCurrentInterval","trigger","getPrevViewInterval","getViewInterval","getNextViewInterval","html","hasClass","getView","resizeTimeline","drawCategories","weekDrawTime","weekDrawDays","weekDrawDaynotes","weekDrawEvents","monthDrawWeek","monthDrawWeekNumbers","monthDrawWeekDays","monthDrawDaynotes","monthDrawEvents","drawModal","drawNow","positionEvents","hoverEventOrDaynote","clickEventOrDaynote","addBtnLeftRight","addSwipe","clickSwitchView","keyboardSwitchView","defaultEvents","removeClass","binded","eventMouseenterDefault","self","elem","isDefaultPrevented","parseInt","css","closest","height","animate","top","width","left","find","off","on","eventMouseleaveDefault","parseFloat","attr","eventClickDefault","evt","modal","rgb","hexToRgb","r","g","b","append","text","e","target","eventCategoryClickDefault","opacity","eventCategoryMouseenterDefault","each","i","eventCategoryMouseleaveDefault","marginTop","$categoryBar","li","ul","time","startOf","add","limit","div","miscUcfirstString","unix","days","getViewDays","length","dayOfWeek","getDay","isWeekend","maxHeight","week","nbWeeks","targetUl","subtract","parent","endOf","determineEventsCategories","determineDaynotesCategories","label","category","prepend","hoverCategory","clickCategory","setTimeoutConst","setTimeout","clearTimeout","click","positionEventsInWeek","positionEventsInMonth","zeroLast","start","duration","zero","eventTop","eventHeight","nbEventNotOnCurrent","tmp","currentElement","j","push","endsOnCurrent","dates","miscUniqueArray","sort","a","enMemeTemps","positions","k","String","split","pos","indexOf","eventLeft","eventWidth","log","setEventPosition","n","index","interval","d","end","drawEventsOrDaynotes","title","content","notconfirmed","notmyevent","getEventCategoryColor","m","getDaynoteCategoryColor","from","toMin","time_interval","classes","href","hr","setInterval","remove","preventDefault","stopPropagation","prop","hour","nbDaysInMonth","daysInMonth","moveCurrentIntervalView","swipe","direction","threshold","allowPageScroll","setTimestamp","window","unbind","x","keyCode","ctrlKey","word","hex","replace","result","exec","fromTimestamp","toTimestamp","getCategories","object","attribute1","attribute2","fromTimeStamp","toTimeStamp","filter","v","includes","getCategoryColor","JSON","stringify","roomcolors","parse","used","unshift","getEventsCategories","getEventCategoriesColors","setEventCategoriesColors","categoriesColors","getDaynotesCategories","getDaynoteCategoriesColors","setDaynoteCategoriesColors","getEventColors","array","miscDedupeArray","Math","getDaynoteColors","getEvents","addEvents","concat","getDaynotes","addDaynotes","getInitTime","sub","getTimestamp","timestamp","splice","s","charAt","toUpperCase","slice","resizeListener1","objSchedulesPlan","extend","fn","objArgs","c","resizeListener2","addEventListener","forEach","obj"],"mappings":";;;;;;AAQAA,OAAOC,UAAUC,OAAM,SAAUC,YACpBC,SAASC,QAASC,SAEC,mBAAZC,YAMRC,YAAc,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIAC,cAAgB,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,gBAICC,KAAO,CACRC,OAASL,KAAKK,OAAUL,KAAKK,OAAS,KACtCC,KAAM,OACNC,OAAuB,IAAfP,KAAKO,OAAmBP,KAAKO,MACrCC,UAA6B,IAAlBR,KAAKQ,UAAsBR,KAAKQ,SAC3CC,gBAAiBT,KAAKS,gBAAkBT,KAAKS,eAC7CC,YAAa,CACTC,YAAcX,KAAKU,aAAgBV,KAAKU,YAAYC,YAAgBX,KAAKU,YAAYC,YAAwB,OAC7GC,YAAcZ,KAAKU,aAAgBV,KAAKU,YAAYE,YAAgBZ,KAAKU,YAAYE,YAAuB,MAC5GC,qBAAuBb,KAAKU,aAAgBV,KAAKU,YAAYG,qBAAyBb,KAAKU,YAAYG,qBAA+B,KAE1IC,QAAS,CACLC,SAAU,CACNC,SAAWhB,KAAKc,SAAYd,KAAKc,QAAQC,UAAaf,KAAKc,QAAQC,SAASC,SAAYhB,KAAKc,QAAQC,SAASC,SAAmB,EACjIC,OAASjB,KAAKc,SAAYd,KAAKc,QAAQC,UAAaf,KAAKc,QAAQC,SAASE,OAAUjB,KAAKc,QAAQC,SAASE,OAAmB,GAC7HC,gBAAkBlB,KAAKc,SAAYd,KAAKc,QAAQC,UAAaf,KAAKc,QAAQC,SAASG,gBAAmBlB,KAAKc,QAAQC,SAASG,gBAA4B,GACxJC,OAASnB,KAAKc,SAAYd,KAAKc,QAAQC,UAAaf,KAAKc,QAAQC,SAASI,OAAUnB,KAAKc,QAAQC,SAASI,OAA6B,QACvIC,SAAWpB,KAAKc,SAAYd,KAAKc,QAAQC,UAAaf,KAAKc,QAAQC,SAASK,SAAYpB,KAAKc,QAAQC,SAASK,SAAqB,GACnIC,YAAarB,KAAKc,WAAYd,KAAKc,QAAQC,gBAAkDO,IAArCtB,KAAKc,QAAQC,SAASM,YAA4BrB,KAAKc,QAAQC,SAASM,cAEpIE,QAAS,CACLC,SAAWxB,KAAKc,SAAYd,KAAKc,QAAQS,SAAYvB,KAAKc,QAAQS,QAAQC,SAAYxB,KAAKc,QAAQS,QAAQC,SAA2D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACzLL,OAASnB,KAAKc,SAAYd,KAAKc,QAAQS,SAAYvB,KAAKc,QAAQS,QAAQJ,OAAUnB,KAAKc,QAAQS,QAAQJ,OAAuC,aAC9IC,SAAWpB,KAAKc,SAAYd,KAAKc,QAAQS,SAAYvB,KAAKc,QAAQS,QAAQH,UAAYpB,KAAKc,QAAQS,QAAQH,UAAYpB,KAAKc,QAAQS,QAAQH,SAAW,GAAMpB,KAAKc,QAAQS,QAAQH,SAA+B,GACjNK,MAAO,CACHN,OAASnB,KAAKc,SAAYd,KAAKc,QAAQS,SAAYvB,KAAKc,QAAQS,QAAQE,OAAUzB,KAAKc,QAAQS,QAAQE,MAAMN,OAAUnB,KAAKc,QAAQS,QAAQE,MAAMN,OAAmD,YACrMC,SAAWpB,KAAKc,SAAYd,KAAKc,QAAQS,SAAYvB,KAAKc,QAAQS,QAAQE,OAAUzB,KAAKc,QAAQS,QAAQE,MAAML,SAAYpB,KAAKc,QAAQS,QAAQE,MAAML,SAA0B,GAChLM,WAAa1B,KAAKc,SAAYd,KAAKc,QAAQS,SAAYvB,KAAKc,QAAQS,QAAQE,OAAUzB,KAAKc,QAAQS,QAAQE,MAAMC,WAAc1B,KAAKc,QAAQS,QAAQE,MAAMC,WAA+B,OAIrMD,MAAO,CACHN,OAASnB,KAAKyB,OAAUzB,KAAKyB,MAAMN,OAAUnB,KAAKyB,MAAMN,OAAuB,YAC/EC,SAAWpB,KAAKyB,OAAUzB,KAAKyB,MAAML,UAAapB,KAAKyB,MAAML,SAAW,GAAMpB,KAAKyB,MAAML,SAAqB,GAC9GO,SAAU,CACNR,OAASnB,KAAKyB,OAAUzB,KAAKyB,MAAME,UAAa3B,KAAKyB,MAAME,SAASR,OAAUnB,KAAKyB,MAAME,SAASR,OAAqB,IACvHC,SAAWpB,KAAKyB,OAAUzB,KAAKyB,MAAME,UAAa3B,KAAKyB,MAAME,SAASP,SAAYpB,KAAKyB,MAAME,SAASP,SAAqB,IAE/HQ,UAAW,CACPJ,SAAWxB,KAAKyB,OAAUzB,KAAKyB,MAAMG,WAAc5B,KAAKyB,MAAMG,UAAUJ,SAAYxB,KAAKyB,MAAMG,UAAUJ,SAA2D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvLL,OAASnB,KAAKyB,OAAUzB,KAAKyB,MAAMG,WAAc5B,KAAKyB,MAAMG,UAAUT,OAAUnB,KAAKyB,MAAMG,UAAUT,OAA2B,OAChIC,SAAWpB,KAAKyB,OAAUzB,KAAKyB,MAAMG,WAAc5B,KAAKyB,MAAMG,UAAUR,SAAYpB,KAAKyB,MAAMG,UAAUR,SAAqB,IAElIS,IAAK,CACDV,OAASnB,KAAKyB,OAAUzB,KAAKyB,MAAMI,KAAQ7B,KAAKyB,MAAMI,IAAIV,OAAUnB,KAAKyB,MAAMI,IAAIV,OAA6B,UAGxHW,cAAgB9B,KAAK8B,cAAiB9B,KAAK8B,cAAgB7B,SAASkB,OAAO,KAC3EY,MAAO,CACHC,MAAO,CACHC,MAAQjC,KAAK+B,OAAU/B,KAAK+B,MAAMC,OAAUhC,KAAK+B,MAAMC,MAAMC,MAASjC,KAAK+B,MAAMC,MAAMC,MAAoB,MAGnHC,OAAQ,CACJC,OAASnC,KAAKkC,QAAWlC,KAAKkC,OAAOC,OAAUnC,KAAKkC,OAAOC,OAAuBjC,YAClFkC,SAAWpC,KAAKkC,QAAWlC,KAAKkC,OAAOE,SAAYpC,KAAKkC,OAAOE,SAA2BjC,cAC1FkC,QAASrC,KAAKkC,UAAWlC,KAAKkC,OAAOG,QAAUrC,KAAKkC,OAAOG,QAC3DC,QAAUtC,KAAKkC,QAAWlC,KAAKkC,OAAOI,QAAYtC,KAAKkC,OAAOI,QAAuB,UACrFC,QAAUvC,KAAKkC,QAAWlC,KAAKkC,OAAOK,QAAYvC,KAAKkC,OAAOK,QAAuB,WAEzFC,WAAY,CACRC,QAASzC,KAAKwC,kBAA0ClB,IAA3BtB,KAAKwC,WAAWC,QAAwBzC,KAAKwC,WAAWC,QACrFT,MAAO,CACHC,MAAQjC,KAAKwC,YAAexC,KAAKwC,WAAWR,OAAUhC,KAAKwC,WAAWR,MAAMC,MAASjC,KAAKwC,WAAWR,MAAMC,MAAoB,MAGvIS,IAAK,CACDD,SAASzC,KAAK0C,WAA4BpB,IAApBtB,KAAK0C,IAAID,QAAyBzC,KAAK0C,IAAID,QACjEE,UAAU3C,KAAK0C,WAA6BpB,IAArBtB,KAAK0C,IAAIC,SAA0B3C,KAAK0C,IAAIC,SACnEvB,SAAWpB,KAAK0C,KAAQ1C,KAAK0C,IAAItB,SAAapB,KAAK0C,IAAItB,SAAgB,EACvEwB,MAAQ5C,KAAK0C,KAAQ1C,KAAK0C,IAAIE,MAAU5C,KAAK0C,IAAIE,MAAmB,QACpEC,MAAQ7C,KAAK0C,KAAQ1C,KAAK0C,IAAIG,MAAU7C,KAAK0C,IAAIG,MAAqB,YAK9E5C,OAAOI,OAAOyC,KAAK1C,KAAKC,aAGnB0C,eAAeD,KAAK1C,KAAK8B,OAAOC,aAChCa,iBAAiBF,KAAK1C,KAAK8B,OAAOE,eAGlCa,mBAAqB,QACrBC,qBAAuB,QAGvBC,uBAAyB,QACzBC,yBAA2B,QAG3BC,UAAWrD,KAAKmC,OAAUnC,KAAKmC,OAAS,SAGxCmB,YAAatD,KAAKoC,SAAYpC,KAAKoC,SAAW,IAGzB,UAAtBU,KAAKS,mBACAC,QAAQV,KAAK1C,KAAKM,YAAYE,kBAE9B4C,QAAQV,KAAK1C,KAAKM,YAAYC,kBAIlCZ,QAAUA,aACV0D,UAAW,OA7JZC,QAAQC,MAAM,gCAgKtB7D,SAAS8D,UAAUC,KAAO,eAClBC,OAASC,KAAKrB,WACb3C,QAAQiE,SAAS,gBACjBC,2BACLpE,EAAEiD,KAAK/C,SAASmE,QAAQ,gBAAiB,CACrCpB,KACAA,KAAKqB,sBACLrB,KAAKsB,kBACLtB,KAAKuB,wBAETxE,EAAEiD,KAAK/C,SAASuE,KAAK,IAChBzE,EAAEiD,KAAK/C,SAASwE,SAAS,aAC1B1E,EAAEiD,KAAK/C,SAASiE,SAAS,YAEP,OAAlBlB,KAAK0B,WAAwC,QAAlB1B,KAAK0B,WAC5B1B,KAAK1C,KAAKU,QAAQC,SAASM,iBACtBoD,sBAGRC,iBACiB,OAAlB5B,KAAK0B,WAAwC,QAAlB1B,KAAK0B,iBAC3BG,oBACAC,oBACAC,wBACAC,kBAEa,SAAlBhC,KAAK0B,iBACAO,qBACAC,4BACAC,yBACAC,yBACAC,wBAEJC,iBACAC,eACAC,sBACAC,2BACAC,2BACAC,uBACAC,gBACAC,uBACAC,0BACAC,qBACA9F,QAAQ+F,YAAY,gBACpBrC,SAAYM,KAAKrB,MAAQoB,OAAU,MAG5ChE,SAAS8D,UAAUiC,cAAgB,cACZ,GAAf/C,KAAKiD,YAILC,uBAAyB,SAAUjE,MAAOkE,KAAMC,UAC3CnE,MAAMoE,qBAAsB,IACzBC,SAASF,KAAKG,IAAI,SAAYH,KAAKI,QAAQ,MAAMC,SAAW,EAAKN,KAAK7F,KAAKU,QAAQC,SAASK,SAAU,KAClGA,SAAWgF,SAASF,KAAKG,IAAI,QAAUD,SAASF,KAAKG,IAAI,WAC7DH,KACKG,IAAI,UAAW,IACfG,QAAQ,CACLD,OAAQnF,SACRqF,IAAK,EACLC,MAAO,OACPC,KAAM,GACP,QAEJ,CACCvF,SAAW8E,KAAKI,QAAQ,MAAMC,SAAWH,SAASF,KAAKG,IAAI,QAC/DH,KACKG,IAAI,UAAW,IACfG,QAAQ,CACLD,OAAQnF,SACRsF,MAAO,OACPC,KAAM,GACP,IAGXT,KAAKU,KAAK,eAAed,YAAY,aACrCI,KAAKU,KAAK,kBAAkBd,YAAY,eAGhDjG,EA7BWiD,KA6BJ/C,SAAS8G,IAAI,4BAA6Bb,wBAAwBc,GAAG,4BAA6Bd,wBACzGnG,EA9BWiD,KA8BJ/C,SAAS8G,IAAI,8BAA+Bb,wBAAwBc,GAAG,8BAA+Bd,4BAEzGe,uBAAyB,SAAUhF,MAAOkE,KAAMC,MAC3CnE,MAAMoE,uBACPD,KACKG,IAAI,UAAW,QACfG,QAAQ,CACLD,OAAQS,WAAWd,KAAKe,KAAK,gBAAkB,KAC/CR,IAAKO,WAAWd,KAAKe,KAAK,aAC1BP,MAAOM,WAAWd,KAAKe,KAAK,eAAiB,IAC7CN,KAAMK,WAAWd,KAAKe,KAAK,cAAgB,KAC5C,IAEPf,KAAKU,KAAK,kBAAkB5C,SAAS,eAG7CnE,EA9CWiD,KA8CJ/C,SAAS8G,IAAI,4BAA6BE,wBAAwBD,GAAG,4BAA6BC,wBACzGlH,EA/CWiD,KA+CJ/C,SAAS8G,IAAI,8BAA+BE,wBAAwBD,GAAG,8BAA+BC,4BAEzGG,kBAAoB,SAAUnF,MAAOkE,KAAMC,KAAMiB,SAC5CpF,MAAMoE,qBAAsB,KACzBiB,MAAQvH,EAAEoG,KAAKlG,SAAS6G,KAAK,mBAC7BS,IAAMpB,KAAKqB,SAASpB,KAAKe,KAAK,eAClCG,MAAMf,IAAI,aAAc,QAAUgB,IAAIE,EAAI,KAAOF,IAAIG,EAAI,KAAOH,IAAII,EAAI,UACxEL,MAAMR,KAAK,gBAAgBc,OAAOxB,KAAKe,KAAK,cAAgB,KAC5DG,MAAMR,KAAK,eAAec,OACtB7H,EAAE,QAAQ6H,OACN7H,EAAEiD,MAAMwD,QAAQ,wBAAwBM,KAAK,QAAQtC,QACvDoD,OACE,KACFA,OACE7H,EAAE,WAAW8H,KAAKzB,KAAKU,KAAK,eAAee,UAGnDP,MAAMR,KAAK,eAAec,OAAOxB,KAAKU,KAAK,kBAAkBtC,QAC7D8C,MAAMA,MAAM,QACZA,MAAMN,GAAG,mBAAmB,SAAUc,GAClC/H,EAAE+H,EAAEC,QAAQjB,KAAK,gBAAgBtC,KAAK,IACtCzE,EAAE+H,EAAEC,QAAQjB,KAAK,eAAetC,KAAK,SAIjDzE,EAxEWiD,KAwEJ/C,SAAS8G,IAAI,uBAAwBK,mBAAmBJ,GAAG,uBAAwBI,mBAC1FrH,EAzEWiD,KAyEJ/C,SAAS8G,IAAI,yBAA0BK,mBAAmBJ,GAAG,yBAA0BI,uBAE1FY,0BAA4B,SAAU/F,MAAOkE,KAAMC,UAC9CnE,MAAMoE,qBAAsB,KACzBhE,OAAS8D,KAAKlG,QAAQ6G,KAAK,kCAAoC/G,EAAEqG,MAAMyB,OAAS,MAChD,SAAhC9H,EAAEqG,MAAMe,KAAK,iBACb9E,OAAOqE,QAAQ,CACXuB,QAAS,GACV,KAAK,WACJ5F,OAAOkE,IAAI,UAAW,QACtBxG,EAAEqG,MAAMG,IAAI,mBAAoB,WAChCxG,EAAEqG,MAAMe,KAAK,gBAAgB,MAGD,QAAhCpH,EAAEqG,MAAMe,KAAK,kBACb9E,OAAOkE,IAAI,UAAW,aACtBxG,EAAEqG,MAAMG,IAAI,mBAAoBxG,EAAEqG,MAAMe,KAAK,eAC7C9E,OAAOqE,QAAQ,CACXuB,QAAS,GACV,KAAK,WACJlI,EAAEqG,MAAMe,KAAK,gBAAgB,SAK7CpH,EAlGWiD,KAkGJ/C,SAAS8G,IAAI,gCAAiCiB,2BAA2BhB,GAAG,gCAAiCgB,2BACpHjI,EAnGWiD,KAmGJ/C,SAAS8G,IAAI,kCAAmCiB,2BAA2BhB,GAAG,kCAAmCgB,+BAEpHE,+BAAiC,SAAUjG,MAAOkE,KAAMC,MACnDnE,MAAMoE,sBACPF,KAAKlG,QAAQ6G,KAAK,mBAAmBqB,MAAK,SAAUC,EAAGN,GAC/C/H,EAAE+H,GAAGX,KAAK,kBAAoBf,KAAKyB,QACnC9H,EAAE+H,GAAGvB,IAAI,UAAW,QAKpCxG,EA9GWiD,KA8GJ/C,SAAS8G,IAAI,qCAAsCmB,gCAAgClB,GAAG,qCAAsCkB,gCACnInI,EA/GWiD,KA+GJ/C,SAAS8G,IAAI,uCAAwCmB,gCAAgClB,GAAG,uCAAwCkB,oCAEnIG,+BAAiC,SAAUpG,MAAOkE,KAAMC,MACnDnE,MAAMoE,sBACPF,KAAKlG,QAAQ6G,KAAK,mBAAmBqB,MAAK,SAAUC,EAAGN,GACnD/H,EAAE+H,GAAGvB,IAAI,UAAW,OAIhCxG,EAxHWiD,KAwHJ/C,SAAS8G,IAAI,qCAAsCsB,gCAAgCrB,GAAG,qCAAsCqB,gCACnItI,EAzHWiD,KAyHJ/C,SAAS8G,IAAI,uCAAwCsB,gCAAgCrB,GAAG,uCAAwCqB,qCAElIpC,QAAS,IAGlBjG,SAAS8D,UAAUe,aAAe,WAC9B9E,EAAEiD,KAAK/C,SAAS2H,OAAO7H,EAAE,QAAS,OACrB,uBAEbA,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBP,IAAI,cAAevD,KAAK1C,KAAKU,QAAQS,QAAQH,SAAW,UAClGgH,UAAYtF,KAAK1C,KAAKU,QAAQS,QAAQE,MAAML,YAC5C0B,KAAK1C,KAAKoC,WAAWC,OAAQ,KACzB4F,aAAexI,EAAEiD,KAAK/C,SAAS6G,KAAK,2BACxCwB,WAAaC,aAAa9B,SAAWS,WAAWqB,aAAahC,IAAI,kBAErExG,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBP,IAAI,aAAc+B,UAAY,MAE5EvI,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBc,OAAO7H,EAAE,aAEnDyI,GACAC,GAAK1I,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBA,KAAK,MAExD4B,KAAOvI,OAAOA,UAAUwI,QAAQ,QACpCD,KAAKE,IAAI5F,KAAK1C,KAAKU,QAAQC,SAASC,SAAU,aAE1C2H,OAAoD,IAAzC7F,KAAK1C,KAAKU,QAAQC,SAASE,OAAS,GAAkD,GAAtC6B,KAAK1C,KAAKU,QAAQC,SAASC,UAAkB8B,KAAK1C,KAAKU,QAAQC,SAASG,gBACnIgH,EAAI,EACDA,EAAIS,QACPL,GAAKzI,EAAE,SACJ6H,OAAO7H,EAAE,UAAU8H,KAAKa,KAAKrH,OAAO2B,KAAK1C,KAAKU,QAAQC,SAASI,UAClEmH,GAAG/B,OAAOzD,KAAK1C,KAAKU,QAAQC,SAASK,UACrCmH,GAAGb,OAAOY,IACVE,KAAKE,IAAI5F,KAAK1C,KAAKU,QAAQC,SAASG,gBAAiB,KACrDgH,KAIRpI,SAAS8D,UAAUgB,aAAe,WAC9B/E,EAAEiD,KAAK/C,SAAS2H,OAAO7H,EAAE,QAAS,OACrB,yBAGT+I,IAAM/I,EAAE,QAAS,OACJ,mBAERwG,IAAI,SAAUvD,KAAK1C,KAAKU,QAAQS,QAAQE,MAAML,SAAW,MACzDiF,IAAI,aAAc,UAClBA,IAAI,eAAgBvD,KAAK1C,KAAKU,QAAQS,QAAQE,MAAML,SAAW,IAAM,EAAI,MAE5D,QAAlB0B,KAAK0B,YACLoE,IAAIjB,KAAK7E,KAAK+F,kBAAkB5I,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAeX,OAAO2B,KAAK1C,KAAKU,QAAQS,QAAQE,MAAMN,UAC5GyH,IAAI5E,SAAS,gBAEK,OAAlBlB,KAAK0B,YACLoE,IAAIjB,KAAK7E,KAAK+F,kBAAkB5I,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAeX,OAAO2B,KAAK1C,KAAKU,QAAQS,QAAQE,MAAMC,cAC5GkH,IAAI5E,SAAS,cAEjBnE,EAAEiD,KAAK/C,SAAS6G,KAAK,uBAAuBc,OAAOkB,KAEnD/I,EAAEiD,KAAK/C,SAAS6G,KAAK,uBAAuBc,OAAO7H,EAAE,iBAEjDyI,GACAC,GAAK1I,EAAEiD,KAAK/C,SAAS6G,KAAK,uBAAuBA,KAAK,MAEtDmC,KAAOjG,KAAKkG,cAEPd,EAAI,EAAGA,EAAIa,KAAKE,OAAQf,IAAK,CAClCM,KAAOvI,OAAO6I,KAAKC,KAAKb,KAExBI,GAAKzI,EAAE,OAAQ,OACF,yBAEVwG,IAAI,QAAS,IAAM0C,KAAKE,OAAS,MACpCL,IAAM/I,EAAE,QAAS,OACJ,yBAET0G,OAAOzD,KAAK1C,KAAKU,QAAQS,QAAQH,UAC5B,GAAL8G,GAAgC,WAAtBpF,KAAKS,eACfqF,IAAIlB,OAAO7H,EAAE,WAAY,OACZ,2CACVoH,KAAK,iBAAkB,QAAQS,OAAO7H,EAAE,MAAO,OACrC,wBAGjB+I,IAAIlB,OAAO7H,EAAE,UACRmE,SAAS,aACTqC,IAAI,QAAS,QACb/B,KAAKxB,KAAK+F,kBAAkBL,KAAKrH,OAAO2B,KAAK1C,KAAKU,QAAQS,QAAQJ,WAGnE+G,GAAKa,KAAKE,OAAS,GAA2B,WAAtBnG,KAAKS,eAC7BqF,IAAIlB,OAAO7H,EAAE,WAAY,OACZ,2CACVoH,KAAK,iBAAkB,SAASS,OAAO7H,EAAE,MAAO,OACtC,yBAGjByI,GAAGZ,OAAOkB,KACVN,GAAGrB,KAAK,YAAauB,KAAKC,QAAQ,OAAOtH,OAAO,UAE5C+H,UADO,IAAInF,KAAKyE,MACCW,SACjBC,UAA2B,IAAdF,WAAmC,IAAdA,UACtCZ,GAAGrB,KAAK,eAAgBmC,WAExBd,GAAGZ,OAAO7H,EAAE,SACZyI,GAAG1B,KAAK,MAAML,OAAS,GAAKzD,KAAK1C,KAAKU,QAAQC,SAASG,iBAAoB4B,KAAK1C,KAAKU,QAAQC,SAASE,OAAS6B,KAAK1C,KAAKU,QAAQC,SAASC,UAAY8B,KAAK1C,KAAKU,QAAQC,SAASK,SAAc,GAAK0B,KAAK1C,KAAKU,QAAQC,SAASG,gBAAmB4B,KAAK1C,KAAKU,QAAQC,SAASK,UAC7QmH,GAAGb,OAAOY,QAGVe,UAAY,EAChBxJ,EAAEiD,KAAK/C,SAAS6G,KAAK,wBAAwBqB,MAAK,WAC1CpI,EAAEiD,MAAMyD,SAAW8C,YACnBA,UAAYxJ,EAAEiD,MAAMyD,aAG5B1G,EAAEiD,KAAK/C,SAAS6G,KAAK,wBAAwBqB,MAAK,WAC9CpI,EAAEiD,MAAMyD,OAAO8C,cAGfvG,KAAK1C,KAAKU,QAAQS,QAAQH,SAAWiI,iBAChCjJ,KAAKU,QAAQS,QAAQH,SAAWiI,UACrCxJ,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBP,IAAI,cAAevD,KAAK1C,KAAKU,QAAQS,QAAQH,SAAW,QAM9GtB,SAAS8D,UAAUmB,cAAgB,WAC/BlF,EAAEiD,KAAK/C,SAAS2H,OAAO7H,EAAE,QAAS,OACrB,yBAET+I,IAAM/I,EAAE,QAAS,OACR,mBAEb+I,IAAIvC,IAAI,SAAUvD,KAAK1C,KAAKqB,MAAML,SAAW,MAEnB,WAAtB0B,KAAKS,eACLqF,IAAIlB,OAAO7H,EAAE,WAAY,OACR,2CAERoH,KAAK,iBAAkB,QACvBS,OAAO7H,EAAE,MAAO,OACJ,wBAIzB+I,IAAIlB,OAAO7H,EAAE,UACRwG,IAAI,WAAY,YAChBA,IAAI,MAAOvD,KAAK1C,KAAKqB,MAAML,SAAW,EAAI,MAC1CiF,IAAI,QAAS,OACbA,IAAI,YAAa,uBACjBsB,KAAK7E,KAAK+F,kBAAkB5I,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAeX,OAAO2B,KAAK1C,KAAKqB,MAAMN,WAEnE,WAAtB2B,KAAKS,eACLqF,IAAIlB,OAAO7H,EAAE,WAAY,OACR,2CAERwG,IAAI,QAAS,SACbY,KAAK,iBAAkB,SACvBS,OAAO7H,EAAE,MAAO,OACJ,yBAKzBA,EAAEiD,KAAK/C,SAAS6G,KAAK,uBAAuBc,OAAOkB,KACnD/I,EAAEiD,KAAK/C,SAAS6G,KAAK,uBAAuBc,OAAO7H,EAAE,iBAEjDyI,GACAC,GAAK1I,EAAEiD,KAAK/C,SAAS6G,KAAK,uBAAuBA,KAAK,MAEtD4B,KAAOvI,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAe2G,QAAQ,SACpDhH,MAAQ2E,SAASoC,KAAKrH,OAAO,OAC7BmI,KAAOlD,SAASoC,KAAKrH,OAAO,MAC5BoI,QAAU,EACPnD,SAASoC,KAAKrH,OAAO,QAAUM,OAAO,KACzC8H,UACOnD,SAASoC,KAAKrH,OAAO,OAASmI,MACjCd,KAAKE,IAAI,EAAG,QAEhBY,KAAOlD,SAASoC,KAAKrH,OAAO,UAG3B,IAAI+G,EAAI,EAAGA,EAAIpF,KAAK1C,KAAKqB,MAAMG,UAAUJ,SAASyH,OAAQf,IAC3DM,KAAOvI,SAASwI,QAAQ,QAAQC,IAAI5F,KAAK1C,KAAKqB,MAAMG,UAAUJ,SAAS0G,GAAI,SAC3EI,GAAKzI,EAAE,OAAQ,OACF,+BAEV6H,OAAO7H,EAAE,SACPwG,IAAI,SAAUvD,KAAK1C,KAAKqB,MAAMG,UAAUR,SAAW,MACnDiF,IAAI,eAAgBvD,KAAK1C,KAAKqB,MAAMG,UAAUR,SAAW,IAAM,EAAI,MACnEuG,KAAK7E,KAAK+F,kBAAkBL,KAAKrH,OAAO2B,KAAK1C,KAAKqB,MAAMG,UAAUT,WAEvEmH,GAAGjC,IAAI,QAAS,IAAMvD,KAAK1C,KAAKqB,MAAMG,UAAUJ,SAASyH,OAAS,KAClEX,GAAGZ,OAAO7H,EAAE,QAAQwG,IAAI,SAAUkD,QAAUzG,KAAK1C,KAAKqB,MAAME,SAASP,SAAW,OAChFmH,GAAGb,OAAOY,QAEVe,UAAY,EAChBxJ,EAAEiD,KAAK/C,SAAS6G,KAAK,8BAA8BqB,MAAK,eAChDL,EAAI/H,EAAEiD,MAAM8D,KAAK,OACjB/G,EAAE+H,GAAGrB,SAAW8C,YAChBA,UAAYxJ,EAAE+H,GAAGrB,aAGzB1G,EAAEiD,KAAK/C,SAAS6G,KAAK,8BAA8BqB,MAAK,eAChDL,EAAI/H,EAAEiD,MAAM8D,KAAK,OACrB/G,EAAE+H,GAAGrB,OAAO8C,eAIpBvJ,SAAS8D,UAAUoB,qBAAuB,WACtCnF,EAAEiD,KAAK/C,SAAS2H,OAAO7H,EAAE,QAAS,OACrB,2BAETuI,UAAYtF,KAAK1C,KAAKqB,MAAMG,UAAUR,SAC1CgH,WAAatF,KAAK1C,KAAKqB,MAAML,SACzB0B,KAAK1C,KAAKoC,WAAWC,SACrB2F,WAAa,IAEjBA,WAAa,EACbvI,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBP,IAAI,aAAc+B,UAAY,MAC5EvI,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBc,OAAO7H,EAAE,iBAEnDyI,GACAC,GAAK1I,EAAEiD,KAAK/C,SAAS6G,KAAK,yBAAyBA,KAAK,MAExD4B,KAAOvI,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAe2G,QAAQ,SACpDhH,MAAQ2E,SAASoC,KAAKrH,OAAO,OAC7BmI,KAAOlD,SAASoC,KAAKrH,OAAO,MACzBiF,SAASoC,KAAKrH,OAAO,QAAUM,OAAO,MACzC6G,GAAKzI,EAAE,OAAQ,OACF,iBAEV6H,OAAO7H,EAAE,UACPoH,KAAK,iBAAkBuB,KAAKrH,OAAO,MACnCwG,KAAKa,KAAKrH,OAAO2B,KAAK1C,KAAKqB,MAAME,SAASR,SAASkF,IAAI,aAAcvD,KAAK1C,KAAKqB,MAAME,SAASP,SAAW,EAAI,OAElHkH,GAAG/B,OAAOzD,KAAK1C,KAAKqB,MAAME,SAASP,UACnCmH,GAAGb,OAAOY,IACHlC,SAASoC,KAAKrH,OAAO,OAASmI,MACjCd,KAAKE,IAAI,EAAG,QAEhBY,KAAOlD,SAASoC,KAAKrH,OAAO,QAIpCrB,SAAS8D,UAAUqB,kBAAoB,mBAE/BuE,SAAUlB,GADVS,KAAOjG,KAAKkG,cAGZd,EAAI9B,SAASnG,OAAO6I,KAAKC,KAAK,IAAIjI,WAClC0H,KAAOvI,OAAO6I,KAAKC,KAAK,IACrBb,EAAI,GACPM,KAAOA,KAAKiB,SAAS,EAAG,QACxBD,SAAW1G,KAAK/C,QAAQ6G,KAAK,gEAAkE9D,KAAK+F,kBAAkBL,KAAKrH,OAAO2B,KAAK1C,KAAKqB,MAAMG,UAAUT,SAAW,MAAMuI,SAAS9C,KAAK,OAC3L0B,GAAKzI,EAAE,SACJwG,IAAI,SAAUvD,KAAK1C,KAAKqB,MAAME,SAASP,SAAW,MACrDvB,EAAE2J,UAAU9B,OAAOY,IACnBJ,QAGJM,KAAOO,KAAKE,OACPf,EAAI,EAAGA,EAAIM,KAAMN,IAClBsB,SAAW1G,KAAK/C,QAAQ6G,KAAK,gEAAkE9D,KAAK+F,kBAAkB5I,OAAO6I,KAAKC,KAAKb,IAAI/G,OAAO2B,KAAK1C,KAAKqB,MAAMG,UAAUT,SAAW,MAAMuI,SAAS9C,KAAK,OAC3M0B,GAAKzI,EAAE,OAAQ,OACF,+BAEVwG,IAAI,SAAUvD,KAAK1C,KAAKqB,MAAME,SAASP,SAAW,MACrDkH,GAAGrB,KAAK,iBAAkBhH,OAAO6I,KAAKC,KAAKb,IAAIO,QAAQ,OAAOtH,OAAO,MACrEmH,GAAGrB,KAAK,eAAgBhH,OAAO6I,KAAKC,KAAKb,IAAIyB,MAAM,OAAOxI,OAAO,MACjEmH,GAAGZ,OAAO7H,EAAE,UAAU8H,KAAK1H,OAAO6I,KAAKC,KAAKb,IAAI/G,OAAO2B,KAAK1C,KAAKqB,MAAMI,IAAIV,UAC3EtB,EAAE2J,UAAU9B,OAAOY,SAGlBvI,QAAQ6G,KAAK,8BAA8BqB,MAAK,WACjDpI,EAAEiD,MAAM4E,OAAO7H,EAAE,aAIzBC,SAAS8D,UAAUc,eAAiB,mBAC3BkF,iCACAC,8BAED/G,KAAK1C,KAAKoC,WAAWC,OAAQ,SACzBqH,MACAlB,IAAM/I,EAAE,QAAS,OACJ,wBACVwG,IAAI,SAAU,QACZ6B,EAAI,EAAGA,EAAIpF,KAAKG,mBAAmBgG,OAAQf,KAChD4B,MAAQjK,EAAE,SAAU,OACP,wCAEPwG,IAAI,eAAgB,OAC1ByD,MAAMzD,IAAI,mBAAoBvD,KAAKG,mBAAmBiF,GAAGrF,OACzDiH,MAAMzD,IAAI,SAAU,WACpByD,MAAM7C,KAAK,aAAcnE,KAAKG,mBAAmBiF,GAAGrF,OACpDiH,MAAM7C,KAAK,gBAAgB,GAC3B6C,MAAMnC,KAAK7E,KAAKG,mBAAmBiF,GAAG6B,UACtCnB,IAAIlB,OAAOoC,WAEV5B,EAAI,EAAGA,EAAIpF,KAAKI,qBAAqB+F,OAAQf,KAC9C4B,MAAQjK,EAAE,SAAU,OACP,+DAEPwG,IAAI,eAAgB,OAC1ByD,MAAMzD,IAAI,mBAAoBvD,KAAKI,qBAAqBgF,GAAGrF,OAC3DiH,MAAMzD,IAAI,SAAU,WACpByD,MAAM7C,KAAK,aAAcnE,KAAKI,qBAAqBgF,GAAGrF,OACtDiH,MAAM7C,KAAK,gBAAgB,GAC3B6C,MAAMnC,KAAK7E,KAAKI,qBAAqBgF,GAAG6B,UACxCnB,IAAIlB,OAAOoC,YAEV/J,QAAQiK,QAAQpB,UAChBqB,qBACAC,kBAIbpK,SAAS8D,UAAUqG,cAAgB,eAC3BE,gBAAiBjE,KACjBD,KAAOnD,UACN/C,QAAQ6G,KAAK,mBAAmB5E,OACjC,WACIkE,KAAOrG,EAAEiD,MACTqH,gBAAkBC,YAAW,WACrBlE,KAAK3B,SAAS,0BACd1E,EAAEoG,KAAKlG,SAASmE,QAAQ,uCAAwC,CAC5D+B,KACAC,OAGJrG,EAAEoG,KAAKlG,SAASmE,QAAQ,qCAAsC,CAC1D+B,KACAC,SAGTD,KAAK7F,KAAKoC,WAAWR,MAAMC,UAElC,WACIoI,aAAaF,kBACbjE,KAAOrG,EAAEiD,OACAyB,SAAS,0BACd1E,EAAEoG,KAAKlG,SAASmE,QAAQ,uCAAwC,CAC5D+B,KACAC,OAGJrG,EAAEoG,KAAKlG,SAASmE,QAAQ,qCAAsC,CAC1D+B,KACAC,WAOpBpG,SAAS8D,UAAUsG,cAAgB,eAE3BjE,KAAOnD,UACN/C,QAAQ6G,KAAK,mBAAmB0D,OAAM,SAAUvI,OAC7ClC,EAAEkC,MAAM8F,QAAQtD,SAAS,0BACzB1E,EAAEoG,KAAKlG,SAASmE,QAAQ,kCAAmC,CACvD+B,KALRC,YASIrG,EAAEoG,KAAKlG,SAASmE,QAAQ,gCAAiC,CACrD+B,KAVRC,gBAiBRpG,SAAS8D,UAAU0B,eAAiB,kBACxBxC,KAAK0B,eACJ,UACA,YACI+F,iCAGJ,aACIC,0BAKjB1K,SAAS8D,UAAU2G,qBAAuB,eAClCtE,KAAOnD,KACP2H,SAAW,OACV1K,QAAQ6G,KAAK,mBAAmBqB,MAAK,SAAUC,OAE5CwC,MAAQtE,SAASvG,EAAEiD,MAAMmE,KAAK,eAE9B0D,SADMvE,SAASvG,EAAEiD,MAAMmE,KAAK,aACXyD,MACjBE,KAAOxE,SAASvG,EAAEiD,MAAMwD,QAAQ,0BAA0BW,KAAK,cAAuD,GAAtChB,KAAK7F,KAAKU,QAAQC,SAASC,SAAgB,GAC3H4J,KAAOH,WACPA,SAAWG,UAEXC,UAAaH,MAAQE,MAAQ,GAAK3E,KAAK7F,KAAKU,QAAQC,SAASG,gBAAkB+E,KAAK7F,KAAKU,QAAQC,SAASK,SAAY,EACtH0J,YAAeH,SAAW,GAAK1E,KAAK7F,KAAKU,QAAQC,SAASG,gBAAkB+E,KAAK7F,KAAKU,QAAQC,SAASK,SAAY,EAGnH2J,qBAAsB,EAEtBC,IAAM,GACNC,eAAiBpL,EAAEiD,MACvBjD,EAAEiD,MAAMwD,QAAQ,MAAMM,KAAK,qBAAqBqB,MAAK,SAAUiD,EAAGtD,GAC1D/H,EAAE+H,GAAG,IAAMqD,eAAe,KACtB7E,SAAS6E,eAAehE,KAAK,eAAiBb,SAASvG,EAAE+H,GAAGX,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,aAAeb,SAASvG,EAAE+H,GAAGX,KAAK,iBAChJ+D,IAAIG,KAAKtL,EAAE+H,MAGXxB,SAAS6E,eAAehE,KAAK,eAAiBb,SAASvG,EAAE+H,GAAGX,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,aAAeb,SAASvG,EAAE+H,GAAGX,KAAK,cAEzIb,SAAS6E,eAAehE,KAAK,gBAAkBb,SAASvG,EAAE+H,GAAGX,KAAK,gBAAkBb,SAASvG,EAAE+H,GAAGX,KAAK,eAAiBb,SAAS6E,eAAehE,KAAK,iBAD5JmE,UAORC,MAAQ,GACZA,MAAMF,KAAK/E,SAAS6E,eAAehE,KAAK,gBACxCoE,MAAMF,KAAK/E,SAAS6E,eAAehE,KAAK,kBAE/BiB,EAAI,EAAGA,EAAI8C,IAAI/B,OAAQf,IACxB9B,SAAS4E,IAAI9C,GAAGjB,KAAK,gBAAkBb,SAAS6E,eAAehE,KAAK,gBAAkBb,SAAS4E,IAAI9C,GAAGjB,KAAK,gBAAkBb,SAAS6E,eAAehE,KAAK,cAC1JoE,MAAMF,KAAK/E,SAAS4E,IAAI9C,GAAGjB,KAAK,gBAEhCb,SAAS4E,IAAI9C,GAAGjB,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,gBAAkBb,SAAS4E,IAAI9C,GAAGjB,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,cACtJoE,MAAMF,KAAK/E,SAAS4E,IAAI9C,GAAGjB,KAAK,eAIxCoE,MAAQpF,KAAKqF,gBAAgBD,QACvBE,MAAK,SAAUC,EAAG/D,UACZ+D,EAAI/D,EAAK,GAAK,SAGjBS,EAAI,EAAGA,EAAImD,MAAMpC,OAAQf,IAAK,SAC/BuD,YAAc,EACTP,EAAI,EAAGA,EAAIF,IAAI/B,OAAQiC,IACxBG,MAAMnD,GAAK9B,SAAS4E,IAAIE,GAAGjE,KAAK,gBAAkBoE,MAAMnD,IAAM9B,SAAS4E,IAAIE,GAAGjE,KAAK,cACnFwE,eAGHA,YAAc,GAAKA,YAAcV,sBAAgD,IAAxBA,uBAC1DA,oBAAsBU,iBAI9BR,eAAehE,KAAK,cAAe8D,oBAAsB,GACzDE,eAAehE,KAAK,eAAgB8D,oBAAsB,GAE1D7C,EAAI8C,IAAI/B,OACDf,KACC9B,SAAS4E,IAAI9C,GAAGjB,KAAK,iBAAmBb,SAAS6E,eAAehE,KAAK,kBACrEgE,eAAehE,KAAK,eAAgB+D,IAAI9C,GAAGjB,KAAK,qBAIpDyE,UAAY,OACXxD,EAAI,EAAGA,EAAI9B,SAAS6E,eAAehE,KAAK,iBAAkBiB,IAAK,CAChEwD,UAAUxD,IAAK,MACNgD,EAAI,EAAGA,EAAIF,IAAI/B,OAAQiC,QACvB,IAAIS,EAAI,EAAGA,EAAIC,OAAOZ,IAAIE,GAAGjE,KAAK,mBAAmB4E,MAAM,KAAK5C,OAAQ0C,IAAK,CAC/DC,OAAOZ,IAAIE,GAAGjE,KAAK,mBAAmB4E,MAAM,KAAKF,IAChDzD,IACZwD,UAAUxD,IAAK,QAM/B+C,eAAehE,KAAK,kBAAmB,GAEvCiB,EAAI,GACuD,GAApD9B,SAAS6E,eAAehE,KAAK,oBAA0B,KACrC,IAAjByE,UAAUxD,KACV+C,eAAehE,KAAK,iBAAkBiB,GAClC9B,SAAS6E,eAAehE,KAAK,iBAAmBb,SAAS6E,eAAehE,KAAK,gBAAkB,EAAI,SACvE,IAArByE,UAAUxD,EAAI,IACjB+C,eAAehE,KAAK,iBAAkBgE,eAAehE,KAAK,kBAAoB,KAAOiB,EAAI,IACzFA,IAIZA,QAEqB,IAApBjC,KAAK7F,KAAKG,QAA2C,IAAvB0F,KAAK7F,KAAKI,aAErCsL,IAAM7F,KAAK7F,KAAKI,SAASuL,QAAQH,OAAOX,eAAehE,KAAK,mBAC5D+E,UAAaJ,OAAOE,KAAKD,MAAM,KAAK,GAAK5F,KAAK7F,KAAKG,MAAS,IAC5D0L,WAAa,IAAMhG,KAAK7F,KAAKG,WAE7B0L,WAAa,KAAO7F,SAAS6E,eAAehE,KAAK,iBAAmB2E,OAAOX,eAAehE,KAAK,mBAAmB4E,MAAM,KAAK5C,QAC7H+C,UAAaJ,OAAOX,eAAehE,KAAK,mBAAmB4E,MAAM,KAAK,GAAKzF,SAAS6E,eAAehE,KAAK,iBAAoB,IAEpIvD,QAAQwI,IAAI,YAAcjG,KAAK7F,KAAKG,OACpC0F,KAAKkG,iBAAiBrJ,KAAM+H,SAAUC,YAAakB,UAAWC,gBAItEnM,SAAS8D,UAAU4G,sBAAwB,eACnCvE,KAAOnD,UACN/C,QAAQ6G,KAAK,gCAAgCqB,MAAK,eAC/CmE,EAAIvM,EAAEiD,MAAM8D,KAAK,mBAAmBqC,OACxCpJ,EAAEiD,MAAM8D,KAAK,mBAAmBqB,MAAK,SAAUC,OAEvC2C,SAAYzE,SAASvG,EAAEiD,MAAMwD,QAAQ,8BAA8B+F,SAAWpG,KAAK7F,KAAKqB,MAAME,SAASP,SAAY,GAAK,EACxH0J,YAAc7E,KAAK7F,KAAKqB,MAAME,SAASP,SAAW,GAAK,EACvD6K,WAAa,IAAMG,EACnBJ,UAAa,IAAMI,EAAKlE,EAE5BjC,KAAKkG,iBAAiBrJ,KAAM+H,SAAUC,YAAakB,UAAWC,mBAK1EnM,SAAS8D,UAAUuI,iBAAmB,SAAUjG,KAAM2E,SAAUC,YAAakB,UAAWC,YACpFpM,EAAEqG,MAAMe,KAAK,WAAY4D,UACzBhL,EAAEqG,MAAMe,KAAK,cAAe6D,aAC5BjL,EAAEqG,MAAMe,KAAK,YAAa+E,WAC1BnM,EAAEqG,MAAMe,KAAK,aAAcgF,YAE3BpM,EAAEqG,MAAMG,IAAI,CACRI,IAAMoE,SAAY,KAClBtE,OAASuE,YAAe,KACxBnE,KAAMqF,UAAY,IAClBtF,MAAOuF,WAAa,OAI5BnM,SAAS8D,UAAUkB,eAAiB,eAC5B8C,EAAGM,EAAGrG,IAAKb,SAAUC,OAAQqL,SAC7BF,EAAItJ,KAAKX,OAAO8G,WACff,EAAI,EAAGA,EAAIkE,EAAGlE,IACfN,EAAI9E,KAAKX,OAAO+F,GAChBrG,KAAM,EACNb,SAAW8B,KAAK1C,KAAKU,QAAQC,SAASC,SACtCC,OAAS6B,KAAK1C,KAAKU,QAAQC,SAASE,OACpCqL,SAAWxJ,KAAK1C,KAAKU,QAAQC,SAASG,gBACtCrB,EAAEiD,KAAK/C,SAAS6G,KAAK,wBAAwBqB,MAAK,SAAUC,EAAGqE,GACvD3E,EAAE8C,OAAUtE,SAASvG,EAAE0M,GAAGtF,KAAK,cAA2B,GAAXjG,SAAgB,IAAO4G,EAAE4E,KAAQpG,SAASvG,EAAE0M,GAAGtF,KAAK,cAAyB,GAAThG,OAAc,GAAQ,GAAKqL,SAAYA,SAAW,KACrKzK,IAAM0K,OAGF,IAAR1K,UAGK4K,qBACD5K,IACAqG,EACAjI,OAAO6I,KAAKlB,EAAE8C,OAAOvJ,OAAO,KAC5BlB,OAAO6I,KAAKlB,EAAE4E,KAAKrL,OAAO,KAC1ByG,EAAE8E,MACF9E,EAAE+E,QACF/E,EAAEmC,SACFnC,EAAEgF,aACFhF,EAAEiF,WACF/J,KAAKgK,sBAAsBlF,EAAEmC,UAC7B9J,OAAO6I,KAAKlB,EAAE8C,OAAOvJ,OAAO2B,KAAK1C,KAAKU,QAAQC,SAASI,QAAU,MAAQlB,OAAO6I,KAAKlB,EAAE4E,KAAKrL,OAAO2B,KAAK1C,KAAKU,QAAQC,SAASI,QAC9H,CAAC,oBAMjBrB,SAAS8D,UAAUiB,iBAAmB,eAC9BqD,EAAGN,EAAG/F,IACNuK,EAAItJ,KAAKV,SAAS6G,WACjBf,EAAI,EAAGA,EAAIkE,EAAGlE,OACfN,EAAI9E,KAAKV,SAAS8F,GAClBrG,KAAM,EACNhC,EAAEiD,KAAK/C,SAAS6G,KAAK,wBAAwBqB,MAAK,SAAU8E,EAAGR,GACvDnG,SAASnG,OAAO6I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOtH,OAAO,OAASiF,SAASvG,EAAE0M,GAAGtF,KAAK,gBAC/EpF,IAAM0K,OAIF,IAAR1K,SAEG,CACSiB,KAAKkK,wBAAwBpF,EAAEmC,cACvCkD,KAAOnK,KAAK1C,KAAKU,QAAQC,SAASC,SAClCC,OAAS6B,KAAK1C,KAAKU,QAAQC,SAASE,OAASmF,SAAStD,KAAK1C,KAAKU,QAAQC,SAASG,gBAAkB,IACnGgM,MAA0H,IAAhHpK,KAAK1C,KAAKU,QAAQC,SAASG,gBAAkB,GAAMkF,SAAStD,KAAK1C,KAAKU,QAAQC,SAASG,gBAAkB,UAClHuL,qBACD5K,IACAqG,EACAjI,OAAO6I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOC,IAAIuE,KAAM,KAAK9L,OAAO,KACzDlB,OAAO6I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOC,IAAIzH,OAAQ,KAAKyH,IAAIwE,MAAO,KAAK/L,OAAO,KAC3EyG,EAAE8E,MACF9E,EAAE+E,QACF/E,EAAEmC,SACFnC,EAAEgF,aACFhF,EAAEiF,WACF/J,KAAKkK,wBAAwBpF,EAAEmC,UAC/B,GACA,CAAC,iBAAkB,uBAMnCjK,SAAS8D,UAAU6I,qBAAuB,SAAU7E,EAAGyE,MAAO3B,MAAO8B,IAAKE,MAAOC,QAAS5C,SAAU6C,aAAcC,WAAYhK,MAAOsK,cAAeC,iBAG5I9E,GAAKzI,EAAE,QACPqI,EAAIkF,QAAQnE,OACTf,KACHI,GAAGtE,SAASoJ,QAAQlF,IAExBI,GAAGrB,KAAK,aAAcoF,OACtB/D,GAAGrB,KAAK,aAAcyD,OACtBpC,GAAGrB,KAAK,WAAYuF,KACpBlE,GAAGrB,KAAK,aAAcyF,OACtBpE,GAAGrB,KAAK,eAAgB0F,SACxBrE,GAAGrB,KAAK,gBAAiB8C,UACzBzB,GAAGrB,KAAK,oBAAqB2F,cAC7BtE,GAAGrB,KAAK,kBAAmB4F,YAC3BvE,GAAGrB,KAAK,aAAcpE,OACtByF,GAAGjC,IAAI,aAAcxD,OACF,MAAfgK,YACAvE,GAAGjC,IAAI,SAAU,aAAevD,KAAK1C,KAAK8B,OAAOK,SAEhC,MAAjBqK,cACAtE,GAAGjC,IAAI,SAAU,aAAevD,KAAK1C,KAAK8B,OAAOI,SAErDkJ,EAAI3L,EAAE,MAAO,CACTwN,KAAM,MAEV7B,EAAE9D,OAAO7H,EAAE,OAAQ,OACN,eACV8H,KAAK+E,QACRlB,EAAE9D,OAAO7H,EAAE,OAAQ,OACN,6BAGb2L,EAAE5E,KAAK,kBAAkBc,OAAO7H,EAAE,MAAO,OAC5B,eACVyE,KAAK6I,gBACR3B,EAAE5E,KAAK,kBAAkBc,OAAO7H,EAAE,SAClC2L,EAAE5E,KAAK,kBAAkBc,OAAOiF,SAEhCrE,GAAGZ,OAAO8D,GACV3L,EAAE+H,GAAGhB,KAAK,MAAMc,OAAOY,KAG3BxI,SAAS8D,UAAUuB,gBAAkB,eAC7B+C,EAAGN,EAAG/F,IACNuK,EAAItJ,KAAKX,OAAO8G,WACff,EAAI,EAAGA,EAAIkE,EAAGlE,IACfN,EAAI9E,KAAKX,OAAO+F,GAChBrG,KAAM,EACNhC,EAAEiD,KAAK/C,SAAS6G,KAAK,8BAA8BqB,MAAK,SAAU8E,EAAGR,GAC7D3E,EAAE8C,OAAUtE,SAASvG,EAAE0M,GAAGtF,KAAK,oBAAuBW,EAAE4E,KAAQpG,SAASvG,EAAE0M,GAAGtF,KAAK,mBACnFpF,IAAM0K,OAGF,IAAR1K,UAGK4K,qBACD5K,IACAqG,EACAjI,OAAO6I,KAAKlB,EAAE8C,OAAOvJ,OAAO,KAC5BlB,OAAO6I,KAAKlB,EAAE4E,KAAKrL,OAAO,KAC1ByG,EAAE8E,MACF9E,EAAE+E,QACF/E,EAAEmC,SACFnC,EAAEgF,aACFhF,EAAEiF,WACF/J,KAAKgK,sBAAsBlF,EAAEmC,UAC7B9J,OAAO6I,KAAKlB,EAAE8C,OAAOvJ,OAAO2B,KAAK1C,KAAKqB,MAAMI,IAAIV,QAAU,MAAQlB,OAAO6I,KAAKlB,EAAE8C,OAAOvJ,OAAO2B,KAAK1C,KAAKU,QAAQC,SAASI,QAAU,MAAQlB,OAAO6I,KAAKlB,EAAE4E,KAAKrL,OAAO2B,KAAK1C,KAAKU,QAAQC,SAASI,QAChM,CAAC,oBAMjBrB,SAAS8D,UAAUsB,kBAAoB,eAC/BgD,EAAGN,EAAG/F,IACNuK,EAAItJ,KAAKV,SAAS6G,WACjBf,EAAI,EAAGA,EAAIkE,EAAGlE,IACfN,EAAI9E,KAAKV,SAAS8F,GAClBrG,KAAM,EACNhC,EAAEiD,KAAK/C,SAAS6G,KAAK,8BAA8BqB,MAAK,SAAU8E,EAAGR,GAC7D3E,EAAEY,MAASpC,SAASvG,EAAE0M,GAAGtF,KAAK,oBAAuBW,EAAEY,MAASpC,SAASvG,EAAE0M,GAAGtF,KAAK,mBACnFpF,IAAM0K,OAGF,IAAR1K,UAGK4K,qBACD5K,IACAqG,EACAjI,OAAO6I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOtH,OAAO,KAC1ClB,OAAO6I,KAAKlB,EAAEY,MAAMmB,MAAM,OAAOxI,OAAO,KACxCyG,EAAE8E,MACF9E,EAAE+E,QACF/E,EAAEmC,SACFnC,EAAEgF,aACFhF,EAAEiF,WACF/J,KAAKkK,wBAAwBpF,EAAEmC,UAC/B9J,OAAO6I,KAAKlB,EAAEY,MAAMrH,OAAO2B,KAAK1C,KAAKqB,MAAMI,IAAIV,QAC/C,CAAC,iBAAkB,sBAMnCrB,SAAS8D,UAAUwB,UAAY,WAC3BgC,MAAQ,2EACRA,OAAS,6CACTA,OAAS,8BACTA,OAAS,6BACTA,OAAS,gCACTA,OAAS,+HACTA,OAAS,SACTA,OAAS,2BACTA,OAAS,SACTA,OAAS,SACTA,OAAS,SACTA,OAAS,SACTvH,EAAEiD,KAAK/C,SAAS2H,OADhBN,2XAIJtH,SAAS8D,UAAUyB,QAAU,cACrBvC,KAAK1C,KAAKsC,IAAID,OAAQ,KAClB6K,GAAKzN,EAAE,OAAQ,OACN,oCAEbyN,GAAGjH,IAAI,QAAS,QAChBiH,GAAGjH,IAAI,WAAY,YACnBiH,GAAGjH,IAAI,UAAW,GAClBiH,GAAGjH,IAAI,aAAcvD,KAAK1C,KAAKsC,IAAItB,SAAW,MAAQ0B,KAAK1C,KAAKsC,IAAIE,MAAQ,IAAME,KAAK1C,KAAKsC,IAAIG,WAC5F4D,KAAQxG,SAASkB,OAAO,KAAOlB,SAASwI,QAAQ,OAAOC,IAAI5F,KAAK1C,KAAKU,QAAQC,SAASC,SAAU,KAAKG,OAAO,MAAQ,GAAK2B,KAAK1C,KAAKU,QAAQC,SAASG,gBAAkB4B,KAAK1C,KAAKU,QAAQC,SAASK,SAAa0B,KAAK1C,KAAKU,QAAQC,SAASK,SAAW,KACxPkM,GAAGjH,IAAI,MAAOI,IAAM,WACf1G,QAAQ6G,KAAK,qCAAuC3G,SAASwI,QAAQ,OAAOtH,OAAO,KAAO,MAAMyF,KAAK,MAAMc,OAAO4F,IACnHxK,KAAK1C,KAAKsC,IAAIC,QAAS,KACnBsD,KAAOnD,KACXyK,aAAY,eACJD,GAAKrH,KAAKlG,QAAQ6G,KAAK,mBAAmB4G,UAC1CF,GAAKzN,EAAE,OAAQ,OACN,qCAEVwG,IAAI,QAAS,QAChBiH,GAAGjH,IAAI,WAAY,YACnBiH,GAAGjH,IAAI,UAAW,GAClBiH,GAAGjH,IAAI,aAAcJ,KAAK7F,KAAKsC,IAAItB,SAAW,MAAQ6E,KAAK7F,KAAKsC,IAAIE,MAAQ,IAAMqD,KAAK7F,KAAKsC,IAAIG,WAC5F4D,KAAQxG,SAASkB,OAAO,KAAOlB,SAASwI,QAAQ,OAAOC,IAAIzC,KAAK7F,KAAKU,QAAQC,SAASC,SAAU,KAAKG,OAAO,MAAQ,GAAK8E,KAAK7F,KAAKU,QAAQC,SAASG,gBAAkB+E,KAAK7F,KAAKU,QAAQC,SAASK,SAAa6E,KAAK7F,KAAKU,QAAQC,SAASK,SAAW,EACxPkM,GAAGjH,IAAI,MAAOI,IAAM,MACpBR,KAAKlG,QAAQ6G,KAAK,qCAAuC3G,SAASwI,QAAQ,OAAOtH,OAAO,KAAO,MAAMyF,KAAK,MAAMc,OAAO4F,MACxH,QAKfxN,SAAS8D,UAAU2B,oBAAsB,eACjCU,KAAOnD,UACN/C,QAAQ6G,KAAK,mBAAmBqB,MAAK,eAClCkC,gBACJtK,EAAEiD,MAAMd,OACJ,WACIkE,KAAOrG,EAAEiD,MACTqH,gBAAkBC,YAAW,WACrBlE,KAAK3B,SAAS,oBACd1E,EAAEoG,KAAKlG,SAASmE,QAAQ,8BAA+B,CACnD+B,KACAC,OAGJrG,EAAEoG,KAAKlG,SAASmE,QAAQ,4BAA6B,CACjD+B,KACAC,SAITD,KAAK7F,KAAK2B,MAAMC,MAAMC,UAE7B,WACIoI,aAAaF,iBACbjE,KAAOrG,EAAEiD,MACLoD,KAAK3B,SAAS,oBACd1E,EAAEoG,KAAKlG,SAASmE,QAAQ,8BAA+B,CACnD+B,KACAC,OAGJrG,EAAEoG,KAAKlG,SAASmE,QAAQ,4BAA6B,CACjD+B,KACAC,cASxBpG,SAAS8D,UAAU4B,oBAAsB,eACjCS,KAAOnD,UACN/C,QAAQ6G,KAAK,mBAAmBqB,MAAK,WACtCpI,EAAEiD,MAAMwH,OAAM,SAAUvI,OACpBA,MAAM0L,iBACN1L,MAAM2L,kBACNxH,KAAOrG,EAAEkC,MAAM8F,QACe,OAA1B3B,KAAKyH,KAAK,aAAyBzH,KAAK3B,SAAS,oBACjD2B,KAAOA,KAAKI,QAAQ,sBAEpBJ,KAAK3B,SAAS,oBACd1E,EAAEoG,KAAKlG,SAASmE,QAAQ,yBAA0B,CAC9C+B,KACAC,KACAD,KAAK7D,SAASgE,SAASF,KAAKe,KAAK,kBAGrCpH,EAAEoG,KAAKlG,SAASmE,QAAQ,uBAAwB,CAC5C+B,KACAC,KACAD,KAAK9D,OAAOiE,SAASF,KAAKe,KAAK,yBAOnDnH,SAAS8D,UAAUa,eAAiB,mBAC5ByG,EAAIpI,KAAKX,OAAO8G,OACbiC,KACC9E,SAASnG,OAAO6I,KAAKhG,KAAKX,OAAO+I,GAAGR,OAAOvJ,OAAO,OAAS2B,KAAK1C,KAAKU,QAAQC,SAASC,gBACjFZ,KAAKU,QAAQC,SAASC,SAAWoF,SAASnG,OAAO6I,KAAKhG,KAAKX,OAAO+I,GAAGR,OAAOvJ,OAAO,QAExFiF,SAAStD,KAAKX,OAAO+I,GAAGsB,KAAOpG,SAASnG,OAAO6I,KAAKhG,KAAKX,OAAO+I,GAAGsB,KAAK/D,QAAQ,OAAOC,IAAI5F,KAAK1C,KAAKU,QAAQC,SAASE,OAAQ,QAAQE,OAAO,aACxIf,KAAKU,QAAQC,SAASE,OAASmF,SAASnG,OAAO6I,KAAKhG,KAAKX,OAAO+I,GAAGsB,KAAKoB,QACzE9K,KAAK1C,KAAKU,QAAQC,SAASE,OAAS,SAC/Bb,KAAKU,QAAQC,SAASE,WAM3CnB,SAAS8D,UAAUoF,YAAc,eACzBD,KAAO,MACW,OAAlBjG,KAAK0B,WACLuE,KAAKoC,KAAK/E,SAASnG,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAeX,OAAO,OAE7C,QAAlB2B,KAAK0B,cACA,IAAI0D,EAAI,EAAGA,EAAIpF,KAAK1C,KAAKU,QAAQS,QAAQC,SAASyH,OAAQf,IAC3Da,KAAKoC,KAAK/E,SAASnG,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAe2G,QAAQ,QAAQC,IAAI5F,KAAK1C,KAAKU,QAAQS,QAAQC,SAAS0G,GAAI,QAAQ/G,OAAO,UAGpH,SAAlB2B,KAAK0B,eACDqJ,cAAgB5N,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAegM,cACrDtF,KAAOvI,OAAO6I,KAAKhG,KAAK1C,KAAK0B,eAAe2G,QAAQ,aAC/CP,EAAI,EAAGA,EAAI2F,cAAe3F,IAC/Ba,KAAKoC,KAAK/E,SAASoC,KAAKC,QAAQ,OAAOtH,OAAO,OAC9CqH,KAAKE,IAAI,EAAG,eAGbK,MAGXjJ,SAAS8D,UAAU6B,gBAAkB,eAC7BQ,KAAOnD,UACN/C,QAAQ6G,KAAK,sBAAsB0D,OAAM,SAAUvI,WAChDmE,KAAOrG,EAAEkC,MAAM8F,QACW,WAA1B3B,KAAKyH,KAAK,cACVzH,KAAOA,KAAKI,QAAQ,uBAExBL,KAAK8H,wBAAwBlO,EAAEqG,MAAMe,KAAK,uBAIlDnH,SAAS8D,UAAU8B,SAAW,eACtBO,KAAOnD,KACXmD,KAAKlG,QAAQ6G,KAAK,oBAAoBoH,MAAM,CACxCA,MAAO,SAAUjM,MAAOkM,WACH,QAAbA,WAAoC,SAAbA,YAEN,QAAbA,UACAA,UAAY,QACQ,SAAbA,YACPA,UAAY,QAEhBhI,KAAK8H,wBAAwBE,aAGrCC,UAAW,IACXC,gBAAiB,UAIzBrO,SAAS8D,UAAU+B,gBAAkB,eAC7BM,KAAOnD,KAEXjD,EAAEiD,KAAK/C,SAAS6G,KAAK,gBAAgB0D,OAAM,WACvCrE,KAAKmI,aAAahI,SAASvG,EAAEiD,MAAM8D,KAAK,QAAQK,KAAK,oBACrDhB,KAAKzC,QAAQ,QACbyC,KAAKpC,UAGThE,EAAEiD,KAAK/C,SAAS6G,KAAK,gBAAgB0D,OAAM,WACvCrE,KAAKzC,QAAQ,SACbyC,KAAKpC,UAGThE,EAAEiD,KAAK/C,SAAS6G,KAAK,cAAc0D,OAAM,WACrCrE,KAAKzC,QAAQ,QACbyC,KAAKpC,UAGThE,EAAEiD,KAAK/C,SAAS6G,KAAK,cAAc0D,OAAM,WACrCrE,KAAKmI,aAAavO,EAAEiD,MAAMwD,QAAQ,wBAAwBW,KAAK,cAC/DhB,KAAKzC,QAAQ,OACbyC,KAAKpC,WAIb/D,SAAS8D,UAAUgC,mBAAqB,cAC/B9C,KAAK1C,KAAKK,oBAGXwF,KAAOnD,KACXjD,EAAEwO,QAAQC,OAAO,WAAWxH,GAAG,WAAW,SAAUyH,GAE/B,IAAbA,EAAEC,SAAiBD,EAAEE,SACrBxI,KAAK8H,wBAAwB,QAGhB,IAAbQ,EAAEC,SAAiBD,EAAEE,SACrBxI,KAAK8H,wBAAwB,SAGhB,IAAbQ,EAAEC,SAAiBD,EAAEE,UACC,QAAlBxI,KAAKzB,YACLyB,KAAKzC,QAAQ,SACbyC,KAAKpC,QAEa,OAAlBoC,KAAKzB,YACLyB,KAAKzC,QAAQ,QACbyC,KAAKpC,SAII,IAAb0K,EAAEC,SAAiBD,EAAEE,UACC,QAAlBxI,KAAKzB,YACLyB,KAAKzC,QAAQ,OACbyC,KAAKpC,QAEa,SAAlBoC,KAAKzB,YACLyB,KAAKzC,QAAQ,QACbyC,KAAKpC,cAMrB/D,SAAS8D,UAAUmK,wBAA0B,SAAUE,eAC/CS,KAEkB,OAAlB5L,KAAK0B,YACLkK,KAAO,QAEW,QAAlB5L,KAAK0B,YACLkK,KAAO,QAEW,SAAlB5L,KAAK0B,YACLkK,KAAO,SAEM,QAAbT,iBACK7N,KAAK0B,cAAgBsE,SAASnG,OAAO6I,KAXnChG,KAW6C1C,KAAK0B,eAAe2H,SAAS,EAAGiF,MAAMvN,OAAO,OAEpF,SAAb8M,iBACK7N,KAAK0B,cAAgBsE,SAASnG,OAAO6I,KAdnChG,KAc6C1C,KAAK0B,eAAe4G,IAAI,EAAGgG,MAAMvN,OAAO,YAE3F0C,QAGT/D,SAAS8D,UAAUL,YAAc,kBACtB1D,EAAEwO,QAAQ3H,QAAU5D,KAAK1C,KAAKM,YAAYG,qBAAuB,SAAW,WAGvFf,SAAS8D,UAAU0D,SAAW,SAAUqH,KAEpCA,IAAMA,IAAIC,QADW,oCACa,SAAU7B,EAAGxF,EAAGC,EAAGC,UAC1CF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,SAE3BoH,OAAS,4CAA4CC,KAAKH,YACvDE,OAAS,CACZtH,EAAGnB,SAASyI,OAAO,GAAI,IACvBrH,EAAGpB,SAASyI,OAAO,GAAI,IACvBpH,EAAGrB,SAASyI,OAAO,GAAI,KACvB,MAGR/O,SAAS8D,UAAUK,yBAA2B,eACtC8E,KAAOjG,KAAKkG,mBACX+F,cAAgB3I,SAASnG,OAAO6I,KAAKC,KAAK,IAAIN,QAAQ,OAAOtH,OAAO,WACpE6N,YAAc5I,SAASnG,OAAO6I,KAAKC,KAAKA,KAAKE,OAAS,IAAIU,MAAM,OAAOxI,OAAO,OAGvFrB,SAAS8D,UAAUqL,cAAgB,SAAUC,OAAQC,WAAYC,oBAEzDxH,EADApF,WAAa,GAEb4J,EAAI8C,OAAOjG,OACXoG,cAAgBjJ,SAAStD,KAAKiM,eAC9BO,YAAclJ,SAAStD,KAAKkM,aAEvB9G,EAAI,EAAGA,EAAIkE,EAAGlE,IACnBN,EAAIsH,OAAOhH,GACP9B,SAASwB,EAAEuH,cAAgBE,eAAiBjJ,SAASwB,EAAEwH,cAAgBE,aACvE9M,WAAW2I,KAAKvD,EAAEmC,cAGtBvJ,SAAWsC,KAAK1C,KAAKI,gBACzBgC,WAAahC,SAAS+O,QAAOC,GAAKhN,WAAWiN,SAASD,KAC/C1M,KAAKwI,gBAAgB9I,aAGhC1C,SAAS8D,UAAU8L,iBAAmB,SAAU3F,SAAUmF,OAAQhN,OAAQW,OACtEa,QAAQwI,IAAI,eAAiBnC,UAC7BrG,QAAQwI,IAAI,aAAeyD,KAAKC,UAAUV,OAAQ,KAAM,IACxDxL,QAAQwI,IAAI,aAAehK,QAC3BwB,QAAQwI,IAAI,YAAcrJ,WACtBgN,WAAaF,KAAKG,MAAMjQ,EAAE,4BAA4BoH,KAAK,6BAC/DvD,QAAQwI,IAAI,aAAeyD,KAAKC,UAAUC,WAAY,KAAM,YAExDE,KAAM7E,EACNhD,EAAI2H,WAAW5G,OACZf,QACC2H,WAAW3H,GAAG6B,UAAYA,gBAC1BmF,OAAOc,QAAQ,CACXjG,SAAUA,SACVlH,MAAOgN,WAAW3H,GAAGrF,QAElBgN,WAAW3H,GAAGrF,UAUxBqF,EAAI,EAAGA,EAAIhG,OAAO+G,OAAQf,IAAK,KAChC6H,MAAO,EACP7E,EAAIgE,OAAOjG,OACJiC,KACCgE,OAAOhE,GAAGrI,OAASX,OAAOgG,KAC1B6H,MAAO,OAGVA,YACDb,OAAO/D,KAAK,CACRpB,SAAUA,SACVlH,MAAOX,OAAOgG,KAEXhG,OAAOgG,UAGfrF,OAGX/C,SAAS8D,UAAUqM,oBAAsB,kBAC9BnN,KAAKmM,cAAcnM,KAAKX,OAAQ,QAAS,QAGpDrC,SAAS8D,UAAUgG,0BAA4B,eACvCpH,WAAaM,KAAKmN,2BACjBhN,mBAAsBH,KAAKK,uBAAuB8F,OAAS,EAAKnG,KAAKK,uBAAyB,WAC/F+E,EAAI1F,WAAWyG,OACZf,UACE4E,sBAAsBtK,WAAW0F,KAI9CpI,SAAS8D,UAAUkJ,sBAAwB,SAAU/C,iBAC1CjH,KAAK4M,iBAAiB3F,SAAUjH,KAAKG,mBAAoBH,KAAK1C,KAAK8B,OAAOC,OAAQ,YAG7FrC,SAAS8D,UAAUsM,yBAA2B,kBACnCpN,KAAKG,oBAGhBnD,SAAS8D,UAAUuM,yBAA2B,SAAUC,uBAC/CjN,uBAAyBiN,kBAGlCtQ,SAAS8D,UAAUyM,sBAAwB,kBAChCvN,KAAKmM,cAAcnM,KAAKV,SAAU,OAAQ,SAGrDtC,SAAS8D,UAAUiG,4BAA8B,eACzCrH,WAAaM,KAAKuN,6BACjBnN,qBAAwBJ,KAAKM,yBAAyB6F,OAAS,EAAKnG,KAAKM,yBAA2B,WACrG8E,EAAI1F,WAAWyG,OACZf,UACE8E,wBAAwBxK,WAAW0F,KAIhDpI,SAAS8D,UAAUoJ,wBAA0B,SAAUjD,iBAC5CjH,KAAK4M,iBAAiB3F,SAAUjH,KAAKI,qBAAsBJ,KAAK1C,KAAK8B,OAAOE,SAAU,YAGjGtC,SAAS8D,UAAU0M,2BAA6B,kBACrCxN,KAAKI,sBAGhBpD,SAAS8D,UAAU2M,2BAA6B,SAAUH,uBACjDhN,yBAA2BgN,kBAGpCtQ,SAAS8D,UAAU4M,eAAiB,kBACzB1N,KAAK1C,KAAK8B,OAAOC,QAG5BrC,SAAS8D,UAAUb,eAAiB,SAAU0N,YACrCrQ,KAAK8B,OAAOC,OAASW,KAAK4N,gBAAgBD,OAC3C3N,KAAK1C,KAAK8B,OAAOG,aACZjC,KAAK8B,OAAOC,OAAOoJ,MAAK,iBAClB,GAAMoF,KAAKtO,aAK9BvC,SAAS8D,UAAUgN,iBAAmB,kBAC3B9N,KAAK1C,KAAK8B,OAAOE,UAG5BtC,SAAS8D,UAAUZ,iBAAmB,SAAUyN,YACvCrQ,KAAK8B,OAAOE,SAAWU,KAAK4N,gBAAgBD,OAC7C3N,KAAK1C,KAAK8B,OAAOG,aACZjC,KAAK8B,OAAOE,SAASmJ,MAAK,iBACpB,GAAMoF,KAAKtO,aAK9BvC,SAAS8D,UAAUiN,UAAY,kBACpB/N,KAAKX,QAGhBrC,SAAS8D,UAAUP,UAAY,SAAUlB,aAChCA,OAAUA,QAAmB,QAC7BA,OAAOoJ,MAAK,SAAUC,EAAG/D,UAClB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C5K,SAAS8D,UAAUkN,UAAY,SAAU3O,aAChCA,OAASW,KAAKX,OAAO4O,OAAO5O,aAC5BA,OAAOoJ,MAAK,SAAUC,EAAG/D,UAClB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C5K,SAAS8D,UAAUoN,YAAc,kBACtBlO,KAAKV,UAGhBtC,SAAS8D,UAAUN,YAAc,SAAUlB,eAClCA,SAAYA,UAAuB,QACnCA,SAASmJ,MAAK,SAAUC,EAAG/D,UACpB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C5K,SAAS8D,UAAUqN,YAAc,SAAU7O,eAClCA,SAAWU,KAAKV,SAAS2O,OAAO3O,eAChCA,SAASmJ,MAAK,SAAUC,EAAG/D,UACpB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C5K,SAAS8D,UAAUsN,YAAc,kBACtBpO,KAAKW,UAGhB3D,SAAS8D,UAAUQ,gBAAkB,iBAC1B,CAACtB,KAAKiM,cAAejM,KAAKkM,cAGrClP,SAAS8D,UAAUS,oBAAsB,eACjCqE,IAAM,KAAQ,SAAa,UAAc,YAC7CA,IAAMA,IAAI5F,KAAK0B,WACR,CACH4B,SAASnG,OAAO6I,KAAKhG,KAAKiM,eAAerG,IAAI,EAAGA,KAAKvH,OAAO,MAC5DiF,SAASnG,OAAO6I,KAAKhG,KAAKkM,aAAatG,IAAI,EAAGA,KAAKvH,OAAO,QAKlErB,SAAS8D,UAAUO,oBAAsB,eACjCgN,IAAM,KAAQ,SAAa,UAAc,YAC7CA,IAAMA,IAAIrO,KAAK0B,WACR,CACH4B,SAASnG,OAAO6I,KAAKhG,KAAKiM,eAAetF,SAAS,EAAG0H,KAAKhQ,OAAO,MACjEiF,SAASnG,OAAO6I,KAAKhG,KAAKkM,aAAavF,SAAS,EAAG0H,KAAKhQ,OAAO,QAIvErB,SAAS8D,UAAUwN,aAAe,kBACvBtO,KAAK1C,KAAK0B,eAGrBhC,SAAS8D,UAAUwK,aAAe,SAAUiD,gBACnCjR,KAAK0B,cAAgBsE,SAASiL,YAGvCvR,SAAS8D,UAAUY,QAAU,kBAClB1B,KAAK1C,KAAKE,MAGrBR,SAAS8D,UAAUJ,QAAU,SAAUlD,MACvB,OAARA,MAAyB,QAARA,MAA0B,SAARA,YAC9BF,KAAKE,KAAOA,OAIzBR,SAAS8D,UAAU8M,gBAAkB,SAAUlF,GAC3CA,EAAIA,EAAEuF,aACD,IAAI7I,EAAI,EAAGA,EAAIsD,EAAEvC,SAAUf,MACvB,IAAIgD,EAAIhD,EAAI,EAAGgD,EAAIM,EAAEvC,SAAUiC,EAC5BM,EAAEtD,KAAOsD,EAAEN,IACXM,EAAE8F,OAAOpG,IAAK,UAInBM,GAGX1L,SAAS8D,UAAU0H,gBAAkB,SAAUE,GAC3CA,EAAIA,EAAEuF,aACD,IAAI7I,EAAI,EAAGA,EAAIsD,EAAEvC,SAAUf,MACvB,IAAIgD,EAAIhD,EAAI,EAAGgD,EAAIM,EAAEvC,SAAUiC,EAC5BM,EAAEtD,KAAOsD,EAAEN,IACXM,EAAE8F,OAAOpG,IAAK,UAInBM,GAGX1L,SAAS8D,UAAUiF,kBAAoB,SAAU0I,UACtCA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,MAAM,QAe3CC,gBAZAC,iBAAmB,GAGvBlS,OAAOmS,OAAOnS,OAAOoS,GAAI,CACrBhS,SAAU,SAAUiS,aACZC,EAAI,IAAIlS,SAASD,EAAEiD,WAAoBxB,IAAZyQ,QAAyB,GAAKA,gBAC7DH,iBAAiBzG,KAAK6G,GACfA,SAiBXC,gBAVJ5D,OAAO6D,iBAAiB,qBAAqB,WACzC7H,aAAasH,iBACbA,gBAAkBvH,YAAW,WACzBwH,iBAAiBO,SAAQ,SAAUC,KAC/BA,IAAIvO,YALH,QAabwK,OAAO6D,iBAAiB,UAAU,WAC9B7H,aAAa4H,iBACbA,gBAAkB7H,YAAW,WACzBwH,iBAAiBO,SAAQ,SAAUC,KACN,WAArBA,IAAI7O,eACJ6O,IAAIvO,YANP"}