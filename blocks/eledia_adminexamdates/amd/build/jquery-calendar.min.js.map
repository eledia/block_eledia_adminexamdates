{"version":3,"file":"jquery-calendar.min.js","sources":["../src/jquery-calendar.js"],"sourcesContent":["/*\n * @class Calendar ~jquery-calendar plugin~ (https://github.com/ArrobeFr/jquery-calendar-bs4)\n * @author Developped by Arrobe (https://www.arrobe.fr)\n * Some Improvements, refactorizations and fixes: M. A. Coma Rivas\n * @license Licensed under MIT (https://github.com/ArrobeFr/jquery-calendar/blob/master/LICENSE)\n */\n\njQuery(document).ready(function ($) {\n    function Calendar(element, Args) {\n        // Check Moment.js dependency\n        if (typeof (moment) !== 'function') {\n            console.error('Calendar require Moment.js !');\n            return;\n        }\n\n        // Pre-defined events colors\n        var eventColors = [ // https://www.materialui.co/colors (800)\n            '#C62828', // Red\n            '#AD1457', // Pink\n            '#6A1B9A', // Purple\n            '#4527A0', // Deep Purple\n            '#283593', // Indigo\n            '#1565C0', // Blue\n            '#0277BD', // Light Blue\n            '#00838F', // Cyan\n            '#00695C', // Teal\n            '#2E7D32', // Green\n            '#558B2F', // Light Green\n            '#9E9D24', // Lime\n            '#F9A825', // Yellow\n            '#FF8F00', // Amber\n            '#EF6C00', // Orange\n            '#D84315', // Deep Orange\n            '#4E342E', // Brown\n            '#424242', // Grey\n            '#37474F', // Blue Grey\n            '#212121', // Grey (900)\n        ];\n\n        // Pre-defined events colors\n        var daynoteColors = [ // https://www.materialui.co/colors (800)\n            '#EF9A9A', // Red\n            '#F48FB1', // Pink\n            '#CE93D8', // Purple\n            '#B39DDB', // Deep Purple\n            '#9FA8DA', // Indigo\n            '#90CAF9', // Blue\n            '#81D4FA', // Light Blue\n            '#80DEEA', // Cyan\n            '#80CBC4', // Teal\n            '#A5D6A7', // Green\n            '#C5E1A5', // Light Green\n            '#E6EE9C', // Lime\n            '#FFF59D', // Yellow\n            '#FFE082', // Amber\n            '#FFCC80', // Orange\n            '#FFAB91', // Deep Orange\n            '#BCAAA4', // Brown\n            '#EEEEEE', // Grey\n            '#B0BEC5' // Blue Grey\n        ];\n\n        // Define default configuration\n        this.conf = {\n            locale: (Args.locale) ? Args.locale : 'fr',\n            view: 'week',\n            rooms: (Args.rooms !== false) ? Args.rooms : false,\n            enableKeyboard: (Args.enableKeyboard) ? Args.enableKeyboard : true,\n            defaultView: {\n                largeScreen: (Args.defaultView) ? (Args.defaultView.largeScreen) ? (Args.defaultView.largeScreen) : 'week' : 'week',\n                smallScreen: (Args.defaultView) ? (Args.defaultView.smallScreen) ? (Args.defaultView.smallScreen) : 'day' : 'day',\n                smallScreenThreshold: (Args.defaultView) ? (Args.defaultView.smallScreenThreshold) ? (Args.defaultView.smallScreenThreshold) : 1000 : 1000\n            },\n            weekday: {\n                timeline: {\n                    fromHour: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.fromHour) ? Args.weekday.timeline.fromHour : 7 : 7 : 7,\n                    toHour: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.toHour) ? Args.weekday.timeline.toHour : 20 : 20 : 20,\n                    intervalMinutes: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.intervalMinutes) ? Args.weekday.timeline.intervalMinutes : 60 : 60 : 60,\n                    format: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.format) ? Args.weekday.timeline.format : 'HH:mm' : 'HH:mm' : 'HH:mm',\n                    heightPx: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.heightPx) ? Args.weekday.timeline.heightPx : 50 : 50 : 50,\n                    autoResize: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.autoResize !== undefined) ? Args.weekday.timeline.autoResize : true : true : true\n                },\n                dayline: {\n                    weekdays: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.weekdays) ? Args.weekday.dayline.weekdays : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6],\n                    format: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.format) ? Args.weekday.dayline.format : 'dddd DD/MM' : 'dddd DD/MM' : 'dddd DD/MM',\n                    heightPx: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.heightPx) ? Args.weekday.dayline.heightPx ? (Args.weekday.dayline.heightPx > 31) ? Args.weekday.dayline.heightPx : 31 : 31 : 31 : 31 : 31,\n                    month: {\n                        format: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.format) ? Args.weekday.dayline.month.format : 'MMMM YYYY' : 'MMMM YYYY' : 'MMMM YYYY' : 'MMMM YYYY',\n                        heightPx: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.heightPx) ? Args.weekday.dayline.month.heightPx : 30 : 30 : 30 : 30,\n                        weekFormat: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.weekFormat) ? Args.weekday.dayline.month.weekFormat : 'w' : 'w' : 'w' : 'w'\n                    }\n                }\n            },\n            month: {\n                format: (Args.month) ? (Args.month.format) ? Args.month.format : 'MMMM YYYY' : 'MMMM YYYY',\n                heightPx: (Args.month) ? (Args.month.heightPx) ? (Args.month.heightPx > 31) ? Args.month.heightPx : 31 : 31 : 31,\n                weekline: {\n                    format: (Args.month) ? (Args.month.weekline) ? (Args.month.weekline.format) ? Args.month.weekline.format : 'w' : 'w' : 'w',\n                    heightPx: (Args.month) ? (Args.month.weekline) ? (Args.month.weekline.heightPx) ? Args.month.weekline.heightPx : 80 : 80 : 80\n                },\n                dayheader: {\n                    weekdays: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.weekdays) ? Args.month.dayheader.weekdays : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6],\n                    format: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.format) ? Args.month.dayheader.format : 'dddd' : 'dddd' : 'dddd',\n                    heightPx: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.heightPx) ? Args.month.dayheader.heightPx : 30 : 30 : 30\n                },\n                day: {\n                    format: (Args.month) ? (Args.month.day) ? (Args.month.day.format) ? Args.month.day.format : 'DD/MM' : 'DD/MM' : 'DD/MM'\n                }\n            },\n            unixTimestamp: (Args.unixTimestamp) ? Args.unixTimestamp : moment().format('X'),\n            event: {\n                hover: {\n                    delay: (Args.event) ? (Args.event.hover) ? (Args.event.hover.delay) ? Args.event.hover.delay : 500 : 500 : 500\n                }\n            },\n            colors: {\n                events: (Args.colors) ? (Args.colors.events) ? Args.colors.events : eventColors : eventColors,\n                daynotes: (Args.colors) ? (Args.colors.daynotes) ? Args.colors.daynotes : daynoteColors : daynoteColors,\n                random: (Args.colors) ? (Args.colors.random) ? Args.colors.random : true : true\n            },\n            categories: {\n                enable: (Args.categories) ? (Args.categories.enable !== undefined) ? Args.categories.enable : true : true,\n                hover: {\n                    delay: (Args.categories) ? (Args.categories.hover) ? (Args.categories.hover.delay) ? Args.categories.hover.delay : 500 : 500 : 500\n                }\n            },\n            now: {\n                enable: (Args.now) ? (Args.now.enable !== undefined) ? (Args.now.enable) : false : false,\n                refresh: (Args.now) ? (Args.now.refresh !== undefined) ? (Args.now.refresh) : false : false,\n                heightPx: (Args.now) ? (Args.now.heightPx) ? (Args.now.heightPx) : 1 : 1,\n                style: (Args.now) ? (Args.now.style) ? (Args.now.style) : 'solid' : 'solid',\n                color: (Args.now) ? (Args.now.color) ? (Args.now.color) : '#03A9F4' : '#03A9F4'\n            }\n        };\n\n        // Sets moment's locale\n        moment.locale(this.conf.locale);\n\n        // Sets colors\n        this.setEventColors(this.conf.colors.events);\n        this.setDaynoteColors(this.conf.colors.daynotes);\n\n        // Create array to associate colors and categories\n        this.eventCategoryColor = [];\n        this.daynoteCategoryColor = [];\n\n        // Create array to associate colors and categories as defined by setEventCategoriesColors or setDaynoteCategoriesColors\n        this.userEventCategoryColor = [];\n        this.userDaynoteCategoryColor = [];\n\n        // Load events\n        this.setEvents((Args.events) ? Args.events : []);\n\n        // Load day notes\n        this.setDaynotes((Args.daynotes) ? Args.daynotes : []);\n\n        // Define the default view\n        if (this.mobileQuery() == 'mobile') {\n            this.setView(this.conf.defaultView.smallScreen);\n        } else {\n            this.setView(this.conf.defaultView.largeScreen);\n        }\n\n        // Init\n        this.element = element;\n        this.initTime = false;\n    }\n\n    Calendar.prototype.init = function () {\n        var millis = Date.now();\n        this.element.addClass('loading');\n        this.calculateCurrentInterval();\n        $(this.element).trigger('Calendar.init', [\n            this,\n            this.getPrevViewInterval(),\n            this.getViewInterval(),\n            this.getNextViewInterval()\n        ]);\n        $(this.element).html('');\n        if (!$(this.element).hasClass('calendar')) {\n            $(this.element).addClass('calendar');\n        }\n        if (this.getView() == 'day' || this.getView() == 'week') {\n            if (this.conf.weekday.timeline.autoResize) {\n                this.resizeTimeline();\n            }\n        }\n        this.drawCategories();\n        if (this.getView() == 'day' || this.getView() == 'week') {\n            this.weekDrawTime();\n            this.weekDrawDays();\n            this.weekDrawDaynotes();\n            this.weekDrawEvents();\n        }\n        if (this.getView() == 'month') {\n            this.monthDrawWeek();\n            this.monthDrawWeekNumbers();\n            this.monthDrawWeekDays();\n            this.monthDrawDaynotes();\n            this.monthDrawEvents();\n        }\n        this.drawModal();\n        this.drawNow();\n        this.positionEvents();\n        this.hoverEventOrDaynote();\n        this.clickEventOrDaynote();\n        this.addBtnLeftRight();\n        this.addSwipe();\n        this.clickSwitchView();\n        this.keyboardSwitchView();\n        this.defaultEvents();\n        this.element.removeClass('loading');\n        this.initTime = (Date.now() - millis) + 'ms';\n    };\n\n    Calendar.prototype.defaultEvents = function () {\n        if (this.binded == true) {\n            return;\n        }\n        var self = this;\n        var eventMouseenterDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                if (parseInt(elem.css('top')) >= (elem.closest('ul').height() / 2) - self.conf.weekday.timeline.heightPx) {\n                    var heightPx = parseInt(elem.css('top')) + parseInt(elem.css('height'));\n                    elem\n                        .css('z-index', 10)\n                        .animate({\n                            height: heightPx,\n                            top: 0,\n                            width: '100%',\n                            left: 0\n                        }, 50)\n                    ;\n                } else {\n                    var heightPx = elem.closest('ul').height() - parseInt(elem.css('top'));\n                    elem\n                        .css('z-index', 10)\n                        .animate({\n                            height: heightPx,\n                            width: '100%',\n                            left: 0\n                        }, 50)\n                    ;\n                }\n                elem.find('.event-name').removeClass('invisible');\n                elem.find('.event-content').removeClass('invisible');\n            }\n        };\n        $(self.element).off('Calendar.event-mouseenter', eventMouseenterDefault).on('Calendar.event-mouseenter', eventMouseenterDefault);\n        $(self.element).off('Calendar.daynote-mouseenter', eventMouseenterDefault).on('Calendar.daynote-mouseenter', eventMouseenterDefault);\n\n        var eventMouseleaveDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                elem\n                    .css('z-index', 'auto')\n                    .animate({\n                        height: parseFloat(elem.attr('data-height')) + 'px',\n                        top: parseFloat(elem.attr('data-top')),\n                        width: parseFloat(elem.attr('data-width')) + '%',\n                        left: parseFloat(elem.attr('data-left')) + '%'\n                    }, 50)\n                ;\n                elem.find('.event-content').addClass('invisible');\n            }\n        };\n        $(self.element).off('Calendar.event-mouseleave', eventMouseleaveDefault).on('Calendar.event-mouseleave', eventMouseleaveDefault);\n        $(self.element).off('Calendar.daynote-mouseleave', eventMouseleaveDefault).on('Calendar.daynote-mouseleave', eventMouseleaveDefault);\n\n        var eventClickDefault = function (event, self, elem, evt) {\n            if (!event.isDefaultPrevented()) {\n                var modal = $(self.element).find('#calendar-modal');\n                var rgb = self.hexToRgb(elem.attr('data-color'));\n                modal.css('background', 'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', 0.5)');\n                modal.find('.modal-title').append(elem.attr('data-title') + ' ');\n                modal.find('.modal-body').append(\n                    $('<h4>').append(\n                        $(this).closest('.calendar-events-day').find('span').html()\n                    ).append(\n                        ' '\n                    ).append(\n                        $('<small>').text(elem.find('.event-date').text())\n                    )\n                );\n                modal.find('.modal-body').append(elem.find('.event-content').html());\n                modal.modal('show');\n                modal.on('hidden.bs.modal', function (e) {\n                    $(e.target).find('.modal-title').html('');\n                    $(e.target).find('.modal-body').html('');\n                });\n            }\n        };\n        $(self.element).off('Calendar.event-click', eventClickDefault).on('Calendar.event-click', eventClickDefault);\n        $(self.element).off('Calendar.daynote-click', eventClickDefault).on('Calendar.daynote-click', eventClickDefault);\n\n        var eventCategoryClickDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                var events = self.element.find('.calendar-event[data-category=\"' + $(elem).text() + '\"]');\n                if ($(elem).attr('data-clicked') == 'false') {\n                    events.animate({\n                        opacity: 0\n                    }, 200, function () {\n                        events.css('display', 'none');\n                        $(elem).css('background-color', '#E0E0E0');\n                        $(elem).attr('data-clicked', true);\n                    });\n                }\n                if ($(elem).attr('data-clicked') == 'true') {\n                    events.css('display', 'list-item');\n                    $(elem).css('background-color', $(elem).attr('data-color'));\n                    events.animate({\n                        opacity: 1\n                    }, 200, function () {\n                        $(elem).attr('data-clicked', false);\n                    });\n                }\n            }\n        };\n        $(self.element).off('Calendar.category-event-click', eventCategoryClickDefault).on('Calendar.category-event-click', eventCategoryClickDefault);\n        $(self.element).off('Calendar.category-daynote-click', eventCategoryClickDefault).on('Calendar.category-daynote-click', eventCategoryClickDefault);\n\n        var eventCategoryMouseenterDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                self.element.find('.calendar-event').each(function (i, e) {\n                    if ($(e).attr('data-category') != elem.text()) {\n                        $(e).css('opacity', 0.2);\n                    }\n                });\n            }\n        };\n        $(self.element).off('Calendar.category-event-mouseenter', eventCategoryMouseenterDefault).on('Calendar.category-event-mouseenter', eventCategoryMouseenterDefault);\n        $(self.element).off('Calendar.category-daynote-mouseenter', eventCategoryMouseenterDefault).on('Calendar.category-daynote-mouseenter', eventCategoryMouseenterDefault);\n\n        var eventCategoryMouseleaveDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                self.element.find('.calendar-event').each(function (i, e) {\n                    $(e).css('opacity', 1);\n                });\n            }\n        };\n        $(self.element).off('Calendar.category-event-mouseleave', eventCategoryMouseleaveDefault).on('Calendar.category-event-mouseleave', eventCategoryMouseleaveDefault);\n        $(self.element).off('Calendar.category-daynote-mouseleave', eventCategoryMouseleaveDefault).on('Calendar.category-daynote-mouseleave', eventCategoryMouseleaveDefault);\n\n        this.binded = true;\n    };\n\n    Calendar.prototype.weekDrawTime = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-timeline'\n        }));\n        $(this.element).find('div.calendar-timeline').css('padding-top', this.conf.weekday.dayline.heightPx + 'px');\n        var marginTop = this.conf.weekday.dayline.month.heightPx;\n        if (this.conf.categories.enable) {\n            var $categoryBar = $(this.element).find('div.calendar-categories');\n            marginTop += $categoryBar.height() + parseFloat($categoryBar.css('margin-bottom'));\n        }\n        $(this.element).find('div.calendar-timeline').css('margin-top', marginTop + 'px');\n\n        $(this.element).find('div.calendar-timeline').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-timeline').find('ul');\n\n        var time = moment(moment()).startOf('Week');\n        time.add(this.conf.weekday.timeline.fromHour, 'H');\n\n        var limit = (((this.conf.weekday.timeline.toHour + 1) * 60) - (this.conf.weekday.timeline.fromHour * 60)) / this.conf.weekday.timeline.intervalMinutes;\n        var i = 0;\n        while (i < limit) {\n            li = $('<li>');\n            li.append($('<span>').text(time.format(this.conf.weekday.timeline.format)));\n            li.height(this.conf.weekday.timeline.heightPx);\n            ul.append(li);\n            time.add(this.conf.weekday.timeline.intervalMinutes, 'm');\n            i++;\n        }\n    };\n\n    Calendar.prototype.weekDrawDays = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-events'\n        }));\n\n        var div = $('<div>', {\n                \"class\": 'calendar-month'\n            })\n                .css('height', this.conf.weekday.dayline.month.heightPx + 'px')\n                .css('text-align', 'center')\n                .css('padding-top', (this.conf.weekday.dayline.month.heightPx - 20) / 2 + 'px')\n        ;\n        if (this.getView() == 'week') {\n            div.text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.weekday.dayline.month.format)));\n            div.addClass('weektomonth');\n        }\n        if (this.getView() == 'day') {\n            div.text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.weekday.dayline.month.weekFormat)));\n            div.addClass('daytoweek');\n        }\n        $(this.element).find('div.calendar-events').append(div);\n\n        $(this.element).find('div.calendar-events').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-events').find('ul');\n\n        var days = this.getViewDays();\n\n        for (var i = 0; i < days.length; i++) {\n            time = moment.unix(days[i]);\n\n            li = $('<li>', {\n                \"class\": 'calendar-events-day'\n            });\n            li.css('width', 100 / days.length + '%');\n            div = $('<div>', {\n                \"class\": 'calendar-day-header'\n            });\n            div.height(this.conf.weekday.dayline.heightPx);\n            if (i == 0 && this.mobileQuery() == 'desktop') {\n                div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                }).attr('data-direction', 'left').append($('<i>', {\n                    \"class\": 'fas fa-arrow-left'\n                })));\n            }\n            div.append($('<span>')\n                .addClass('weektoday')\n                .css('width', '100%')\n                .html(this.miscUcfirstString(time.format(this.conf.weekday.dayline.format)))\n            );\n\n            if (i == days.length - 1 && this.mobileQuery() == 'desktop') {\n                div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                }).attr('data-direction', 'right').append($('<i>', {\n                    \"class\": 'fas fa-arrow-right'\n                })));\n            }\n            li.append(div);\n            li.attr('data-time', time.startOf('day').format('X'));\n            li.append($('<ul>'));\n            li.find('ul').height(((60 / this.conf.weekday.timeline.intervalMinutes) * (this.conf.weekday.timeline.toHour - this.conf.weekday.timeline.fromHour) * this.conf.weekday.timeline.heightPx) + ((60 / this.conf.weekday.timeline.intervalMinutes) * this.conf.weekday.timeline.heightPx));\n            ul.append(li);\n        }\n\n        var maxHeight = 0;\n        $(this.element).find('.calendar-day-header').each(function () {\n            if ($(this).height() > maxHeight) {\n                maxHeight = $(this).height();\n            }\n        });\n        $(this.element).find('.calendar-day-header').each(function () {\n            $(this).height(maxHeight);\n        });\n\n        if (this.conf.weekday.dayline.heightPx < maxHeight) {\n            this.conf.weekday.dayline.heightPx = maxHeight;\n            $(this.element).find('div.calendar-timeline').css('padding-top', this.conf.weekday.dayline.heightPx + 'px'); // W: Padding-top do cabeçalho dos dias da semana\n            // alert(this.conf.weekday.dayline.heightPx + \" \" + $(this.element).find('.calendar-day-header').first().css('height'));\n        }\n\n    };\n\n    Calendar.prototype.monthDrawWeek = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-events'\n        }));\n        var div = $('<div>', {\n            \"class\": 'calendar-month'\n        });\n        div.css('height', this.conf.month.heightPx + 'px');\n\n        if (this.mobileQuery() == 'desktop') {\n            div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                })\n                    .attr('data-direction', 'left')\n                    .append($('<i>', {\n                        \"class\": 'fas fa-angle-left'\n                    }))\n            );\n        }\n        div.append($('<span>')\n            .css('position', 'absolute')\n            .css('top', this.conf.month.heightPx / 2 + 'px')\n            .css('right', '50%')\n            .css('transform', 'translate(50%,-50%)')\n            .text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.month.format)))\n        );\n        if (this.mobileQuery() == 'desktop') {\n            div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                })\n                    .css('float', 'right')\n                    .attr('data-direction', 'right')\n                    .append($('<i>', {\n                        \"class\": 'fas fa-arrow-right'\n                    }))\n            );\n        }\n\n        $(this.element).find('div.calendar-events').append(div);\n        $(this.element).find('div.calendar-events').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-events').find('ul');\n\n        var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n        var month = parseInt(time.format('MM'));\n        var week = parseInt(time.format('w'));\n        var nbWeeks = 0;\n        while (parseInt(time.format('MM')) == month) {\n            nbWeeks++;\n            while (parseInt(time.format('w')) == week) {\n                time.add(1, 'days');\n            }\n            week = parseInt(time.format('w'));\n        }\n\n        for (var i = 0; i < this.conf.month.dayheader.weekdays.length; i++) {\n            time = moment().startOf('week').add(this.conf.month.dayheader.weekdays[i], 'days');\n            li = $('<li>', {\n                \"class\": 'calendar-month-day-header'\n            });\n            li.append($('<div>')\n                .css('height', this.conf.month.dayheader.heightPx + 'px')\n                .css('padding-top', (this.conf.month.dayheader.heightPx - 20) / 2 + 'px')\n                .text(this.miscUcfirstString(time.format(this.conf.month.dayheader.format)))\n            );\n            li.css('width', 100 / this.conf.month.dayheader.weekdays.length + '%');\n            li.append($('<ul>').css('height', nbWeeks * this.conf.month.weekline.heightPx + 'px'));\n            ul.append(li);\n        }\n        var maxHeight = 0;\n        $(this.element).find('.calendar-month-day-header').each(function () {\n            var e = $(this).find('div');\n            if ($(e).height() > maxHeight) {\n                maxHeight = $(e).height();\n            }\n        });\n        $(this.element).find('.calendar-month-day-header').each(function () {\n            var e = $(this).find('div');\n            $(e).height(maxHeight);\n        });\n    };\n\n    Calendar.prototype.monthDrawWeekNumbers = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-timeline'\n        }));\n        var marginTop = this.conf.month.dayheader.heightPx;\n        marginTop += this.conf.month.heightPx;\n        if (this.conf.categories.enable) {\n            marginTop += 30;\n        }\n        marginTop += 2;\n        $(this.element).find('div.calendar-timeline').css('margin-top', marginTop + 'px');\n        $(this.element).find('div.calendar-timeline').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-timeline').find('ul');\n\n        var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n        var month = parseInt(time.format('MM'));\n        var week = parseInt(time.format('w'));\n        while (parseInt(time.format('MM')) == month) {\n            li = $('<li>', {\n                \"class\": 'monthtoweek'\n            });\n            li.append($('<span>')\n                .attr('data-timestamp', time.format('X'))\n                .text(time.format(this.conf.month.weekline.format)).css('margin-top', this.conf.month.weekline.heightPx / 2 + 'px')\n            );\n            li.height(this.conf.month.weekline.heightPx);\n            ul.append(li);\n            while (parseInt(time.format('w')) == week) {\n                time.add(1, 'days');\n            }\n            week = parseInt(time.format('w'));\n        }\n    };\n\n    Calendar.prototype.monthDrawWeekDays = function () {\n        var days = this.getViewDays(),\n            targetUl, li;\n\n        var i = parseInt(moment.unix(days[0]).weekday());\n        var time = moment.unix(days[0]);\n        while (i > 0) {\n            time = time.subtract(1, 'days');\n            targetUl = this.element.find(\".calendar-events>ul>.calendar-month-day-header>div:contains('\" + this.miscUcfirstString(time.format(this.conf.month.dayheader.format)) + \"')\").parent().find('ul');\n            li = $('<li>');\n            li.css('height', this.conf.month.weekline.heightPx + 'px');\n            $(targetUl).append(li);\n            i--;\n        }\n\n        time = days.length;\n        for (i = 0; i < time; i++) {\n            targetUl = this.element.find(\".calendar-events>ul>.calendar-month-day-header>div:contains('\" + this.miscUcfirstString(moment.unix(days[i]).format(this.conf.month.dayheader.format)) + \"')\").parent().find('ul');\n            li = $('<li>', {\n                \"class\": 'calendar-month-events-day'\n            });\n            li.css('height', this.conf.month.weekline.heightPx + 'px');\n            li.attr('data-time-from', moment.unix(days[i]).startOf('day').format('X'));\n            li.attr('data-time-to', moment.unix(days[i]).endOf('day').format('X'));\n            li.append($('<span>').text(moment.unix(days[i]).format(this.conf.month.day.format)));\n            $(targetUl).append(li);\n        }\n\n        this.element.find('.calendar-month-events-day').each(function () {\n            $(this).append($('<ul>'));\n        });\n    };\n\n    Calendar.prototype.drawCategories = function () {\n        this.determineEventsCategories();\n        this.determineDaynotesCategories();\n\n        if (this.conf.categories.enable) {\n            var label,\n                div = $('<div>', {\n                    \"class\": 'calendar-categories'\n                }).css('height', '26px');\n            for (var i = 0; i < this.eventCategoryColor.length; i++) {\n                label = $('<span>', {\n                    \"class\": 'badge badge-default calendar-label'\n                });\n                label.css('margin-right', '5px');\n                label.css('background-color', this.eventCategoryColor[i].color);\n                label.css('cursor', 'pointer');\n                label.attr('data-color', this.eventCategoryColor[i].color);\n                label.attr('data-clicked', false);\n                label.text(this.eventCategoryColor[i].category);\n                div.append(label);\n            }\n            for (i = 0; i < this.daynoteCategoryColor.length; i++) {\n                label = $('<span>', {\n                    \"class\": 'badge badge-default calendar-label calendar-label-daynote'\n                });\n                label.css('margin-right', '5px');\n                label.css('background-color', this.daynoteCategoryColor[i].color);\n                label.css('cursor', 'pointer');\n                label.attr('data-color', this.daynoteCategoryColor[i].color);\n                label.attr('data-clicked', false);\n                label.text(this.daynoteCategoryColor[i].category);\n                div.append(label);\n            }\n            this.element.prepend(div);\n            this.hoverCategory();\n            this.clickCategory();\n        }\n    };\n\n    Calendar.prototype.hoverCategory = function () {\n        var setTimeoutConst, elem,\n            self = this;\n        this.element.find('.calendar-label').hover(\n            function () {\n                elem = $(this);\n                setTimeoutConst = setTimeout(function () {\n                    if (elem.hasClass('calendar-label-daynote')) {\n                        $(self.element).trigger('Calendar.category-daynote-mouseenter', [\n                            self,\n                            elem\n                        ]);\n                    } else {\n                        $(self.element).trigger('Calendar.category-event-mouseenter', [\n                            self,\n                            elem\n                        ]);\n                    }\n                }, self.conf.categories.hover.delay);\n            },\n            function () {\n                clearTimeout(setTimeoutConst);\n                elem = $(this);\n                if (elem.hasClass('calendar-label-daynote')) {\n                    $(self.element).trigger('Calendar.category-daynote-mouseleave', [\n                        self,\n                        elem\n                    ]);\n                } else {\n                    $(self.element).trigger('Calendar.category-event-mouseleave', [\n                        self,\n                        elem\n                    ]);\n                }\n            }\n        );\n    };\n\n    Calendar.prototype.clickCategory = function () {\n        var elem,\n            self = this;\n        this.element.find('.calendar-label').click(function (event) {\n            if ($(event.target).hasClass('calendar-label-daynote')) {\n                $(self.element).trigger('Calendar.category-daynote-click', [\n                    self,\n                    elem\n                ]);\n            } else {\n                $(self.element).trigger('Calendar.category-event-click', [\n                    self,\n                    elem\n                ]);\n            }\n        });\n    };\n\n    Calendar.prototype.positionEvents = function () {\n        switch (this.getView()) {\n            case 'day':\n            case 'week':\n                this.positionEventsInWeek();\n                break;\n\n            case 'month':\n                this.positionEventsInMonth();\n                break;\n        }\n    };\n\n    Calendar.prototype.positionEventsInWeek = function () {\n        var self = this;\n        var zeroLast = 0;\n        this.element.find('.calendar-event').each(function (i) {\n            // Place each event in the grid -> need to set top position and height\n            var start = parseInt($(this).attr('data-start'));\n            var end = parseInt($(this).attr('data-end'));\n            var duration = end - start;\n            var zero = parseInt($(this).closest('li.calendar-events-day').attr('data-time')) + (self.conf.weekday.timeline.fromHour * 60 * 60);\n            if (zero > zeroLast) {\n                zeroLast = zero;\n            }\n            var eventTop = ((start - zero) / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) - 1;\n            var eventHeight = (duration / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) + 1;\n\n            var endsOnCurrent = 0;\n            var nbEventNotOnCurrent = false;\n            var nbEventOnCurrent = 0;\n            var tmp = [];\n            var currentElement = $(this);\n            $(this).closest('ul').find('li.calendar-event').each(function (j, e) {\n                if ($(e)[0] != currentElement[0]) {\n                    if (parseInt(currentElement.attr('data-start')) < parseInt($(e).attr('data-end')) && parseInt(currentElement.attr('data-end')) > parseInt($(e).attr('data-start'))) {\n                        tmp.push($(e));\n                        nbEventOnCurrent++;\n                    }\n                    if (parseInt(currentElement.attr('data-start')) < parseInt($(e).attr('data-end')) && parseInt(currentElement.attr('data-end')) > parseInt($(e).attr('data-end'))) {\n                        endsOnCurrent++;\n                    } else if (parseInt(currentElement.attr('data-start')) == parseInt($(e).attr('data-start')) && parseInt($(e).attr('data-index')) < parseInt(currentElement.attr('data-index'))) {\n                        endsOnCurrent++;\n                    }\n                }\n            });\n\n            var dates = [];\n            dates.push(parseInt(currentElement.attr('data-start')));\n            dates.push(parseInt(currentElement.attr('data-end')));\n\n            for (var i = 0; i < tmp.length; i++) {\n                if (parseInt(tmp[i].attr('data-start')) >= parseInt(currentElement.attr('data-start')) && parseInt(tmp[i].attr('data-start')) <= parseInt(currentElement.attr('data-end'))) {\n                    dates.push(parseInt(tmp[i].attr('data-start')));\n                }\n                if (parseInt(tmp[i].attr('data-end')) >= parseInt(currentElement.attr('data-start')) && parseInt(tmp[i].attr('data-end')) <= parseInt(currentElement.attr('data-end'))) {\n                    dates.push(parseInt(tmp[i].attr('data-end')));\n                }\n            }\n\n            dates = self.miscUniqueArray(dates);\n            dates.sort(function (a, b) {\n                return (a > b) ? 1 : -1;\n            });\n\n            for (var i = 0; i < dates.length; i++) {\n                var enMemeTemps = 0;\n                for (var j = 0; j < tmp.length; j++) {\n                    if (dates[i] > parseInt(tmp[j].attr('data-start')) && dates[i] <= parseInt(tmp[j].attr('data-end'))) {\n                        enMemeTemps++;\n                    }\n                }\n                if ((enMemeTemps > 0 && enMemeTemps > nbEventNotOnCurrent) || nbEventNotOnCurrent === false) {\n                    nbEventNotOnCurrent = enMemeTemps;\n                }\n            }\n\n            currentElement.attr('data-events', nbEventNotOnCurrent + 1);\n            currentElement.attr('data-divider', nbEventNotOnCurrent + 1);\n\n            i = tmp.length;\n            while (i--) {\n                if (parseInt(tmp[i].attr('data-divider')) > parseInt(currentElement.attr('data-divider'))) {\n                    currentElement.attr('data-divider', tmp[i].attr('data-divider'));\n                }\n            }\n\n            var positions = [];\n            for (i = 0; i < parseInt(currentElement.attr('data-divider')); i++) {\n                positions[i] = false;\n                for (var j = 0; j < tmp.length; j++) {\n                    for (var k = 0; k < String(tmp[j].attr('data-positions')).split(',').length; k++) {\n                        var position = String(tmp[j].attr('data-positions')).split(',')[k];\n                        if (position == i) {\n                            positions[i] = true;\n                        }\n                    }\n                }\n            }\n\n            currentElement.attr('data-positions', -1);\n\n            i = 0;\n            while (parseInt(currentElement.attr('data-positions')) == -1) {\n                if (positions[i] === false) {\n                    currentElement.attr('data-positions', i);\n                    if (parseInt(currentElement.attr('data-divider')) - parseInt(currentElement.attr('data-events')) + 1 > 1) {\n                        while (positions[i + 1] === false) {\n                            currentElement.attr('data-positions', currentElement.attr('data-positions') + ',' + (i + 1));\n                            i++;\n                        }\n                    }\n                }\n                i++;\n            }\n            if (self.conf.rooms !== false) {\n                var eventLeft = (String(currentElement.attr('data-positions')).split(',')[0] / self.conf.rooms) * 100;\n                var eventWidth = 100 / self.conf.rooms;\n            } else {\n                var eventWidth = 100 / (parseInt(currentElement.attr('data-divider')) / String(currentElement.attr('data-positions')).split(',').length);\n                var eventLeft = (String(currentElement.attr('data-positions')).split(',')[0] / parseInt(currentElement.attr('data-divider'))) * 100;\n            }\n            console.log('###rooms:' + self.conf.rooms);\n            self.setEventPosition(this, eventTop, eventHeight, eventLeft, eventWidth);\n        });\n    };\n\n    Calendar.prototype.positionEventsInMonth = function () {\n        var self = this;\n        this.element.find('li.calendar-month-events-day').each(function () {\n            var n = $(this).find('.calendar-event').length;\n            $(this).find('.calendar-event').each(function (i) {\n\n                var eventTop = (parseInt($(this).closest('.calendar-month-events-day').index()) * self.conf.month.weekline.heightPx) + 20 - 1;\n                var eventHeight = self.conf.month.weekline.heightPx - 21 + 1;\n                var eventWidth = 100 / n;\n                var eventLeft = (100 / n) * i;\n\n                self.setEventPosition(this, eventTop, eventHeight, eventLeft, eventWidth);\n            });\n        });\n    };\n\n    Calendar.prototype.setEventPosition = function (elem, eventTop, eventHeight, eventLeft, eventWidth) {\n        $(elem).attr('data-top', eventTop);\n        $(elem).attr('data-height', eventHeight);\n        $(elem).attr('data-left', eventLeft);\n        $(elem).attr('data-width', eventWidth);\n\n        $(elem).css({\n            top: (eventTop) + 'px',\n            height: (eventHeight) + 'px',\n            left: eventLeft + '%',\n            width: eventWidth + '%'\n        });\n    };\n\n    Calendar.prototype.weekDrawEvents = function () {\n        var e, i, day, fromHour, toHour, interval,\n            n = this.events.length;\n        for (i = 0; i < n; i++) {\n            e = this.events[i];\n            day = false;\n            fromHour = this.conf.weekday.timeline.fromHour;\n            toHour = this.conf.weekday.timeline.toHour;\n            interval = this.conf.weekday.timeline.intervalMinutes;\n            $(this.element).find('.calendar-events-day').each(function (i, d) {\n                if (e.start >= (parseInt($(d).attr('data-time')) + fromHour * 60 * 60) && e.end <= (parseInt($(d).attr('data-time')) + toHour * 60 * 60) + ((60 / interval) * interval * 60)) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.start).format('X'),\n                    moment.unix(e.end).format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.confirmed,\n                    e.myevent,\n                    this.getEventCategoryColor(e.category),\n                    moment.unix(e.start).format(this.conf.weekday.timeline.format) + ' - ' + moment.unix(e.end).format(this.conf.weekday.timeline.format),\n                    ['calendar-event']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.weekDrawDaynotes = function () {\n        var i, e, day,\n            n = this.daynotes.length;\n        for (i = 0; i < n; i++) {\n            e = this.daynotes[i];\n            day = false;\n            $(this.element).find('.calendar-events-day').each(function (m, d) {\n                if (parseInt(moment.unix(e.time).startOf('day').format('X')) == parseInt($(d).attr('data-time'))) {\n                    day = d;\n                }\n            });\n\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                var color = this.getDaynoteCategoryColor(e.category);\n                var from = this.conf.weekday.timeline.fromHour;\n                var toHour = this.conf.weekday.timeline.toHour + parseInt(this.conf.weekday.timeline.intervalMinutes / 60);\n                var toMin = ((this.conf.weekday.timeline.intervalMinutes / 60) - parseInt(this.conf.weekday.timeline.intervalMinutes / 60)) * 60;\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.time).startOf('day').add(from, 'h').format('X'),\n                    moment.unix(e.time).startOf('day').add(toHour, 'h').add(toMin, 'm').format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.confirmed,\n                    e.myevent,\n                    this.getDaynoteCategoryColor(e.category),\n                    '',\n                    ['calendar-event', 'calendar-daynote']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.drawEventsOrDaynotes = function (e, index, start, end, title, content, category, confirmed, myevent, color, time_interval, classes) {\n\n\n        var li = $('<li>'),\n            i = classes.length;\n        while (i--) {\n            li.addClass(classes[i]);\n        }\n        li.attr('data-index', index);\n        li.attr('data-start', start);\n        li.attr('data-end', end);\n        li.attr('data-title', title);\n        li.attr('data-content', content);\n        li.attr('data-category', category);\n        li.attr('data-confirmed', confirmed);\n        li.attr('data-myevent', myevent);\n        li.attr('data-color', color);\n        li.css('background', color);\n        if (confirmed !== '1') {\n            li.css('opacity', '0.6');\n        }\n        if (myevent === '1') {\n            li.css('border', '5px solid darkblue');\n        }\n        a = $('<a>', {\n            href: '#'\n        });\n        a.append($('<em>', {\n            \"class\": 'event-name'\n        }).text(title));\n        a.append($('<em>', {\n            \"class\": 'event-content invisible'\n        }));\n\n        a.find('.event-content').append($('<b>', {\n            \"class\": 'event-date'\n        }).html(time_interval));\n        a.find('.event-content').append($('<br>'));\n        a.find('.event-content').append(content);\n\n        li.append(a);\n        $(e).find('ul').append(li);\n    };\n\n    Calendar.prototype.monthDrawEvents = function () {\n        var i, e, day,\n            n = this.events.length;\n        for (i = 0; i < n; i++) {\n            e = this.events[i];\n            day = false;\n            $(this.element).find('.calendar-month-events-day').each(function (m, d) {\n                if (e.start >= (parseInt($(d).attr('data-time-from'))) && e.end <= (parseInt($(d).attr('data-time-to')))) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.start).format('X'),\n                    moment.unix(e.end).format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.confirmed,\n                    e.myevent,\n                    this.getEventCategoryColor(e.category),\n                    moment.unix(e.start).format(this.conf.month.day.format) + ' : ' + moment.unix(e.start).format(this.conf.weekday.timeline.format) + ' - ' + moment.unix(e.end).format(this.conf.weekday.timeline.format),\n                    ['calendar-event']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.monthDrawDaynotes = function () {\n        var i, e, day,\n            n = this.daynotes.length;\n        for (i = 0; i < n; i++) {\n            e = this.daynotes[i];\n            day = false;\n            $(this.element).find('.calendar-month-events-day').each(function (m, d) {\n                if (e.time >= (parseInt($(d).attr('data-time-from'))) && e.time <= (parseInt($(d).attr('data-time-to')))) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.time).startOf('day').format('X'),\n                    moment.unix(e.time).endOf('day').format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.confirmed,\n                    e.myevent,\n                    this.getDaynoteCategoryColor(e.category),\n                    moment.unix(e.time).format(this.conf.month.day.format),\n                    ['calendar-event', 'calendar-daynote']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.drawModal = function () {\n        modal = '<div class=\"modal fade\" id=\"calendar-modal\" tabindex=\"-1\" role=\"dialog\">';\n        modal += '<div class=\"modal-dialog\" role=\"document\">';\n        modal += '<div class=\"modal-content\">';\n        modal += '<div class=\"modal-header\">';\n        modal += '<h3 class=\"modal-title\"></h3>';\n        modal += '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>';\n        modal += '</div>';\n        modal += '<div class=\"modal-body\">';\n        modal += '</div>';\n        modal += '</div>';\n        modal += '</div>';\n        modal += '</div>';\n        $(this.element).append(modal);\n    };\n\n    Calendar.prototype.drawNow = function () {\n        if (this.conf.now.enable) {\n            var hr = $('<hr>', {\n                \"class\": 'featurette-divider calendar-now'\n            });\n            hr.css('width', '100%');\n            hr.css('position', 'absolute');\n            hr.css('z-index', 3);\n            hr.css('border-top', this.conf.now.heightPx + 'px ' + this.conf.now.style + ' ' + this.conf.now.color);\n            var top = ((moment().format('X') - moment().startOf('day').add(this.conf.weekday.timeline.fromHour, 'h').format('X')) / 60 / this.conf.weekday.timeline.intervalMinutes * this.conf.weekday.timeline.heightPx) - (this.conf.weekday.timeline.heightPx / 2);\n            hr.css('top', top + 'px');\n            this.element.find('li.calendar-events-day[data-time=\"' + moment().startOf('day').format('X') + '\"]').find('ul').append(hr);\n            if (this.conf.now.refresh) {\n                var self = this;\n                setInterval(function () {\n                    var hr = self.element.find('hr.calendar-now').remove();\n                    var hr = $('<hr>', {\n                        \"class\": 'featurette-divider calendar-now'\n                    });\n                    hr.css('width', '100%');\n                    hr.css('position', 'absolute');\n                    hr.css('z-index', 2);\n                    hr.css('border-top', self.conf.now.heightPx + 'px ' + self.conf.now.style + ' ' + self.conf.now.color);\n                    var top = ((moment().format('X') - moment().startOf('day').add(self.conf.weekday.timeline.fromHour, 'h').format('X')) / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) - (self.conf.weekday.timeline.heightPx / 2);\n                    hr.css('top', top + 'px');\n                    self.element.find('li.calendar-events-day[data-time=\"' + moment().startOf('day').format('X') + '\"]').find('ul').append(hr);\n                }, 10000);\n            }\n        }\n    };\n\n    Calendar.prototype.hoverEventOrDaynote = function () {\n        var self = this;\n        this.element.find('.calendar-event').each(function () {\n            var setTimeoutConst;\n            $(this).hover(\n                function () {\n                    elem = $(this);\n                    setTimeoutConst = setTimeout(function () {\n                        if (elem.hasClass('calendar-daynote')) {\n                            $(self.element).trigger('Calendar.daynote-mouseenter', [\n                                self,\n                                elem\n                            ]);\n                        } else {\n                            $(self.element).trigger('Calendar.event-mouseenter', [\n                                self,\n                                elem\n                            ]);\n                        }\n\n                    }, self.conf.event.hover.delay);\n                },\n                function () {\n                    clearTimeout(setTimeoutConst);\n                    elem = $(this);\n                    if (elem.hasClass('calendar-daynote')) {\n                        $(self.element).trigger('Calendar.daynote-mouseleave', [\n                            self,\n                            elem\n                        ]);\n                    } else {\n                        $(self.element).trigger('Calendar.event-mouseleave', [\n                            self,\n                            elem\n                        ]);\n                    }\n\n                }\n            );\n        });\n    };\n\n    Calendar.prototype.clickEventOrDaynote = function () {\n        var self = this;\n        this.element.find('.calendar-event').each(function () {\n            $(this).click(function (event) {\n                event.preventDefault();\n                event.stopPropagation();\n                elem = $(event.target);\n                if (elem.prop('nodeName') !== 'LI' && !elem.hasClass('calendar-event')) {\n                    elem = elem.closest('li.calendar-event');\n                }\n                if (elem.hasClass('calendar-daynote')) {\n                    $(self.element).trigger('Calendar.daynote-click', [\n                        self,\n                        elem,\n                        self.daynotes[parseInt(elem.attr('data-index'))]\n                    ]);\n                } else {\n                    $(self.element).trigger('Calendar.event-click', [\n                        self,\n                        elem,\n                        self.events[parseInt(elem.attr('data-index'))]\n                    ]);\n                }\n            });\n        });\n    };\n\n    Calendar.prototype.resizeTimeline = function () {\n        var j = this.events.length;\n        while (j--) {\n            if (parseInt(moment.unix(this.events[j].start).format('HH')) < this.conf.weekday.timeline.fromHour) {\n                this.conf.weekday.timeline.fromHour = parseInt(moment.unix(this.events[j].start).format('HH'));\n            }\n            if (parseInt(this.events[j].end) > parseInt(moment.unix(this.events[j].end).startOf('day').add(this.conf.weekday.timeline.toHour, 'hour').format('X'))) {\n                this.conf.weekday.timeline.toHour = parseInt(moment.unix(this.events[j].end).hour());\n                if (this.conf.weekday.timeline.toHour < 23) {\n                    this.conf.weekday.timeline.toHour++;\n                }\n            }\n        }\n    };\n\n    Calendar.prototype.getViewDays = function () {\n        var days = [];\n        if (this.getView() == 'day') {\n            days.push(parseInt(moment.unix(this.conf.unixTimestamp).format('X')));\n        }\n        if (this.getView() == 'week') {\n            for (var i = 0; i < this.conf.weekday.dayline.weekdays.length; i++) {\n                days.push(parseInt(moment.unix(this.conf.unixTimestamp).startOf('week').add(this.conf.weekday.dayline.weekdays[i], 'days').format('X')));\n            }\n        }\n        if (this.getView() == 'month') {\n            var nbDaysInMonth = moment.unix(this.conf.unixTimestamp).daysInMonth();\n            var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n            for (var i = 0; i < nbDaysInMonth; i++) {\n                days.push(parseInt(time.startOf('day').format('X')));\n                time.add(1, 'days');\n            }\n        }\n        return days;\n    };\n\n    Calendar.prototype.addBtnLeftRight = function () {\n        var self = this;\n        this.element.find('.btn-move-calendar').click(function (event) {\n            var elem = $(event.target);\n            if (elem.prop('nodeName') !== 'BUTTON') {\n                elem = elem.closest('.btn-move-calendar');\n            }\n            self.moveCurrentIntervalView($(elem).attr('data-direction'));\n        });\n    };\n\n    Calendar.prototype.addSwipe = function () {\n        var self = this;\n        self.element.find('.calendar-events').swipe({\n            swipe: function (event, direction) {\n                if (direction == 'left' || direction == 'right') {\n                    // Le swipe est à l'envers\n                    if (direction == 'left') {\n                        direction = 'right';\n                    } else if (direction == 'right') {\n                        direction = 'left';\n                    }\n                    self.moveCurrentIntervalView(direction);\n                }\n            },\n            threshold: 100,\n            allowPageScroll: 'auto'\n        });\n    };\n\n    Calendar.prototype.clickSwitchView = function () {\n        var self = this;\n        // Monthtoweek\n        $(this.element).find('.monthtoweek').click(function () {\n            self.setTimestamp(parseInt($(this).find('span').attr('data-timestamp')));\n            self.setView('week');\n            self.init();\n        });\n        // Weektomonth\n        $(this.element).find('.weektomonth').click(function () {\n            self.setView('month');\n            self.init();\n        });\n        // Daytoweek\n        $(this.element).find('.daytoweek').click(function () {\n            self.setView('week');\n            self.init();\n        });\n        // Weektoday\n        $(this.element).find('.weektoday').click(function () {\n            self.setTimestamp($(this).closest('.calendar-events-day').attr('data-time'));\n            self.setView('day');\n            self.init();\n        });\n    };\n\n    Calendar.prototype.keyboardSwitchView = function () {\n        if (!this.conf.enableKeyboard) {\n            return;\n        }\n        var self = this;\n        $(window).unbind('keydown').on('keydown', function (x) {\n            // Ctrl + left\n            if (x.keyCode == 37 && x.ctrlKey) {\n                self.moveCurrentIntervalView('left');\n            }\n            // Ctrl + right\n            if (x.keyCode == 39 && x.ctrlKey) {\n                self.moveCurrentIntervalView('right');\n            }\n            // Ctrl + up\n            if (x.keyCode == 38 && x.ctrlKey) {\n                if (self.getView() == 'week') {\n                    self.setView('month');\n                    self.init();\n                }\n                if (self.getView() == 'day') {\n                    self.setView('week');\n                    self.init();\n                }\n            }\n            // Ctrl + down\n            if (x.keyCode == 40 && x.ctrlKey) {\n                if (self.getView() == 'week') {\n                    self.setView('day');\n                    self.init();\n                }\n                if (self.getView() == 'month') {\n                    self.setView('week');\n                    self.init();\n                }\n            }\n        });\n    };\n\n    Calendar.prototype.moveCurrentIntervalView = function (direction) {\n        var word,\n            self = this;\n        if (this.getView() == 'day') {\n            word = 'days';\n        }\n        if (this.getView() == 'week') {\n            word = 'week';\n        }\n        if (this.getView() == 'month') {\n            word = 'month';\n        }\n        if (direction == 'left') {\n            this.conf.unixTimestamp = parseInt(moment.unix(self.conf.unixTimestamp).subtract(1, word).format('X'));\n        }\n        if (direction == 'right') {\n            this.conf.unixTimestamp = parseInt(moment.unix(self.conf.unixTimestamp).add(1, word).format('X'));\n        }\n        this.init();\n    };\n\n    Calendar.prototype.mobileQuery = function () {\n        return $(window).width() < this.conf.defaultView.smallScreenThreshold ? 'mobile' : 'desktop';\n    };\n\n    Calendar.prototype.hexToRgb = function (hex) {\n        var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : null;\n    };\n\n    Calendar.prototype.calculateCurrentInterval = function () {\n        var days = this.getViewDays();\n        this.fromTimestamp = parseInt(moment.unix(days[0]).startOf('day').format('X'));\n        this.toTimestamp = parseInt(moment.unix(days[days.length - 1]).endOf('day').format('X'));\n    };\n\n    Calendar.prototype.getCategories = function (object, attribute1, attribute2) {\n        var categories = [],\n            e,\n            n = object.length,\n            fromTimeStamp = parseInt(this.fromTimestamp),\n            toTimeStamp = parseInt(this.toTimestamp);\n\n        for (var i = 0; i < n; i++) {\n            e = object[i];\n            if (parseInt(e[attribute1]) >= fromTimeStamp && parseInt(e[attribute2]) <= toTimeStamp) {\n                categories.push(e.category);\n            }\n        }\n        return this.miscUniqueArray(categories);\n    };\n\n    Calendar.prototype.getCategoryColor = function (category, object, colors, color) {\n        console.log('###category:' + category);\n        console.log('###object:' + JSON.stringify(object, null, 4));\n        console.log('###colors:' + colors);\n        console.log('###color:' + color);\n        var roomcolors = JSON.parse($(\"#calendar-roomcategories\").attr(\"data-calendar-roomcolors\"));\n        console.log('###COLORS:' + JSON.stringify(roomcolors, null, 4));\n\n        var used, j,\n            i = roomcolors.length;\n        while (i--) {\n            if (roomcolors[i].category == category) {\n                object.unshift({\n                    category: category,\n                    color: roomcolors[i].color\n                });\n                return roomcolors[i].color;\n            }\n        }\n// var i = object.length;\n//     while (i--) {\n//       if (object[i].category == category) {\n//         return object[i].color;\n//       }\n//     }\n\n        for (i = 0; i < colors.length; i++) {\n            used = false;\n            j = object.length;\n            while (j--) {\n                if (object[j].color == colors[i]) {\n                    used = true;\n                }\n            }\n            if (!used) {\n                object.push({\n                    category: category,\n                    color: colors[i]\n                });\n                return colors[i];\n            }\n        }\n        return color;\n    };\n\n    Calendar.prototype.getEventsCategories = function () {\n        return this.getCategories(this.events, 'start', 'end');\n    };\n\n    Calendar.prototype.determineEventsCategories = function () {\n        var categories = this.getEventsCategories();\n        this.eventCategoryColor = (this.userEventCategoryColor.length > 0) ? this.userEventCategoryColor : [];\n        var i = categories.length;\n        while (i--) {\n            this.getEventCategoryColor(categories[i]);\n        }\n    };\n\n    Calendar.prototype.getEventCategoryColor = function (category) {\n        return this.getCategoryColor(category, this.eventCategoryColor, this.conf.colors.events, '#000000');\n    };\n\n    Calendar.prototype.getEventCategoriesColors = function () {\n        return this.eventCategoryColor;\n    };\n\n    Calendar.prototype.setEventCategoriesColors = function (categoriesColors) {\n        this.userEventCategoryColor = categoriesColors;\n    };\n\n    Calendar.prototype.getDaynotesCategories = function () {\n        return this.getCategories(this.daynotes, 'time', 'time');\n    };\n\n    Calendar.prototype.determineDaynotesCategories = function () {\n        var categories = this.getDaynotesCategories();\n        this.daynoteCategoryColor = (this.userDaynoteCategoryColor.length > 0) ? this.userDaynoteCategoryColor : [];\n        var i = categories.length;\n        while (i--) {\n            this.getDaynoteCategoryColor(categories[i]);\n        }\n    };\n\n    Calendar.prototype.getDaynoteCategoryColor = function (category) {\n        return this.getCategoryColor(category, this.daynoteCategoryColor, this.conf.colors.daynotes, '#FEFEFE');\n    };\n\n    Calendar.prototype.getDaynoteCategoriesColors = function () {\n        return this.daynoteCategoryColor;\n    };\n\n    Calendar.prototype.setDaynoteCategoriesColors = function (categoriesColors) {\n        this.userDaynoteCategoryColor = categoriesColors;\n    };\n\n    Calendar.prototype.getEventColors = function () {\n        return this.conf.colors.events;\n    };\n\n    Calendar.prototype.setEventColors = function (array) {\n        this.conf.colors.events = this.miscDedupeArray(array);\n        if (this.conf.colors.random) {\n            this.conf.colors.events.sort(function () {\n                return 0.5 - Math.random();\n            });\n        }\n    };\n\n    Calendar.prototype.getDaynoteColors = function () {\n        return this.conf.colors.daynotes;\n    };\n\n    Calendar.prototype.setDaynoteColors = function (array) {\n        this.conf.colors.daynotes = this.miscDedupeArray(array);\n        if (this.conf.colors.random) {\n            this.conf.colors.daynotes.sort(function () {\n                return 0.5 - Math.random();\n            });\n        }\n    };\n\n    Calendar.prototype.getEvents = function () {\n        return this.events;\n    };\n\n    Calendar.prototype.setEvents = function (events) {\n        this.events = (events) ? events : [];\n        this.events.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.addEvents = function (events) {\n        this.events = this.events.concat(events);\n        this.events.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.getDaynotes = function () {\n        return this.daynotes;\n    };\n\n    Calendar.prototype.setDaynotes = function (daynotes) {\n        this.daynotes = (daynotes) ? daynotes : [];\n        this.daynotes.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.addDaynotes = function (daynotes) {\n        this.daynotes = this.daynotes.concat(daynotes);\n        this.daynotes.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.getInitTime = function () {\n        return this.initTime;\n    };\n\n    Calendar.prototype.getViewInterval = function () {\n        return [this.fromTimestamp, this.toTimestamp];\n    };\n\n    Calendar.prototype.getNextViewInterval = function () {\n        var add = {'day': 'd', 'week': 'w', 'month': 'M'};\n        add = add[this.getView()];\n        return [\n            parseInt(moment.unix(this.fromTimestamp).add(1, add).format('X')),\n            parseInt(moment.unix(this.toTimestamp).add(1, add).format('X'))\n        ];\n\n    };\n\n    Calendar.prototype.getPrevViewInterval = function () {\n        var sub = {'day': 'd', 'week': 'w', 'month': 'M'};\n        sub = sub[this.getView()];\n        return [\n            parseInt(moment.unix(this.fromTimestamp).subtract(1, sub).format('X')),\n            parseInt(moment.unix(this.toTimestamp).subtract(1, sub).format('X'))\n        ];\n    };\n\n    Calendar.prototype.getTimestamp = function () {\n        return this.conf.unixTimestamp;\n    };\n\n    Calendar.prototype.setTimestamp = function (timestamp) {\n        this.conf.unixTimestamp = parseInt(timestamp);\n    };\n\n    Calendar.prototype.getView = function () {\n        return this.conf.view;\n    };\n\n    Calendar.prototype.setView = function (view) {\n        if (view == 'day' || view == 'week' || view == 'month') {\n            this.conf.view = view;\n        }\n    };\n\n    Calendar.prototype.miscDedupeArray = function (a) {\n        a = a.concat();\n        for (var i = 0; i < a.length; ++i) {\n            for (var j = i + 1; j < a.length; ++j) {\n                if (a[i] === a[j]) {\n                    a.splice(j--, 1);\n                }\n            }\n        }\n        return a;\n    };\n\n    Calendar.prototype.miscUniqueArray = function (a) {\n        a = a.concat();\n        for (var i = 0; i < a.length; ++i) {\n            for (var j = i + 1; j < a.length; ++j) {\n                if (a[i] === a[j]) {\n                    a.splice(j--, 1);\n                }\n            }\n        }\n        return a;\n    };\n\n    Calendar.prototype.miscUcfirstString = function (s) {\n        return s.charAt(0).toUpperCase() + s.slice(1);\n    };\n\n    var objSchedulesPlan = [];\n\n    // Initialization\n    jQuery.extend(jQuery.fn, {\n        Calendar: function (objArgs) {\n            var c = new Calendar($(this), (objArgs === undefined) ? {} : objArgs);\n            objSchedulesPlan.push(c);\n            return c;\n        }\n    });\n\n    // Reinitialization on screen rotation\n    var resizeListener1;\n    var pause1 = 500;\n    window.addEventListener(\"orientationchange\", function () {\n        clearTimeout(resizeListener1);\n        resizeListener1 = setTimeout(function () {\n            objSchedulesPlan.forEach(function (obj) {\n                obj.init();\n            });\n        }, pause1);\n    });\n\n    // Reinitialization on screen resize if not mobile\n    var resizeListener2;\n    var pause2 = 500;\n    window.addEventListener(\"resize\", function () {\n        clearTimeout(resizeListener2);\n        resizeListener2 = setTimeout(function () {\n            objSchedulesPlan.forEach(function (obj) {\n                if (obj.mobileQuery() == 'desktop') {\n                    obj.init();\n                }\n            });\n        }, pause2);\n    });\n\n});\n"],"names":["jQuery","document","ready","$","Calendar","element","Args","moment","eventColors","daynoteColors","conf","locale","view","rooms","enableKeyboard","defaultView","largeScreen","smallScreen","smallScreenThreshold","weekday","timeline","fromHour","toHour","intervalMinutes","format","heightPx","autoResize","undefined","dayline","weekdays","month","weekFormat","weekline","dayheader","day","unixTimestamp","event","hover","delay","colors","events","daynotes","random","categories","enable","now","refresh","style","color","this","setEventColors","setDaynoteColors","eventCategoryColor","daynoteCategoryColor","userEventCategoryColor","userDaynoteCategoryColor","setEvents","setDaynotes","mobileQuery","setView","initTime","console","error","prototype","init","millis","Date","addClass","calculateCurrentInterval","trigger","getPrevViewInterval","getViewInterval","getNextViewInterval","html","hasClass","getView","resizeTimeline","drawCategories","weekDrawTime","weekDrawDays","weekDrawDaynotes","weekDrawEvents","monthDrawWeek","monthDrawWeekNumbers","monthDrawWeekDays","monthDrawDaynotes","monthDrawEvents","drawModal","drawNow","positionEvents","hoverEventOrDaynote","clickEventOrDaynote","addBtnLeftRight","addSwipe","clickSwitchView","keyboardSwitchView","defaultEvents","removeClass","binded","eventMouseenterDefault","self","elem","isDefaultPrevented","parseInt","css","closest","height","animate","top","width","left","find","off","on","eventMouseleaveDefault","parseFloat","attr","eventClickDefault","evt","modal","rgb","hexToRgb","r","g","b","append","text","e","target","eventCategoryClickDefault","opacity","eventCategoryMouseenterDefault","each","i","eventCategoryMouseleaveDefault","marginTop","$categoryBar","li","ul","time","startOf","add","limit","div","miscUcfirstString","unix","days","getViewDays","length","maxHeight","week","nbWeeks","targetUl","subtract","parent","endOf","determineEventsCategories","determineDaynotesCategories","label","category","prepend","hoverCategory","clickCategory","setTimeoutConst","setTimeout","clearTimeout","click","positionEventsInWeek","positionEventsInMonth","zeroLast","start","duration","zero","eventTop","eventHeight","nbEventNotOnCurrent","tmp","currentElement","j","push","endsOnCurrent","dates","miscUniqueArray","sort","a","enMemeTemps","positions","k","String","split","eventLeft","eventWidth","log","setEventPosition","n","index","interval","d","end","drawEventsOrDaynotes","title","content","confirmed","myevent","getEventCategoryColor","m","getDaynoteCategoryColor","from","toMin","time_interval","classes","href","hr","setInterval","remove","preventDefault","stopPropagation","prop","hour","nbDaysInMonth","daysInMonth","moveCurrentIntervalView","swipe","direction","threshold","allowPageScroll","setTimestamp","window","unbind","x","keyCode","ctrlKey","word","hex","replace","result","exec","fromTimestamp","toTimestamp","getCategories","object","attribute1","attribute2","fromTimeStamp","toTimeStamp","getCategoryColor","JSON","stringify","roomcolors","parse","used","unshift","getEventsCategories","getEventCategoriesColors","setEventCategoriesColors","categoriesColors","getDaynotesCategories","getDaynoteCategoriesColors","setDaynoteCategoriesColors","getEventColors","array","miscDedupeArray","Math","getDaynoteColors","getEvents","addEvents","concat","getDaynotes","addDaynotes","getInitTime","sub","getTimestamp","timestamp","splice","s","charAt","toUpperCase","slice","resizeListener1","objSchedulesPlan","extend","fn","objArgs","c","resizeListener2","addEventListener","forEach","obj"],"mappings":";;;;;;AAOAA,OAAOC,UAAUC,OAAM,SAAUC,YACpBC,SAASC,QAASC,SAEC,mBAAZC,YAMRC,YAAc,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIAC,cAAgB,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,gBAICC,KAAO,CACRC,OAASL,KAAKK,OAAUL,KAAKK,OAAS,KACtCC,KAAM,OACNC,OAAuB,IAAfP,KAAKO,OAAmBP,KAAKO,MACrCC,gBAAiBR,KAAKQ,gBAAkBR,KAAKQ,eAC7CC,YAAa,CACTC,YAAcV,KAAKS,aAAgBT,KAAKS,YAAYC,YAAgBV,KAAKS,YAAYC,YAAwB,OAC7GC,YAAcX,KAAKS,aAAgBT,KAAKS,YAAYE,YAAgBX,KAAKS,YAAYE,YAAuB,MAC5GC,qBAAuBZ,KAAKS,aAAgBT,KAAKS,YAAYG,qBAAyBZ,KAAKS,YAAYG,qBAA+B,KAE1IC,QAAS,CACLC,SAAU,CACNC,SAAWf,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASC,SAAYf,KAAKa,QAAQC,SAASC,SAAmB,EACjIC,OAAShB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASE,OAAUhB,KAAKa,QAAQC,SAASE,OAAmB,GAC7HC,gBAAkBjB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASG,gBAAmBjB,KAAKa,QAAQC,SAASG,gBAA4B,GACxJC,OAASlB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASI,OAAUlB,KAAKa,QAAQC,SAASI,OAA6B,QACvIC,SAAWnB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASK,SAAYnB,KAAKa,QAAQC,SAASK,SAAqB,GACnIC,YAAapB,KAAKa,WAAYb,KAAKa,QAAQC,gBAAkDO,IAArCrB,KAAKa,QAAQC,SAASM,YAA4BpB,KAAKa,QAAQC,SAASM,cAEpIE,QAAS,CACLC,SAAWvB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQC,SAAYvB,KAAKa,QAAQS,QAAQC,SAA2D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACzLL,OAASlB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQJ,OAAUlB,KAAKa,QAAQS,QAAQJ,OAAuC,aAC9IC,SAAWnB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQH,UAAYnB,KAAKa,QAAQS,QAAQH,UAAYnB,KAAKa,QAAQS,QAAQH,SAAW,GAAMnB,KAAKa,QAAQS,QAAQH,SAA+B,GACjNK,MAAO,CACHN,OAASlB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQE,OAAUxB,KAAKa,QAAQS,QAAQE,MAAMN,OAAUlB,KAAKa,QAAQS,QAAQE,MAAMN,OAAmD,YACrMC,SAAWnB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQE,OAAUxB,KAAKa,QAAQS,QAAQE,MAAML,SAAYnB,KAAKa,QAAQS,QAAQE,MAAML,SAA0B,GAChLM,WAAazB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQE,OAAUxB,KAAKa,QAAQS,QAAQE,MAAMC,WAAczB,KAAKa,QAAQS,QAAQE,MAAMC,WAA+B,OAIrMD,MAAO,CACHN,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAMN,OAAUlB,KAAKwB,MAAMN,OAAuB,YAC/EC,SAAWnB,KAAKwB,OAAUxB,KAAKwB,MAAML,UAAanB,KAAKwB,MAAML,SAAW,GAAMnB,KAAKwB,MAAML,SAAqB,GAC9GO,SAAU,CACNR,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAME,UAAa1B,KAAKwB,MAAME,SAASR,OAAUlB,KAAKwB,MAAME,SAASR,OAAqB,IACvHC,SAAWnB,KAAKwB,OAAUxB,KAAKwB,MAAME,UAAa1B,KAAKwB,MAAME,SAASP,SAAYnB,KAAKwB,MAAME,SAASP,SAAqB,IAE/HQ,UAAW,CACPJ,SAAWvB,KAAKwB,OAAUxB,KAAKwB,MAAMG,WAAc3B,KAAKwB,MAAMG,UAAUJ,SAAYvB,KAAKwB,MAAMG,UAAUJ,SAA2D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvLL,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAMG,WAAc3B,KAAKwB,MAAMG,UAAUT,OAAUlB,KAAKwB,MAAMG,UAAUT,OAA2B,OAChIC,SAAWnB,KAAKwB,OAAUxB,KAAKwB,MAAMG,WAAc3B,KAAKwB,MAAMG,UAAUR,SAAYnB,KAAKwB,MAAMG,UAAUR,SAAqB,IAElIS,IAAK,CACDV,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAMI,KAAQ5B,KAAKwB,MAAMI,IAAIV,OAAUlB,KAAKwB,MAAMI,IAAIV,OAA6B,UAGxHW,cAAgB7B,KAAK6B,cAAiB7B,KAAK6B,cAAgB5B,SAASiB,OAAO,KAC3EY,MAAO,CACHC,MAAO,CACHC,MAAQhC,KAAK8B,OAAU9B,KAAK8B,MAAMC,OAAU/B,KAAK8B,MAAMC,MAAMC,MAAShC,KAAK8B,MAAMC,MAAMC,MAAoB,MAGnHC,OAAQ,CACJC,OAASlC,KAAKiC,QAAWjC,KAAKiC,OAAOC,OAAUlC,KAAKiC,OAAOC,OAAuBhC,YAClFiC,SAAWnC,KAAKiC,QAAWjC,KAAKiC,OAAOE,SAAYnC,KAAKiC,OAAOE,SAA2BhC,cAC1FiC,QAASpC,KAAKiC,UAAWjC,KAAKiC,OAAOG,QAAUpC,KAAKiC,OAAOG,SAE/DC,WAAY,CACRC,QAAStC,KAAKqC,kBAA0ChB,IAA3BrB,KAAKqC,WAAWC,QAAwBtC,KAAKqC,WAAWC,QACrFP,MAAO,CACHC,MAAQhC,KAAKqC,YAAerC,KAAKqC,WAAWN,OAAU/B,KAAKqC,WAAWN,MAAMC,MAAShC,KAAKqC,WAAWN,MAAMC,MAAoB,MAGvIO,IAAK,CACDD,SAAStC,KAAKuC,WAA4BlB,IAApBrB,KAAKuC,IAAID,QAAyBtC,KAAKuC,IAAID,QACjEE,UAAUxC,KAAKuC,WAA6BlB,IAArBrB,KAAKuC,IAAIC,SAA0BxC,KAAKuC,IAAIC,SACnErB,SAAWnB,KAAKuC,KAAQvC,KAAKuC,IAAIpB,SAAanB,KAAKuC,IAAIpB,SAAgB,EACvEsB,MAAQzC,KAAKuC,KAAQvC,KAAKuC,IAAIE,MAAUzC,KAAKuC,IAAIE,MAAmB,QACpEC,MAAQ1C,KAAKuC,KAAQvC,KAAKuC,IAAIG,MAAU1C,KAAKuC,IAAIG,MAAqB,YAK9EzC,OAAOI,OAAOsC,KAAKvC,KAAKC,aAGnBuC,eAAeD,KAAKvC,KAAK6B,OAAOC,aAChCW,iBAAiBF,KAAKvC,KAAK6B,OAAOE,eAGlCW,mBAAqB,QACrBC,qBAAuB,QAGvBC,uBAAyB,QACzBC,yBAA2B,QAG3BC,UAAWlD,KAAKkC,OAAUlC,KAAKkC,OAAS,SAGxCiB,YAAanD,KAAKmC,SAAYnC,KAAKmC,SAAW,IAGzB,UAAtBQ,KAAKS,mBACAC,QAAQV,KAAKvC,KAAKK,YAAYE,kBAE9B0C,QAAQV,KAAKvC,KAAKK,YAAYC,kBAIlCX,QAAUA,aACVuD,UAAW,OA1JZC,QAAQC,MAAM,gCA6JtB1D,SAAS2D,UAAUC,KAAO,eAClBC,OAASC,KAAKrB,WACbxC,QAAQ8D,SAAS,gBACjBC,2BACLjE,EAAE8C,KAAK5C,SAASgE,QAAQ,gBAAiB,CACrCpB,KACAA,KAAKqB,sBACLrB,KAAKsB,kBACLtB,KAAKuB,wBAETrE,EAAE8C,KAAK5C,SAASoE,KAAK,IAChBtE,EAAE8C,KAAK5C,SAASqE,SAAS,aAC1BvE,EAAE8C,KAAK5C,SAAS8D,SAAS,YAEP,OAAlBlB,KAAK0B,WAAwC,QAAlB1B,KAAK0B,WAC5B1B,KAAKvC,KAAKS,QAAQC,SAASM,iBACtBkD,sBAGRC,iBACiB,OAAlB5B,KAAK0B,WAAwC,QAAlB1B,KAAK0B,iBAC3BG,oBACAC,oBACAC,wBACAC,kBAEa,SAAlBhC,KAAK0B,iBACAO,qBACAC,4BACAC,yBACAC,yBACAC,wBAEJC,iBACAC,eACAC,sBACAC,2BACAC,2BACAC,uBACAC,gBACAC,uBACAC,0BACAC,qBACA3F,QAAQ4F,YAAY,gBACpBrC,SAAYM,KAAKrB,MAAQoB,OAAU,MAG5C7D,SAAS2D,UAAUiC,cAAgB,cACZ,GAAf/C,KAAKiD,YAILC,uBAAyB,SAAU/D,MAAOgE,KAAMC,UAC3CjE,MAAMkE,qBAAsB,IACzBC,SAASF,KAAKG,IAAI,SAAYH,KAAKI,QAAQ,MAAMC,SAAW,EAAKN,KAAK1F,KAAKS,QAAQC,SAASK,SAAU,KAClGA,SAAW8E,SAASF,KAAKG,IAAI,QAAUD,SAASF,KAAKG,IAAI,WAC7DH,KACKG,IAAI,UAAW,IACfG,QAAQ,CACLD,OAAQjF,SACRmF,IAAK,EACLC,MAAO,OACPC,KAAM,GACP,QAEJ,CACCrF,SAAW4E,KAAKI,QAAQ,MAAMC,SAAWH,SAASF,KAAKG,IAAI,QAC/DH,KACKG,IAAI,UAAW,IACfG,QAAQ,CACLD,OAAQjF,SACRoF,MAAO,OACPC,KAAM,GACP,IAGXT,KAAKU,KAAK,eAAed,YAAY,aACrCI,KAAKU,KAAK,kBAAkBd,YAAY,eAGhD9F,EA7BW8C,KA6BJ5C,SAAS2G,IAAI,4BAA6Bb,wBAAwBc,GAAG,4BAA6Bd,wBACzGhG,EA9BW8C,KA8BJ5C,SAAS2G,IAAI,8BAA+Bb,wBAAwBc,GAAG,8BAA+Bd,4BAEzGe,uBAAyB,SAAU9E,MAAOgE,KAAMC,MAC3CjE,MAAMkE,uBACPD,KACKG,IAAI,UAAW,QACfG,QAAQ,CACLD,OAAQS,WAAWd,KAAKe,KAAK,gBAAkB,KAC/CR,IAAKO,WAAWd,KAAKe,KAAK,aAC1BP,MAAOM,WAAWd,KAAKe,KAAK,eAAiB,IAC7CN,KAAMK,WAAWd,KAAKe,KAAK,cAAgB,KAC5C,IAEPf,KAAKU,KAAK,kBAAkB5C,SAAS,eAG7ChE,EA9CW8C,KA8CJ5C,SAAS2G,IAAI,4BAA6BE,wBAAwBD,GAAG,4BAA6BC,wBACzG/G,EA/CW8C,KA+CJ5C,SAAS2G,IAAI,8BAA+BE,wBAAwBD,GAAG,8BAA+BC,4BAEzGG,kBAAoB,SAAUjF,MAAOgE,KAAMC,KAAMiB,SAC5ClF,MAAMkE,qBAAsB,KACzBiB,MAAQpH,EAAEiG,KAAK/F,SAAS0G,KAAK,mBAC7BS,IAAMpB,KAAKqB,SAASpB,KAAKe,KAAK,eAClCG,MAAMf,IAAI,aAAc,QAAUgB,IAAIE,EAAI,KAAOF,IAAIG,EAAI,KAAOH,IAAII,EAAI,UACxEL,MAAMR,KAAK,gBAAgBc,OAAOxB,KAAKe,KAAK,cAAgB,KAC5DG,MAAMR,KAAK,eAAec,OACtB1H,EAAE,QAAQ0H,OACN1H,EAAE8C,MAAMwD,QAAQ,wBAAwBM,KAAK,QAAQtC,QACvDoD,OACE,KACFA,OACE1H,EAAE,WAAW2H,KAAKzB,KAAKU,KAAK,eAAee,UAGnDP,MAAMR,KAAK,eAAec,OAAOxB,KAAKU,KAAK,kBAAkBtC,QAC7D8C,MAAMA,MAAM,QACZA,MAAMN,GAAG,mBAAmB,SAAUc,GAClC5H,EAAE4H,EAAEC,QAAQjB,KAAK,gBAAgBtC,KAAK,IACtCtE,EAAE4H,EAAEC,QAAQjB,KAAK,eAAetC,KAAK,SAIjDtE,EAxEW8C,KAwEJ5C,SAAS2G,IAAI,uBAAwBK,mBAAmBJ,GAAG,uBAAwBI,mBAC1FlH,EAzEW8C,KAyEJ5C,SAAS2G,IAAI,yBAA0BK,mBAAmBJ,GAAG,yBAA0BI,uBAE1FY,0BAA4B,SAAU7F,MAAOgE,KAAMC,UAC9CjE,MAAMkE,qBAAsB,KACzB9D,OAAS4D,KAAK/F,QAAQ0G,KAAK,kCAAoC5G,EAAEkG,MAAMyB,OAAS,MAChD,SAAhC3H,EAAEkG,MAAMe,KAAK,iBACb5E,OAAOmE,QAAQ,CACXuB,QAAS,GACV,KAAK,WACJ1F,OAAOgE,IAAI,UAAW,QACtBrG,EAAEkG,MAAMG,IAAI,mBAAoB,WAChCrG,EAAEkG,MAAMe,KAAK,gBAAgB,MAGD,QAAhCjH,EAAEkG,MAAMe,KAAK,kBACb5E,OAAOgE,IAAI,UAAW,aACtBrG,EAAEkG,MAAMG,IAAI,mBAAoBrG,EAAEkG,MAAMe,KAAK,eAC7C5E,OAAOmE,QAAQ,CACXuB,QAAS,GACV,KAAK,WACJ/H,EAAEkG,MAAMe,KAAK,gBAAgB,SAK7CjH,EAlGW8C,KAkGJ5C,SAAS2G,IAAI,gCAAiCiB,2BAA2BhB,GAAG,gCAAiCgB,2BACpH9H,EAnGW8C,KAmGJ5C,SAAS2G,IAAI,kCAAmCiB,2BAA2BhB,GAAG,kCAAmCgB,+BAEpHE,+BAAiC,SAAU/F,MAAOgE,KAAMC,MACnDjE,MAAMkE,sBACPF,KAAK/F,QAAQ0G,KAAK,mBAAmBqB,MAAK,SAAUC,EAAGN,GAC/C5H,EAAE4H,GAAGX,KAAK,kBAAoBf,KAAKyB,QACnC3H,EAAE4H,GAAGvB,IAAI,UAAW,QAKpCrG,EA9GW8C,KA8GJ5C,SAAS2G,IAAI,qCAAsCmB,gCAAgClB,GAAG,qCAAsCkB,gCACnIhI,EA/GW8C,KA+GJ5C,SAAS2G,IAAI,uCAAwCmB,gCAAgClB,GAAG,uCAAwCkB,oCAEnIG,+BAAiC,SAAUlG,MAAOgE,KAAMC,MACnDjE,MAAMkE,sBACPF,KAAK/F,QAAQ0G,KAAK,mBAAmBqB,MAAK,SAAUC,EAAGN,GACnD5H,EAAE4H,GAAGvB,IAAI,UAAW,OAIhCrG,EAxHW8C,KAwHJ5C,SAAS2G,IAAI,qCAAsCsB,gCAAgCrB,GAAG,qCAAsCqB,gCACnInI,EAzHW8C,KAyHJ5C,SAAS2G,IAAI,uCAAwCsB,gCAAgCrB,GAAG,uCAAwCqB,qCAElIpC,QAAS,IAGlB9F,SAAS2D,UAAUe,aAAe,WAC9B3E,EAAE8C,KAAK5C,SAASwH,OAAO1H,EAAE,QAAS,OACrB,uBAEbA,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBP,IAAI,cAAevD,KAAKvC,KAAKS,QAAQS,QAAQH,SAAW,UAClG8G,UAAYtF,KAAKvC,KAAKS,QAAQS,QAAQE,MAAML,YAC5CwB,KAAKvC,KAAKiC,WAAWC,OAAQ,KACzB4F,aAAerI,EAAE8C,KAAK5C,SAAS0G,KAAK,2BACxCwB,WAAaC,aAAa9B,SAAWS,WAAWqB,aAAahC,IAAI,kBAErErG,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBP,IAAI,aAAc+B,UAAY,MAE5EpI,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBc,OAAO1H,EAAE,aAEnDsI,GACAC,GAAKvI,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBA,KAAK,MAExD4B,KAAOpI,OAAOA,UAAUqI,QAAQ,QACpCD,KAAKE,IAAI5F,KAAKvC,KAAKS,QAAQC,SAASC,SAAU,aAE1CyH,OAAoD,IAAzC7F,KAAKvC,KAAKS,QAAQC,SAASE,OAAS,GAAkD,GAAtC2B,KAAKvC,KAAKS,QAAQC,SAASC,UAAkB4B,KAAKvC,KAAKS,QAAQC,SAASG,gBACnI8G,EAAI,EACDA,EAAIS,QACPL,GAAKtI,EAAE,SACJ0H,OAAO1H,EAAE,UAAU2H,KAAKa,KAAKnH,OAAOyB,KAAKvC,KAAKS,QAAQC,SAASI,UAClEiH,GAAG/B,OAAOzD,KAAKvC,KAAKS,QAAQC,SAASK,UACrCiH,GAAGb,OAAOY,IACVE,KAAKE,IAAI5F,KAAKvC,KAAKS,QAAQC,SAASG,gBAAiB,KACrD8G,KAIRjI,SAAS2D,UAAUgB,aAAe,WAC9B5E,EAAE8C,KAAK5C,SAASwH,OAAO1H,EAAE,QAAS,OACrB,yBAGT4I,IAAM5I,EAAE,QAAS,OACJ,mBAERqG,IAAI,SAAUvD,KAAKvC,KAAKS,QAAQS,QAAQE,MAAML,SAAW,MACzD+E,IAAI,aAAc,UAClBA,IAAI,eAAgBvD,KAAKvC,KAAKS,QAAQS,QAAQE,MAAML,SAAW,IAAM,EAAI,MAE5D,QAAlBwB,KAAK0B,YACLoE,IAAIjB,KAAK7E,KAAK+F,kBAAkBzI,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeX,OAAOyB,KAAKvC,KAAKS,QAAQS,QAAQE,MAAMN,UAC5GuH,IAAI5E,SAAS,gBAEK,OAAlBlB,KAAK0B,YACLoE,IAAIjB,KAAK7E,KAAK+F,kBAAkBzI,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeX,OAAOyB,KAAKvC,KAAKS,QAAQS,QAAQE,MAAMC,cAC5GgH,IAAI5E,SAAS,cAEjBhE,EAAE8C,KAAK5C,SAAS0G,KAAK,uBAAuBc,OAAOkB,KAEnD5I,EAAE8C,KAAK5C,SAAS0G,KAAK,uBAAuBc,OAAO1H,EAAE,iBAEjDsI,GACAC,GAAKvI,EAAE8C,KAAK5C,SAAS0G,KAAK,uBAAuBA,KAAK,MAEtDmC,KAAOjG,KAAKkG,cAEPd,EAAI,EAAGA,EAAIa,KAAKE,OAAQf,IAC7BM,KAAOpI,OAAO0I,KAAKC,KAAKb,KAExBI,GAAKtI,EAAE,OAAQ,OACF,yBAEVqG,IAAI,QAAS,IAAM0C,KAAKE,OAAS,MACpCL,IAAM5I,EAAE,QAAS,OACJ,yBAETuG,OAAOzD,KAAKvC,KAAKS,QAAQS,QAAQH,UAC5B,GAAL4G,GAAgC,WAAtBpF,KAAKS,eACfqF,IAAIlB,OAAO1H,EAAE,WAAY,OACZ,2CACViH,KAAK,iBAAkB,QAAQS,OAAO1H,EAAE,MAAO,OACrC,wBAGjB4I,IAAIlB,OAAO1H,EAAE,UACRgE,SAAS,aACTqC,IAAI,QAAS,QACb/B,KAAKxB,KAAK+F,kBAAkBL,KAAKnH,OAAOyB,KAAKvC,KAAKS,QAAQS,QAAQJ,WAGnE6G,GAAKa,KAAKE,OAAS,GAA2B,WAAtBnG,KAAKS,eAC7BqF,IAAIlB,OAAO1H,EAAE,WAAY,OACZ,2CACViH,KAAK,iBAAkB,SAASS,OAAO1H,EAAE,MAAO,OACtC,yBAGjBsI,GAAGZ,OAAOkB,KACVN,GAAGrB,KAAK,YAAauB,KAAKC,QAAQ,OAAOpH,OAAO,MAChDiH,GAAGZ,OAAO1H,EAAE,SACZsI,GAAG1B,KAAK,MAAML,OAAS,GAAKzD,KAAKvC,KAAKS,QAAQC,SAASG,iBAAoB0B,KAAKvC,KAAKS,QAAQC,SAASE,OAAS2B,KAAKvC,KAAKS,QAAQC,SAASC,UAAY4B,KAAKvC,KAAKS,QAAQC,SAASK,SAAc,GAAKwB,KAAKvC,KAAKS,QAAQC,SAASG,gBAAmB0B,KAAKvC,KAAKS,QAAQC,SAASK,UAC7QiH,GAAGb,OAAOY,QAGVY,UAAY,EAChBlJ,EAAE8C,KAAK5C,SAAS0G,KAAK,wBAAwBqB,MAAK,WAC1CjI,EAAE8C,MAAMyD,SAAW2C,YACnBA,UAAYlJ,EAAE8C,MAAMyD,aAG5BvG,EAAE8C,KAAK5C,SAAS0G,KAAK,wBAAwBqB,MAAK,WAC9CjI,EAAE8C,MAAMyD,OAAO2C,cAGfpG,KAAKvC,KAAKS,QAAQS,QAAQH,SAAW4H,iBAChC3I,KAAKS,QAAQS,QAAQH,SAAW4H,UACrClJ,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBP,IAAI,cAAevD,KAAKvC,KAAKS,QAAQS,QAAQH,SAAW,QAM9GrB,SAAS2D,UAAUmB,cAAgB,WAC/B/E,EAAE8C,KAAK5C,SAASwH,OAAO1H,EAAE,QAAS,OACrB,yBAET4I,IAAM5I,EAAE,QAAS,OACR,mBAEb4I,IAAIvC,IAAI,SAAUvD,KAAKvC,KAAKoB,MAAML,SAAW,MAEnB,WAAtBwB,KAAKS,eACLqF,IAAIlB,OAAO1H,EAAE,WAAY,OACR,2CAERiH,KAAK,iBAAkB,QACvBS,OAAO1H,EAAE,MAAO,OACJ,wBAIzB4I,IAAIlB,OAAO1H,EAAE,UACRqG,IAAI,WAAY,YAChBA,IAAI,MAAOvD,KAAKvC,KAAKoB,MAAML,SAAW,EAAI,MAC1C+E,IAAI,QAAS,OACbA,IAAI,YAAa,uBACjBsB,KAAK7E,KAAK+F,kBAAkBzI,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeX,OAAOyB,KAAKvC,KAAKoB,MAAMN,WAEnE,WAAtByB,KAAKS,eACLqF,IAAIlB,OAAO1H,EAAE,WAAY,OACR,2CAERqG,IAAI,QAAS,SACbY,KAAK,iBAAkB,SACvBS,OAAO1H,EAAE,MAAO,OACJ,yBAKzBA,EAAE8C,KAAK5C,SAAS0G,KAAK,uBAAuBc,OAAOkB,KACnD5I,EAAE8C,KAAK5C,SAAS0G,KAAK,uBAAuBc,OAAO1H,EAAE,iBAEjDsI,GACAC,GAAKvI,EAAE8C,KAAK5C,SAAS0G,KAAK,uBAAuBA,KAAK,MAEtD4B,KAAOpI,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeyG,QAAQ,SACpD9G,MAAQyE,SAASoC,KAAKnH,OAAO,OAC7B8H,KAAO/C,SAASoC,KAAKnH,OAAO,MAC5B+H,QAAU,EACPhD,SAASoC,KAAKnH,OAAO,QAAUM,OAAO,KACzCyH,UACOhD,SAASoC,KAAKnH,OAAO,OAAS8H,MACjCX,KAAKE,IAAI,EAAG,QAEhBS,KAAO/C,SAASoC,KAAKnH,OAAO,UAG3B,IAAI6G,EAAI,EAAGA,EAAIpF,KAAKvC,KAAKoB,MAAMG,UAAUJ,SAASuH,OAAQf,IAC3DM,KAAOpI,SAASqI,QAAQ,QAAQC,IAAI5F,KAAKvC,KAAKoB,MAAMG,UAAUJ,SAASwG,GAAI,SAC3EI,GAAKtI,EAAE,OAAQ,OACF,+BAEV0H,OAAO1H,EAAE,SACPqG,IAAI,SAAUvD,KAAKvC,KAAKoB,MAAMG,UAAUR,SAAW,MACnD+E,IAAI,eAAgBvD,KAAKvC,KAAKoB,MAAMG,UAAUR,SAAW,IAAM,EAAI,MACnEqG,KAAK7E,KAAK+F,kBAAkBL,KAAKnH,OAAOyB,KAAKvC,KAAKoB,MAAMG,UAAUT,WAEvEiH,GAAGjC,IAAI,QAAS,IAAMvD,KAAKvC,KAAKoB,MAAMG,UAAUJ,SAASuH,OAAS,KAClEX,GAAGZ,OAAO1H,EAAE,QAAQqG,IAAI,SAAU+C,QAAUtG,KAAKvC,KAAKoB,MAAME,SAASP,SAAW,OAChFiH,GAAGb,OAAOY,QAEVY,UAAY,EAChBlJ,EAAE8C,KAAK5C,SAAS0G,KAAK,8BAA8BqB,MAAK,eAChDL,EAAI5H,EAAE8C,MAAM8D,KAAK,OACjB5G,EAAE4H,GAAGrB,SAAW2C,YAChBA,UAAYlJ,EAAE4H,GAAGrB,aAGzBvG,EAAE8C,KAAK5C,SAAS0G,KAAK,8BAA8BqB,MAAK,eAChDL,EAAI5H,EAAE8C,MAAM8D,KAAK,OACrB5G,EAAE4H,GAAGrB,OAAO2C,eAIpBjJ,SAAS2D,UAAUoB,qBAAuB,WACtChF,EAAE8C,KAAK5C,SAASwH,OAAO1H,EAAE,QAAS,OACrB,2BAEToI,UAAYtF,KAAKvC,KAAKoB,MAAMG,UAAUR,SAC1C8G,WAAatF,KAAKvC,KAAKoB,MAAML,SACzBwB,KAAKvC,KAAKiC,WAAWC,SACrB2F,WAAa,IAEjBA,WAAa,EACbpI,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBP,IAAI,aAAc+B,UAAY,MAC5EpI,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBc,OAAO1H,EAAE,iBAEnDsI,GACAC,GAAKvI,EAAE8C,KAAK5C,SAAS0G,KAAK,yBAAyBA,KAAK,MAExD4B,KAAOpI,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeyG,QAAQ,SACpD9G,MAAQyE,SAASoC,KAAKnH,OAAO,OAC7B8H,KAAO/C,SAASoC,KAAKnH,OAAO,MACzB+E,SAASoC,KAAKnH,OAAO,QAAUM,OAAO,MACzC2G,GAAKtI,EAAE,OAAQ,OACF,iBAEV0H,OAAO1H,EAAE,UACPiH,KAAK,iBAAkBuB,KAAKnH,OAAO,MACnCsG,KAAKa,KAAKnH,OAAOyB,KAAKvC,KAAKoB,MAAME,SAASR,SAASgF,IAAI,aAAcvD,KAAKvC,KAAKoB,MAAME,SAASP,SAAW,EAAI,OAElHgH,GAAG/B,OAAOzD,KAAKvC,KAAKoB,MAAME,SAASP,UACnCiH,GAAGb,OAAOY,IACHlC,SAASoC,KAAKnH,OAAO,OAAS8H,MACjCX,KAAKE,IAAI,EAAG,QAEhBS,KAAO/C,SAASoC,KAAKnH,OAAO,QAIpCpB,SAAS2D,UAAUqB,kBAAoB,mBAE/BoE,SAAUf,GADVS,KAAOjG,KAAKkG,cAGZd,EAAI9B,SAAShG,OAAO0I,KAAKC,KAAK,IAAI/H,WAClCwH,KAAOpI,OAAO0I,KAAKC,KAAK,IACrBb,EAAI,GACPM,KAAOA,KAAKc,SAAS,EAAG,QACxBD,SAAWvG,KAAK5C,QAAQ0G,KAAK,gEAAkE9D,KAAK+F,kBAAkBL,KAAKnH,OAAOyB,KAAKvC,KAAKoB,MAAMG,UAAUT,SAAW,MAAMkI,SAAS3C,KAAK,OAC3L0B,GAAKtI,EAAE,SACJqG,IAAI,SAAUvD,KAAKvC,KAAKoB,MAAME,SAASP,SAAW,MACrDtB,EAAEqJ,UAAU3B,OAAOY,IACnBJ,QAGJM,KAAOO,KAAKE,OACPf,EAAI,EAAGA,EAAIM,KAAMN,IAClBmB,SAAWvG,KAAK5C,QAAQ0G,KAAK,gEAAkE9D,KAAK+F,kBAAkBzI,OAAO0I,KAAKC,KAAKb,IAAI7G,OAAOyB,KAAKvC,KAAKoB,MAAMG,UAAUT,SAAW,MAAMkI,SAAS3C,KAAK,OAC3M0B,GAAKtI,EAAE,OAAQ,OACF,+BAEVqG,IAAI,SAAUvD,KAAKvC,KAAKoB,MAAME,SAASP,SAAW,MACrDgH,GAAGrB,KAAK,iBAAkB7G,OAAO0I,KAAKC,KAAKb,IAAIO,QAAQ,OAAOpH,OAAO,MACrEiH,GAAGrB,KAAK,eAAgB7G,OAAO0I,KAAKC,KAAKb,IAAIsB,MAAM,OAAOnI,OAAO,MACjEiH,GAAGZ,OAAO1H,EAAE,UAAU2H,KAAKvH,OAAO0I,KAAKC,KAAKb,IAAI7G,OAAOyB,KAAKvC,KAAKoB,MAAMI,IAAIV,UAC3ErB,EAAEqJ,UAAU3B,OAAOY,SAGlBpI,QAAQ0G,KAAK,8BAA8BqB,MAAK,WACjDjI,EAAE8C,MAAM4E,OAAO1H,EAAE,aAIzBC,SAAS2D,UAAUc,eAAiB,mBAC3B+E,iCACAC,8BAED5G,KAAKvC,KAAKiC,WAAWC,OAAQ,SACzBkH,MACAf,IAAM5I,EAAE,QAAS,OACJ,wBACVqG,IAAI,SAAU,QACZ6B,EAAI,EAAGA,EAAIpF,KAAKG,mBAAmBgG,OAAQf,KAChDyB,MAAQ3J,EAAE,SAAU,OACP,wCAEPqG,IAAI,eAAgB,OAC1BsD,MAAMtD,IAAI,mBAAoBvD,KAAKG,mBAAmBiF,GAAGrF,OACzD8G,MAAMtD,IAAI,SAAU,WACpBsD,MAAM1C,KAAK,aAAcnE,KAAKG,mBAAmBiF,GAAGrF,OACpD8G,MAAM1C,KAAK,gBAAgB,GAC3B0C,MAAMhC,KAAK7E,KAAKG,mBAAmBiF,GAAG0B,UACtChB,IAAIlB,OAAOiC,WAEVzB,EAAI,EAAGA,EAAIpF,KAAKI,qBAAqB+F,OAAQf,KAC9CyB,MAAQ3J,EAAE,SAAU,OACP,+DAEPqG,IAAI,eAAgB,OAC1BsD,MAAMtD,IAAI,mBAAoBvD,KAAKI,qBAAqBgF,GAAGrF,OAC3D8G,MAAMtD,IAAI,SAAU,WACpBsD,MAAM1C,KAAK,aAAcnE,KAAKI,qBAAqBgF,GAAGrF,OACtD8G,MAAM1C,KAAK,gBAAgB,GAC3B0C,MAAMhC,KAAK7E,KAAKI,qBAAqBgF,GAAG0B,UACxChB,IAAIlB,OAAOiC,YAEVzJ,QAAQ2J,QAAQjB,UAChBkB,qBACAC,kBAIb9J,SAAS2D,UAAUkG,cAAgB,eAC3BE,gBAAiB9D,KACjBD,KAAOnD,UACN5C,QAAQ0G,KAAK,mBAAmB1E,OACjC,WACIgE,KAAOlG,EAAE8C,MACTkH,gBAAkBC,YAAW,WACrB/D,KAAK3B,SAAS,0BACdvE,EAAEiG,KAAK/F,SAASgE,QAAQ,uCAAwC,CAC5D+B,KACAC,OAGJlG,EAAEiG,KAAK/F,SAASgE,QAAQ,qCAAsC,CAC1D+B,KACAC,SAGTD,KAAK1F,KAAKiC,WAAWN,MAAMC,UAElC,WACI+H,aAAaF,kBACb9D,KAAOlG,EAAE8C,OACAyB,SAAS,0BACdvE,EAAEiG,KAAK/F,SAASgE,QAAQ,uCAAwC,CAC5D+B,KACAC,OAGJlG,EAAEiG,KAAK/F,SAASgE,QAAQ,qCAAsC,CAC1D+B,KACAC,WAOpBjG,SAAS2D,UAAUmG,cAAgB,eAE3B9D,KAAOnD,UACN5C,QAAQ0G,KAAK,mBAAmBuD,OAAM,SAAUlI,OAC7CjC,EAAEiC,MAAM4F,QAAQtD,SAAS,0BACzBvE,EAAEiG,KAAK/F,SAASgE,QAAQ,kCAAmC,CACvD+B,KALRC,YASIlG,EAAEiG,KAAK/F,SAASgE,QAAQ,gCAAiC,CACrD+B,KAVRC,gBAiBRjG,SAAS2D,UAAU0B,eAAiB,kBACxBxC,KAAK0B,eACJ,UACA,YACI4F,iCAGJ,aACIC,0BAKjBpK,SAAS2D,UAAUwG,qBAAuB,eAClCnE,KAAOnD,KACPwH,SAAW,OACVpK,QAAQ0G,KAAK,mBAAmBqB,MAAK,SAAUC,OAE5CqC,MAAQnE,SAASpG,EAAE8C,MAAMmE,KAAK,eAE9BuD,SADMpE,SAASpG,EAAE8C,MAAMmE,KAAK,aACXsD,MACjBE,KAAOrE,SAASpG,EAAE8C,MAAMwD,QAAQ,0BAA0BW,KAAK,cAAuD,GAAtChB,KAAK1F,KAAKS,QAAQC,SAASC,SAAgB,GAC3HuJ,KAAOH,WACPA,SAAWG,UAEXC,UAAaH,MAAQE,MAAQ,GAAKxE,KAAK1F,KAAKS,QAAQC,SAASG,gBAAkB6E,KAAK1F,KAAKS,QAAQC,SAASK,SAAY,EACtHqJ,YAAeH,SAAW,GAAKvE,KAAK1F,KAAKS,QAAQC,SAASG,gBAAkB6E,KAAK1F,KAAKS,QAAQC,SAASK,SAAY,EAGnHsJ,qBAAsB,EAEtBC,IAAM,GACNC,eAAiB9K,EAAE8C,MACvB9C,EAAE8C,MAAMwD,QAAQ,MAAMM,KAAK,qBAAqBqB,MAAK,SAAU8C,EAAGnD,GAC1D5H,EAAE4H,GAAG,IAAMkD,eAAe,KACtB1E,SAAS0E,eAAe7D,KAAK,eAAiBb,SAASpG,EAAE4H,GAAGX,KAAK,cAAgBb,SAAS0E,eAAe7D,KAAK,aAAeb,SAASpG,EAAE4H,GAAGX,KAAK,iBAChJ4D,IAAIG,KAAKhL,EAAE4H,MAGXxB,SAAS0E,eAAe7D,KAAK,eAAiBb,SAASpG,EAAE4H,GAAGX,KAAK,cAAgBb,SAAS0E,eAAe7D,KAAK,aAAeb,SAASpG,EAAE4H,GAAGX,KAAK,cAEzIb,SAAS0E,eAAe7D,KAAK,gBAAkBb,SAASpG,EAAE4H,GAAGX,KAAK,gBAAkBb,SAASpG,EAAE4H,GAAGX,KAAK,eAAiBb,SAAS0E,eAAe7D,KAAK,iBAD5JgE,UAORC,MAAQ,GACZA,MAAMF,KAAK5E,SAAS0E,eAAe7D,KAAK,gBACxCiE,MAAMF,KAAK5E,SAAS0E,eAAe7D,KAAK,kBAE/BiB,EAAI,EAAGA,EAAI2C,IAAI5B,OAAQf,IACxB9B,SAASyE,IAAI3C,GAAGjB,KAAK,gBAAkBb,SAAS0E,eAAe7D,KAAK,gBAAkBb,SAASyE,IAAI3C,GAAGjB,KAAK,gBAAkBb,SAAS0E,eAAe7D,KAAK,cAC1JiE,MAAMF,KAAK5E,SAASyE,IAAI3C,GAAGjB,KAAK,gBAEhCb,SAASyE,IAAI3C,GAAGjB,KAAK,cAAgBb,SAAS0E,eAAe7D,KAAK,gBAAkBb,SAASyE,IAAI3C,GAAGjB,KAAK,cAAgBb,SAAS0E,eAAe7D,KAAK,cACtJiE,MAAMF,KAAK5E,SAASyE,IAAI3C,GAAGjB,KAAK,eAIxCiE,MAAQjF,KAAKkF,gBAAgBD,QACvBE,MAAK,SAAUC,EAAG5D,UACZ4D,EAAI5D,EAAK,GAAK,SAGjBS,EAAI,EAAGA,EAAIgD,MAAMjC,OAAQf,IAAK,SAC/BoD,YAAc,EACTP,EAAI,EAAGA,EAAIF,IAAI5B,OAAQ8B,IACxBG,MAAMhD,GAAK9B,SAASyE,IAAIE,GAAG9D,KAAK,gBAAkBiE,MAAMhD,IAAM9B,SAASyE,IAAIE,GAAG9D,KAAK,cACnFqE,eAGHA,YAAc,GAAKA,YAAcV,sBAAgD,IAAxBA,uBAC1DA,oBAAsBU,iBAI9BR,eAAe7D,KAAK,cAAe2D,oBAAsB,GACzDE,eAAe7D,KAAK,eAAgB2D,oBAAsB,GAE1D1C,EAAI2C,IAAI5B,OACDf,KACC9B,SAASyE,IAAI3C,GAAGjB,KAAK,iBAAmBb,SAAS0E,eAAe7D,KAAK,kBACrE6D,eAAe7D,KAAK,eAAgB4D,IAAI3C,GAAGjB,KAAK,qBAIpDsE,UAAY,OACXrD,EAAI,EAAGA,EAAI9B,SAAS0E,eAAe7D,KAAK,iBAAkBiB,IAAK,CAChEqD,UAAUrD,IAAK,MACN6C,EAAI,EAAGA,EAAIF,IAAI5B,OAAQ8B,QACvB,IAAIS,EAAI,EAAGA,EAAIC,OAAOZ,IAAIE,GAAG9D,KAAK,mBAAmByE,MAAM,KAAKzC,OAAQuC,IAAK,CAC/DC,OAAOZ,IAAIE,GAAG9D,KAAK,mBAAmByE,MAAM,KAAKF,IAChDtD,IACZqD,UAAUrD,IAAK,QAM/B4C,eAAe7D,KAAK,kBAAmB,GAEvCiB,EAAI,GACuD,GAApD9B,SAAS0E,eAAe7D,KAAK,oBAA0B,KACrC,IAAjBsE,UAAUrD,KACV4C,eAAe7D,KAAK,iBAAkBiB,GAClC9B,SAAS0E,eAAe7D,KAAK,iBAAmBb,SAAS0E,eAAe7D,KAAK,gBAAkB,EAAI,SACvE,IAArBsE,UAAUrD,EAAI,IACjB4C,eAAe7D,KAAK,iBAAkB6D,eAAe7D,KAAK,kBAAoB,KAAOiB,EAAI,IACzFA,IAIZA,QAEoB,IAApBjC,KAAK1F,KAAKG,UACNiL,UAAaF,OAAOX,eAAe7D,KAAK,mBAAmByE,MAAM,KAAK,GAAKzF,KAAK1F,KAAKG,MAAS,IAC9FkL,WAAa,IAAM3F,KAAK1F,KAAKG,WAE7BkL,WAAa,KAAOxF,SAAS0E,eAAe7D,KAAK,iBAAmBwE,OAAOX,eAAe7D,KAAK,mBAAmByE,MAAM,KAAKzC,QAC7H0C,UAAaF,OAAOX,eAAe7D,KAAK,mBAAmByE,MAAM,KAAK,GAAKtF,SAAS0E,eAAe7D,KAAK,iBAAoB,IAEpIvD,QAAQmI,IAAI,YAAc5F,KAAK1F,KAAKG,OACpCuF,KAAK6F,iBAAiBhJ,KAAM4H,SAAUC,YAAagB,UAAWC,gBAItE3L,SAAS2D,UAAUyG,sBAAwB,eACnCpE,KAAOnD,UACN5C,QAAQ0G,KAAK,gCAAgCqB,MAAK,eAC/C8D,EAAI/L,EAAE8C,MAAM8D,KAAK,mBAAmBqC,OACxCjJ,EAAE8C,MAAM8D,KAAK,mBAAmBqB,MAAK,SAAUC,OAEvCwC,SAAYtE,SAASpG,EAAE8C,MAAMwD,QAAQ,8BAA8B0F,SAAW/F,KAAK1F,KAAKoB,MAAME,SAASP,SAAY,GAAK,EACxHqJ,YAAc1E,KAAK1F,KAAKoB,MAAME,SAASP,SAAW,GAAK,EACvDsK,WAAa,IAAMG,EACnBJ,UAAa,IAAMI,EAAK7D,EAE5BjC,KAAK6F,iBAAiBhJ,KAAM4H,SAAUC,YAAagB,UAAWC,mBAK1E3L,SAAS2D,UAAUkI,iBAAmB,SAAU5F,KAAMwE,SAAUC,YAAagB,UAAWC,YACpF5L,EAAEkG,MAAMe,KAAK,WAAYyD,UACzB1K,EAAEkG,MAAMe,KAAK,cAAe0D,aAC5B3K,EAAEkG,MAAMe,KAAK,YAAa0E,WAC1B3L,EAAEkG,MAAMe,KAAK,aAAc2E,YAE3B5L,EAAEkG,MAAMG,IAAI,CACRI,IAAMiE,SAAY,KAClBnE,OAASoE,YAAe,KACxBhE,KAAMgF,UAAY,IAClBjF,MAAOkF,WAAa,OAI5B3L,SAAS2D,UAAUkB,eAAiB,eAC5B8C,EAAGM,EAAGnG,IAAKb,SAAUC,OAAQ8K,SAC7BF,EAAIjJ,KAAKT,OAAO4G,WACff,EAAI,EAAGA,EAAI6D,EAAG7D,IACfN,EAAI9E,KAAKT,OAAO6F,GAChBnG,KAAM,EACNb,SAAW4B,KAAKvC,KAAKS,QAAQC,SAASC,SACtCC,OAAS2B,KAAKvC,KAAKS,QAAQC,SAASE,OACpC8K,SAAWnJ,KAAKvC,KAAKS,QAAQC,SAASG,gBACtCpB,EAAE8C,KAAK5C,SAAS0G,KAAK,wBAAwBqB,MAAK,SAAUC,EAAGgE,GACvDtE,EAAE2C,OAAUnE,SAASpG,EAAEkM,GAAGjF,KAAK,cAA2B,GAAX/F,SAAgB,IAAO0G,EAAEuE,KAAQ/F,SAASpG,EAAEkM,GAAGjF,KAAK,cAAyB,GAAT9F,OAAc,GAAQ,GAAK8K,SAAYA,SAAW,KACrKlK,IAAMmK,OAGF,IAARnK,UAGKqK,qBACDrK,IACAmG,EACA9H,OAAO0I,KAAKlB,EAAE2C,OAAOlJ,OAAO,KAC5BjB,OAAO0I,KAAKlB,EAAEuE,KAAK9K,OAAO,KAC1BuG,EAAEyE,MACFzE,EAAE0E,QACF1E,EAAEgC,SACFhC,EAAE2E,UACF3E,EAAE4E,QACF1J,KAAK2J,sBAAsB7E,EAAEgC,UAC7BxJ,OAAO0I,KAAKlB,EAAE2C,OAAOlJ,OAAOyB,KAAKvC,KAAKS,QAAQC,SAASI,QAAU,MAAQjB,OAAO0I,KAAKlB,EAAEuE,KAAK9K,OAAOyB,KAAKvC,KAAKS,QAAQC,SAASI,QAC9H,CAAC,oBAMjBpB,SAAS2D,UAAUiB,iBAAmB,eAC9BqD,EAAGN,EAAG7F,IACNgK,EAAIjJ,KAAKR,SAAS2G,WACjBf,EAAI,EAAGA,EAAI6D,EAAG7D,OACfN,EAAI9E,KAAKR,SAAS4F,GAClBnG,KAAM,EACN/B,EAAE8C,KAAK5C,SAAS0G,KAAK,wBAAwBqB,MAAK,SAAUyE,EAAGR,GACvD9F,SAAShG,OAAO0I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOpH,OAAO,OAAS+E,SAASpG,EAAEkM,GAAGjF,KAAK,gBAC/ElF,IAAMmK,OAIF,IAARnK,SAEG,CACSe,KAAK6J,wBAAwB/E,EAAEgC,cACvCgD,KAAO9J,KAAKvC,KAAKS,QAAQC,SAASC,SAClCC,OAAS2B,KAAKvC,KAAKS,QAAQC,SAASE,OAASiF,SAAStD,KAAKvC,KAAKS,QAAQC,SAASG,gBAAkB,IACnGyL,MAA0H,IAAhH/J,KAAKvC,KAAKS,QAAQC,SAASG,gBAAkB,GAAMgF,SAAStD,KAAKvC,KAAKS,QAAQC,SAASG,gBAAkB,UAClHgL,qBACDrK,IACAmG,EACA9H,OAAO0I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOC,IAAIkE,KAAM,KAAKvL,OAAO,KACzDjB,OAAO0I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOC,IAAIvH,OAAQ,KAAKuH,IAAImE,MAAO,KAAKxL,OAAO,KAC3EuG,EAAEyE,MACFzE,EAAE0E,QACF1E,EAAEgC,SACFhC,EAAE2E,UACF3E,EAAE4E,QACF1J,KAAK6J,wBAAwB/E,EAAEgC,UAC/B,GACA,CAAC,iBAAkB,uBAMnC3J,SAAS2D,UAAUwI,qBAAuB,SAAUxE,EAAGoE,MAAOzB,MAAO4B,IAAKE,MAAOC,QAAS1C,SAAU2C,UAAWC,QAAS3J,MAAOiK,cAAeC,iBAGtIzE,GAAKtI,EAAE,QACPkI,EAAI6E,QAAQ9D,OACTf,KACHI,GAAGtE,SAAS+I,QAAQ7E,IAExBI,GAAGrB,KAAK,aAAc+E,OACtB1D,GAAGrB,KAAK,aAAcsD,OACtBjC,GAAGrB,KAAK,WAAYkF,KACpB7D,GAAGrB,KAAK,aAAcoF,OACtB/D,GAAGrB,KAAK,eAAgBqF,SACxBhE,GAAGrB,KAAK,gBAAiB2C,UACzBtB,GAAGrB,KAAK,iBAAkBsF,WAC1BjE,GAAGrB,KAAK,eAAgBuF,SACxBlE,GAAGrB,KAAK,aAAcpE,OACtByF,GAAGjC,IAAI,aAAcxD,OACH,MAAd0J,WACAjE,GAAGjC,IAAI,UAAW,OAEN,MAAZmG,SACAlE,GAAGjC,IAAI,SAAU,sBAErBgF,EAAIrL,EAAE,MAAO,CACTgN,KAAM,MAEV3B,EAAE3D,OAAO1H,EAAE,OAAQ,OACN,eACV2H,KAAK0E,QACRhB,EAAE3D,OAAO1H,EAAE,OAAQ,OACN,6BAGbqL,EAAEzE,KAAK,kBAAkBc,OAAO1H,EAAE,MAAO,OAC5B,eACVsE,KAAKwI,gBACRzB,EAAEzE,KAAK,kBAAkBc,OAAO1H,EAAE,SAClCqL,EAAEzE,KAAK,kBAAkBc,OAAO4E,SAEhChE,GAAGZ,OAAO2D,GACVrL,EAAE4H,GAAGhB,KAAK,MAAMc,OAAOY,KAG3BrI,SAAS2D,UAAUuB,gBAAkB,eAC7B+C,EAAGN,EAAG7F,IACNgK,EAAIjJ,KAAKT,OAAO4G,WACff,EAAI,EAAGA,EAAI6D,EAAG7D,IACfN,EAAI9E,KAAKT,OAAO6F,GAChBnG,KAAM,EACN/B,EAAE8C,KAAK5C,SAAS0G,KAAK,8BAA8BqB,MAAK,SAAUyE,EAAGR,GAC7DtE,EAAE2C,OAAUnE,SAASpG,EAAEkM,GAAGjF,KAAK,oBAAuBW,EAAEuE,KAAQ/F,SAASpG,EAAEkM,GAAGjF,KAAK,mBACnFlF,IAAMmK,OAGF,IAARnK,UAGKqK,qBACDrK,IACAmG,EACA9H,OAAO0I,KAAKlB,EAAE2C,OAAOlJ,OAAO,KAC5BjB,OAAO0I,KAAKlB,EAAEuE,KAAK9K,OAAO,KAC1BuG,EAAEyE,MACFzE,EAAE0E,QACF1E,EAAEgC,SACFhC,EAAE2E,UACF3E,EAAE4E,QACF1J,KAAK2J,sBAAsB7E,EAAEgC,UAC7BxJ,OAAO0I,KAAKlB,EAAE2C,OAAOlJ,OAAOyB,KAAKvC,KAAKoB,MAAMI,IAAIV,QAAU,MAAQjB,OAAO0I,KAAKlB,EAAE2C,OAAOlJ,OAAOyB,KAAKvC,KAAKS,QAAQC,SAASI,QAAU,MAAQjB,OAAO0I,KAAKlB,EAAEuE,KAAK9K,OAAOyB,KAAKvC,KAAKS,QAAQC,SAASI,QAChM,CAAC,oBAMjBpB,SAAS2D,UAAUsB,kBAAoB,eAC/BgD,EAAGN,EAAG7F,IACNgK,EAAIjJ,KAAKR,SAAS2G,WACjBf,EAAI,EAAGA,EAAI6D,EAAG7D,IACfN,EAAI9E,KAAKR,SAAS4F,GAClBnG,KAAM,EACN/B,EAAE8C,KAAK5C,SAAS0G,KAAK,8BAA8BqB,MAAK,SAAUyE,EAAGR,GAC7DtE,EAAEY,MAASpC,SAASpG,EAAEkM,GAAGjF,KAAK,oBAAuBW,EAAEY,MAASpC,SAASpG,EAAEkM,GAAGjF,KAAK,mBACnFlF,IAAMmK,OAGF,IAARnK,UAGKqK,qBACDrK,IACAmG,EACA9H,OAAO0I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOpH,OAAO,KAC1CjB,OAAO0I,KAAKlB,EAAEY,MAAMgB,MAAM,OAAOnI,OAAO,KACxCuG,EAAEyE,MACFzE,EAAE0E,QACF1E,EAAEgC,SACFhC,EAAE2E,UACF3E,EAAE4E,QACF1J,KAAK6J,wBAAwB/E,EAAEgC,UAC/BxJ,OAAO0I,KAAKlB,EAAEY,MAAMnH,OAAOyB,KAAKvC,KAAKoB,MAAMI,IAAIV,QAC/C,CAAC,iBAAkB,sBAMnCpB,SAAS2D,UAAUwB,UAAY,WAC3BgC,MAAQ,2EACRA,OAAS,6CACTA,OAAS,8BACTA,OAAS,6BACTA,OAAS,gCACTA,OAAS,+HACTA,OAAS,SACTA,OAAS,2BACTA,OAAS,SACTA,OAAS,SACTA,OAAS,SACTA,OAAS,SACTpH,EAAE8C,KAAK5C,SAASwH,OADhBN,2XAIJnH,SAAS2D,UAAUyB,QAAU,cACrBvC,KAAKvC,KAAKmC,IAAID,OAAQ,KAClBwK,GAAKjN,EAAE,OAAQ,OACN,oCAEbiN,GAAG5G,IAAI,QAAS,QAChB4G,GAAG5G,IAAI,WAAY,YACnB4G,GAAG5G,IAAI,UAAW,GAClB4G,GAAG5G,IAAI,aAAcvD,KAAKvC,KAAKmC,IAAIpB,SAAW,MAAQwB,KAAKvC,KAAKmC,IAAIE,MAAQ,IAAME,KAAKvC,KAAKmC,IAAIG,WAC5F4D,KAAQrG,SAASiB,OAAO,KAAOjB,SAASqI,QAAQ,OAAOC,IAAI5F,KAAKvC,KAAKS,QAAQC,SAASC,SAAU,KAAKG,OAAO,MAAQ,GAAKyB,KAAKvC,KAAKS,QAAQC,SAASG,gBAAkB0B,KAAKvC,KAAKS,QAAQC,SAASK,SAAawB,KAAKvC,KAAKS,QAAQC,SAASK,SAAW,KACxP2L,GAAG5G,IAAI,MAAOI,IAAM,WACfvG,QAAQ0G,KAAK,qCAAuCxG,SAASqI,QAAQ,OAAOpH,OAAO,KAAO,MAAMuF,KAAK,MAAMc,OAAOuF,IACnHnK,KAAKvC,KAAKmC,IAAIC,QAAS,KACnBsD,KAAOnD,KACXoK,aAAY,eACJD,GAAKhH,KAAK/F,QAAQ0G,KAAK,mBAAmBuG,UAC1CF,GAAKjN,EAAE,OAAQ,OACN,qCAEVqG,IAAI,QAAS,QAChB4G,GAAG5G,IAAI,WAAY,YACnB4G,GAAG5G,IAAI,UAAW,GAClB4G,GAAG5G,IAAI,aAAcJ,KAAK1F,KAAKmC,IAAIpB,SAAW,MAAQ2E,KAAK1F,KAAKmC,IAAIE,MAAQ,IAAMqD,KAAK1F,KAAKmC,IAAIG,WAC5F4D,KAAQrG,SAASiB,OAAO,KAAOjB,SAASqI,QAAQ,OAAOC,IAAIzC,KAAK1F,KAAKS,QAAQC,SAASC,SAAU,KAAKG,OAAO,MAAQ,GAAK4E,KAAK1F,KAAKS,QAAQC,SAASG,gBAAkB6E,KAAK1F,KAAKS,QAAQC,SAASK,SAAa2E,KAAK1F,KAAKS,QAAQC,SAASK,SAAW,EACxP2L,GAAG5G,IAAI,MAAOI,IAAM,MACpBR,KAAK/F,QAAQ0G,KAAK,qCAAuCxG,SAASqI,QAAQ,OAAOpH,OAAO,KAAO,MAAMuF,KAAK,MAAMc,OAAOuF,MACxH,QAKfhN,SAAS2D,UAAU2B,oBAAsB,eACjCU,KAAOnD,UACN5C,QAAQ0G,KAAK,mBAAmBqB,MAAK,eAClC+B,gBACJhK,EAAE8C,MAAMZ,OACJ,WACIgE,KAAOlG,EAAE8C,MACTkH,gBAAkBC,YAAW,WACrB/D,KAAK3B,SAAS,oBACdvE,EAAEiG,KAAK/F,SAASgE,QAAQ,8BAA+B,CACnD+B,KACAC,OAGJlG,EAAEiG,KAAK/F,SAASgE,QAAQ,4BAA6B,CACjD+B,KACAC,SAITD,KAAK1F,KAAK0B,MAAMC,MAAMC,UAE7B,WACI+H,aAAaF,iBACb9D,KAAOlG,EAAE8C,MACLoD,KAAK3B,SAAS,oBACdvE,EAAEiG,KAAK/F,SAASgE,QAAQ,8BAA+B,CACnD+B,KACAC,OAGJlG,EAAEiG,KAAK/F,SAASgE,QAAQ,4BAA6B,CACjD+B,KACAC,cASxBjG,SAAS2D,UAAU4B,oBAAsB,eACjCS,KAAOnD,UACN5C,QAAQ0G,KAAK,mBAAmBqB,MAAK,WACtCjI,EAAE8C,MAAMqH,OAAM,SAAUlI,OACpBA,MAAMmL,iBACNnL,MAAMoL,kBACNnH,KAAOlG,EAAEiC,MAAM4F,QACe,OAA1B3B,KAAKoH,KAAK,aAAyBpH,KAAK3B,SAAS,oBACjD2B,KAAOA,KAAKI,QAAQ,sBAEpBJ,KAAK3B,SAAS,oBACdvE,EAAEiG,KAAK/F,SAASgE,QAAQ,yBAA0B,CAC9C+B,KACAC,KACAD,KAAK3D,SAAS8D,SAASF,KAAKe,KAAK,kBAGrCjH,EAAEiG,KAAK/F,SAASgE,QAAQ,uBAAwB,CAC5C+B,KACAC,KACAD,KAAK5D,OAAO+D,SAASF,KAAKe,KAAK,yBAOnDhH,SAAS2D,UAAUa,eAAiB,mBAC5BsG,EAAIjI,KAAKT,OAAO4G,OACb8B,KACC3E,SAAShG,OAAO0I,KAAKhG,KAAKT,OAAO0I,GAAGR,OAAOlJ,OAAO,OAASyB,KAAKvC,KAAKS,QAAQC,SAASC,gBACjFX,KAAKS,QAAQC,SAASC,SAAWkF,SAAShG,OAAO0I,KAAKhG,KAAKT,OAAO0I,GAAGR,OAAOlJ,OAAO,QAExF+E,SAAStD,KAAKT,OAAO0I,GAAGoB,KAAO/F,SAAShG,OAAO0I,KAAKhG,KAAKT,OAAO0I,GAAGoB,KAAK1D,QAAQ,OAAOC,IAAI5F,KAAKvC,KAAKS,QAAQC,SAASE,OAAQ,QAAQE,OAAO,aACxId,KAAKS,QAAQC,SAASE,OAASiF,SAAShG,OAAO0I,KAAKhG,KAAKT,OAAO0I,GAAGoB,KAAKoB,QACzEzK,KAAKvC,KAAKS,QAAQC,SAASE,OAAS,SAC/BZ,KAAKS,QAAQC,SAASE,WAM3ClB,SAAS2D,UAAUoF,YAAc,eACzBD,KAAO,MACW,OAAlBjG,KAAK0B,WACLuE,KAAKiC,KAAK5E,SAAShG,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeX,OAAO,OAE7C,QAAlByB,KAAK0B,cACA,IAAI0D,EAAI,EAAGA,EAAIpF,KAAKvC,KAAKS,QAAQS,QAAQC,SAASuH,OAAQf,IAC3Da,KAAKiC,KAAK5E,SAAShG,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeyG,QAAQ,QAAQC,IAAI5F,KAAKvC,KAAKS,QAAQS,QAAQC,SAASwG,GAAI,QAAQ7G,OAAO,UAGpH,SAAlByB,KAAK0B,eACDgJ,cAAgBpN,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeyL,cACrDjF,KAAOpI,OAAO0I,KAAKhG,KAAKvC,KAAKyB,eAAeyG,QAAQ,aAC/CP,EAAI,EAAGA,EAAIsF,cAAetF,IAC/Ba,KAAKiC,KAAK5E,SAASoC,KAAKC,QAAQ,OAAOpH,OAAO,OAC9CmH,KAAKE,IAAI,EAAG,eAGbK,MAGX9I,SAAS2D,UAAU6B,gBAAkB,eAC7BQ,KAAOnD,UACN5C,QAAQ0G,KAAK,sBAAsBuD,OAAM,SAAUlI,WAChDiE,KAAOlG,EAAEiC,MAAM4F,QACW,WAA1B3B,KAAKoH,KAAK,cACVpH,KAAOA,KAAKI,QAAQ,uBAExBL,KAAKyH,wBAAwB1N,EAAEkG,MAAMe,KAAK,uBAIlDhH,SAAS2D,UAAU8B,SAAW,eACtBO,KAAOnD,KACXmD,KAAK/F,QAAQ0G,KAAK,oBAAoB+G,MAAM,CACxCA,MAAO,SAAU1L,MAAO2L,WACH,QAAbA,WAAoC,SAAbA,YAEN,QAAbA,UACAA,UAAY,QACQ,SAAbA,YACPA,UAAY,QAEhB3H,KAAKyH,wBAAwBE,aAGrCC,UAAW,IACXC,gBAAiB,UAIzB7N,SAAS2D,UAAU+B,gBAAkB,eAC7BM,KAAOnD,KAEX9C,EAAE8C,KAAK5C,SAAS0G,KAAK,gBAAgBuD,OAAM,WACvClE,KAAK8H,aAAa3H,SAASpG,EAAE8C,MAAM8D,KAAK,QAAQK,KAAK,oBACrDhB,KAAKzC,QAAQ,QACbyC,KAAKpC,UAGT7D,EAAE8C,KAAK5C,SAAS0G,KAAK,gBAAgBuD,OAAM,WACvClE,KAAKzC,QAAQ,SACbyC,KAAKpC,UAGT7D,EAAE8C,KAAK5C,SAAS0G,KAAK,cAAcuD,OAAM,WACrClE,KAAKzC,QAAQ,QACbyC,KAAKpC,UAGT7D,EAAE8C,KAAK5C,SAAS0G,KAAK,cAAcuD,OAAM,WACrClE,KAAK8H,aAAa/N,EAAE8C,MAAMwD,QAAQ,wBAAwBW,KAAK,cAC/DhB,KAAKzC,QAAQ,OACbyC,KAAKpC,WAIb5D,SAAS2D,UAAUgC,mBAAqB,cAC/B9C,KAAKvC,KAAKI,oBAGXsF,KAAOnD,KACX9C,EAAEgO,QAAQC,OAAO,WAAWnH,GAAG,WAAW,SAAUoH,GAE/B,IAAbA,EAAEC,SAAiBD,EAAEE,SACrBnI,KAAKyH,wBAAwB,QAGhB,IAAbQ,EAAEC,SAAiBD,EAAEE,SACrBnI,KAAKyH,wBAAwB,SAGhB,IAAbQ,EAAEC,SAAiBD,EAAEE,UACC,QAAlBnI,KAAKzB,YACLyB,KAAKzC,QAAQ,SACbyC,KAAKpC,QAEa,OAAlBoC,KAAKzB,YACLyB,KAAKzC,QAAQ,QACbyC,KAAKpC,SAII,IAAbqK,EAAEC,SAAiBD,EAAEE,UACC,QAAlBnI,KAAKzB,YACLyB,KAAKzC,QAAQ,OACbyC,KAAKpC,QAEa,SAAlBoC,KAAKzB,YACLyB,KAAKzC,QAAQ,QACbyC,KAAKpC,cAMrB5D,SAAS2D,UAAU8J,wBAA0B,SAAUE,eAC/CS,KAEkB,OAAlBvL,KAAK0B,YACL6J,KAAO,QAEW,QAAlBvL,KAAK0B,YACL6J,KAAO,QAEW,SAAlBvL,KAAK0B,YACL6J,KAAO,SAEM,QAAbT,iBACKrN,KAAKyB,cAAgBoE,SAAShG,OAAO0I,KAXnChG,KAW6CvC,KAAKyB,eAAesH,SAAS,EAAG+E,MAAMhN,OAAO,OAEpF,SAAbuM,iBACKrN,KAAKyB,cAAgBoE,SAAShG,OAAO0I,KAdnChG,KAc6CvC,KAAKyB,eAAe0G,IAAI,EAAG2F,MAAMhN,OAAO,YAE3FwC,QAGT5D,SAAS2D,UAAUL,YAAc,kBACtBvD,EAAEgO,QAAQtH,QAAU5D,KAAKvC,KAAKK,YAAYG,qBAAuB,SAAW,WAGvFd,SAAS2D,UAAU0D,SAAW,SAAUgH,KAEpCA,IAAMA,IAAIC,QADW,oCACa,SAAU7B,EAAGnF,EAAGC,EAAGC,UAC1CF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,SAE3B+G,OAAS,4CAA4CC,KAAKH,YACvDE,OAAS,CACZjH,EAAGnB,SAASoI,OAAO,GAAI,IACvBhH,EAAGpB,SAASoI,OAAO,GAAI,IACvB/G,EAAGrB,SAASoI,OAAO,GAAI,KACvB,MAGRvO,SAAS2D,UAAUK,yBAA2B,eACtC8E,KAAOjG,KAAKkG,mBACX0F,cAAgBtI,SAAShG,OAAO0I,KAAKC,KAAK,IAAIN,QAAQ,OAAOpH,OAAO,WACpEsN,YAAcvI,SAAShG,OAAO0I,KAAKC,KAAKA,KAAKE,OAAS,IAAIO,MAAM,OAAOnI,OAAO,OAGvFpB,SAAS2D,UAAUgL,cAAgB,SAAUC,OAAQC,WAAYC,oBAEzDnH,EADApF,WAAa,GAEbuJ,EAAI8C,OAAO5F,OACX+F,cAAgB5I,SAAStD,KAAK4L,eAC9BO,YAAc7I,SAAStD,KAAK6L,aAEvBzG,EAAI,EAAGA,EAAI6D,EAAG7D,IACnBN,EAAIiH,OAAO3G,GACP9B,SAASwB,EAAEkH,cAAgBE,eAAiB5I,SAASwB,EAAEmH,cAAgBE,aACvEzM,WAAWwI,KAAKpD,EAAEgC,iBAGnB9G,KAAKqI,gBAAgB3I,aAGhCvC,SAAS2D,UAAUsL,iBAAmB,SAAUtF,SAAUiF,OAAQzM,OAAQS,OACtEa,QAAQmI,IAAI,eAAiBjC,UAC7BlG,QAAQmI,IAAI,aAAesD,KAAKC,UAAUP,OAAQ,KAAM,IACxDnL,QAAQmI,IAAI,aAAezJ,QAC3BsB,QAAQmI,IAAI,YAAchJ,WACtBwM,WAAaF,KAAKG,MAAMtP,EAAE,4BAA4BiH,KAAK,6BAC/DvD,QAAQmI,IAAI,aAAesD,KAAKC,UAAUC,WAAY,KAAM,YAExDE,KAAMxE,EACN7C,EAAImH,WAAWpG,OACZf,QACCmH,WAAWnH,GAAG0B,UAAYA,gBAC1BiF,OAAOW,QAAQ,CACX5F,SAAUA,SACV/G,MAAOwM,WAAWnH,GAAGrF,QAElBwM,WAAWnH,GAAGrF,UAUxBqF,EAAI,EAAGA,EAAI9F,OAAO6G,OAAQf,IAAK,KAChCqH,MAAO,EACPxE,EAAI8D,OAAO5F,OACJ8B,KACC8D,OAAO9D,GAAGlI,OAAST,OAAO8F,KAC1BqH,MAAO,OAGVA,YACDV,OAAO7D,KAAK,CACRpB,SAAUA,SACV/G,MAAOT,OAAO8F,KAEX9F,OAAO8F,UAGfrF,OAGX5C,SAAS2D,UAAU6L,oBAAsB,kBAC9B3M,KAAK8L,cAAc9L,KAAKT,OAAQ,QAAS,QAGpDpC,SAAS2D,UAAU6F,0BAA4B,eACvCjH,WAAaM,KAAK2M,2BACjBxM,mBAAsBH,KAAKK,uBAAuB8F,OAAS,EAAKnG,KAAKK,uBAAyB,WAC/F+E,EAAI1F,WAAWyG,OACZf,UACEuE,sBAAsBjK,WAAW0F,KAI9CjI,SAAS2D,UAAU6I,sBAAwB,SAAU7C,iBAC1C9G,KAAKoM,iBAAiBtF,SAAU9G,KAAKG,mBAAoBH,KAAKvC,KAAK6B,OAAOC,OAAQ,YAG7FpC,SAAS2D,UAAU8L,yBAA2B,kBACnC5M,KAAKG,oBAGhBhD,SAAS2D,UAAU+L,yBAA2B,SAAUC,uBAC/CzM,uBAAyByM,kBAGlC3P,SAAS2D,UAAUiM,sBAAwB,kBAChC/M,KAAK8L,cAAc9L,KAAKR,SAAU,OAAQ,SAGrDrC,SAAS2D,UAAU8F,4BAA8B,eACzClH,WAAaM,KAAK+M,6BACjB3M,qBAAwBJ,KAAKM,yBAAyB6F,OAAS,EAAKnG,KAAKM,yBAA2B,WACrG8E,EAAI1F,WAAWyG,OACZf,UACEyE,wBAAwBnK,WAAW0F,KAIhDjI,SAAS2D,UAAU+I,wBAA0B,SAAU/C,iBAC5C9G,KAAKoM,iBAAiBtF,SAAU9G,KAAKI,qBAAsBJ,KAAKvC,KAAK6B,OAAOE,SAAU,YAGjGrC,SAAS2D,UAAUkM,2BAA6B,kBACrChN,KAAKI,sBAGhBjD,SAAS2D,UAAUmM,2BAA6B,SAAUH,uBACjDxM,yBAA2BwM,kBAGpC3P,SAAS2D,UAAUoM,eAAiB,kBACzBlN,KAAKvC,KAAK6B,OAAOC,QAG5BpC,SAAS2D,UAAUb,eAAiB,SAAUkN,YACrC1P,KAAK6B,OAAOC,OAASS,KAAKoN,gBAAgBD,OAC3CnN,KAAKvC,KAAK6B,OAAOG,aACZhC,KAAK6B,OAAOC,OAAO+I,MAAK,iBAClB,GAAM+E,KAAK5N,aAK9BtC,SAAS2D,UAAUwM,iBAAmB,kBAC3BtN,KAAKvC,KAAK6B,OAAOE,UAG5BrC,SAAS2D,UAAUZ,iBAAmB,SAAUiN,YACvC1P,KAAK6B,OAAOE,SAAWQ,KAAKoN,gBAAgBD,OAC7CnN,KAAKvC,KAAK6B,OAAOG,aACZhC,KAAK6B,OAAOE,SAAS8I,MAAK,iBACpB,GAAM+E,KAAK5N,aAK9BtC,SAAS2D,UAAUyM,UAAY,kBACpBvN,KAAKT,QAGhBpC,SAAS2D,UAAUP,UAAY,SAAUhB,aAChCA,OAAUA,QAAmB,QAC7BA,OAAO+I,MAAK,SAAUC,EAAG5D,UAClB4D,EAAEd,MAAQ9C,EAAE8C,MAAS,GAAK,MAI1CtK,SAAS2D,UAAU0M,UAAY,SAAUjO,aAChCA,OAASS,KAAKT,OAAOkO,OAAOlO,aAC5BA,OAAO+I,MAAK,SAAUC,EAAG5D,UAClB4D,EAAEd,MAAQ9C,EAAE8C,MAAS,GAAK,MAI1CtK,SAAS2D,UAAU4M,YAAc,kBACtB1N,KAAKR,UAGhBrC,SAAS2D,UAAUN,YAAc,SAAUhB,eAClCA,SAAYA,UAAuB,QACnCA,SAAS8I,MAAK,SAAUC,EAAG5D,UACpB4D,EAAEd,MAAQ9C,EAAE8C,MAAS,GAAK,MAI1CtK,SAAS2D,UAAU6M,YAAc,SAAUnO,eAClCA,SAAWQ,KAAKR,SAASiO,OAAOjO,eAChCA,SAAS8I,MAAK,SAAUC,EAAG5D,UACpB4D,EAAEd,MAAQ9C,EAAE8C,MAAS,GAAK,MAI1CtK,SAAS2D,UAAU8M,YAAc,kBACtB5N,KAAKW,UAGhBxD,SAAS2D,UAAUQ,gBAAkB,iBAC1B,CAACtB,KAAK4L,cAAe5L,KAAK6L,cAGrC1O,SAAS2D,UAAUS,oBAAsB,eACjCqE,IAAM,KAAQ,SAAa,UAAc,YAC7CA,IAAMA,IAAI5F,KAAK0B,WACR,CACH4B,SAAShG,OAAO0I,KAAKhG,KAAK4L,eAAehG,IAAI,EAAGA,KAAKrH,OAAO,MAC5D+E,SAAShG,OAAO0I,KAAKhG,KAAK6L,aAAajG,IAAI,EAAGA,KAAKrH,OAAO,QAKlEpB,SAAS2D,UAAUO,oBAAsB,eACjCwM,IAAM,KAAQ,SAAa,UAAc,YAC7CA,IAAMA,IAAI7N,KAAK0B,WACR,CACH4B,SAAShG,OAAO0I,KAAKhG,KAAK4L,eAAepF,SAAS,EAAGqH,KAAKtP,OAAO,MACjE+E,SAAShG,OAAO0I,KAAKhG,KAAK6L,aAAarF,SAAS,EAAGqH,KAAKtP,OAAO,QAIvEpB,SAAS2D,UAAUgN,aAAe,kBACvB9N,KAAKvC,KAAKyB,eAGrB/B,SAAS2D,UAAUmK,aAAe,SAAU8C,gBACnCtQ,KAAKyB,cAAgBoE,SAASyK,YAGvC5Q,SAAS2D,UAAUY,QAAU,kBAClB1B,KAAKvC,KAAKE,MAGrBR,SAAS2D,UAAUJ,QAAU,SAAU/C,MACvB,OAARA,MAAyB,QAARA,MAA0B,SAARA,YAC9BF,KAAKE,KAAOA,OAIzBR,SAAS2D,UAAUsM,gBAAkB,SAAU7E,GAC3CA,EAAIA,EAAEkF,aACD,IAAIrI,EAAI,EAAGA,EAAImD,EAAEpC,SAAUf,MACvB,IAAI6C,EAAI7C,EAAI,EAAG6C,EAAIM,EAAEpC,SAAU8B,EAC5BM,EAAEnD,KAAOmD,EAAEN,IACXM,EAAEyF,OAAO/F,IAAK,UAInBM,GAGXpL,SAAS2D,UAAUuH,gBAAkB,SAAUE,GAC3CA,EAAIA,EAAEkF,aACD,IAAIrI,EAAI,EAAGA,EAAImD,EAAEpC,SAAUf,MACvB,IAAI6C,EAAI7C,EAAI,EAAG6C,EAAIM,EAAEpC,SAAU8B,EAC5BM,EAAEnD,KAAOmD,EAAEN,IACXM,EAAEyF,OAAO/F,IAAK,UAInBM,GAGXpL,SAAS2D,UAAUiF,kBAAoB,SAAUkI,UACtCA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,MAAM,QAe3CC,gBAZAC,iBAAmB,GAGvBvR,OAAOwR,OAAOxR,OAAOyR,GAAI,CACrBrR,SAAU,SAAUsR,aACZC,EAAI,IAAIvR,SAASD,EAAE8C,WAAoBtB,IAAZ+P,QAAyB,GAAKA,gBAC7DH,iBAAiBpG,KAAKwG,GACfA,SAiBXC,gBAVJzD,OAAO0D,iBAAiB,qBAAqB,WACzCxH,aAAaiH,iBACbA,gBAAkBlH,YAAW,WACzBmH,iBAAiBO,SAAQ,SAAUC,KAC/BA,IAAI/N,YALH,QAabmK,OAAO0D,iBAAiB,UAAU,WAC9BxH,aAAauH,iBACbA,gBAAkBxH,YAAW,WACzBmH,iBAAiBO,SAAQ,SAAUC,KACN,WAArBA,IAAIrO,eACJqO,IAAI/N,YANP"}