{"version":3,"file":"jquery-calendar.min.js","sources":["../src/jquery-calendar.js"],"sourcesContent":["/*\n * @class Calendar ~jquery-calendar plugin~ (https://github.com/ArrobeFr/jquery-calendar-bs4)\n * @author Developped by Arrobe (https://www.arrobe.fr)\n * Some Improvements, refactorizations and fixes: M. A. Coma Rivas\n * @license Licensed under MIT (https://github.com/ArrobeFr/jquery-calendar/blob/master/LICENSE)\n */\n\njQuery(document).ready(function ($) {\n    function Calendar(element, Args) {\n        // Check Moment.js dependency\n        if (typeof (moment) !== 'function') {\n            console.error('Calendar require Moment.js !');\n            return;\n        }\n\n        // Pre-defined events colors\n        var eventColors = [ // https://www.materialui.co/colors (800)\n            '#C62828', // Red\n            '#AD1457', // Pink\n            '#6A1B9A', // Purple\n            '#4527A0', // Deep Purple\n            '#283593', // Indigo\n            '#1565C0', // Blue\n            '#0277BD', // Light Blue\n            '#00838F', // Cyan\n            '#00695C', // Teal\n            '#2E7D32', // Green\n            '#558B2F', // Light Green\n            '#9E9D24', // Lime\n            '#F9A825', // Yellow\n            '#FF8F00', // Amber\n            '#EF6C00', // Orange\n            '#D84315', // Deep Orange\n            '#4E342E', // Brown\n            '#424242', // Grey\n            '#37474F', // Blue Grey\n            '#212121', // Grey (900)\n        ];\n\n        // Pre-defined events colors\n        var daynoteColors = [ // https://www.materialui.co/colors (800)\n            '#EF9A9A', // Red\n            '#F48FB1', // Pink\n            '#CE93D8', // Purple\n            '#B39DDB', // Deep Purple\n            '#9FA8DA', // Indigo\n            '#90CAF9', // Blue\n            '#81D4FA', // Light Blue\n            '#80DEEA', // Cyan\n            '#80CBC4', // Teal\n            '#A5D6A7', // Green\n            '#C5E1A5', // Light Green\n            '#E6EE9C', // Lime\n            '#FFF59D', // Yellow\n            '#FFE082', // Amber\n            '#FFCC80', // Orange\n            '#FFAB91', // Deep Orange\n            '#BCAAA4', // Brown\n            '#EEEEEE', // Grey\n            '#B0BEC5' // Blue Grey\n        ];\n\n        // Define default configuration\n        this.conf = {\n            locale: (Args.locale) ? Args.locale : 'fr',\n            view: 'week',\n            rooms: (Args.rooms !== false) ? Args.rooms : false,\n            enableKeyboard: (Args.enableKeyboard) ? Args.enableKeyboard : true,\n            defaultView: {\n                largeScreen: (Args.defaultView) ? (Args.defaultView.largeScreen) ? (Args.defaultView.largeScreen) : 'week' : 'week',\n                smallScreen: (Args.defaultView) ? (Args.defaultView.smallScreen) ? (Args.defaultView.smallScreen) : 'day' : 'day',\n                smallScreenThreshold: (Args.defaultView) ? (Args.defaultView.smallScreenThreshold) ? (Args.defaultView.smallScreenThreshold) : 1000 : 1000\n            },\n            weekday: {\n                timeline: {\n                    fromHour: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.fromHour) ? Args.weekday.timeline.fromHour : 7 : 7 : 7,\n                    toHour: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.toHour) ? Args.weekday.timeline.toHour : 20 : 20 : 20,\n                    intervalMinutes: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.intervalMinutes) ? Args.weekday.timeline.intervalMinutes : 60 : 60 : 60,\n                    format: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.format) ? Args.weekday.timeline.format : 'HH:mm' : 'HH:mm' : 'HH:mm',\n                    heightPx: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.heightPx) ? Args.weekday.timeline.heightPx : 50 : 50 : 50,\n                    autoResize: (Args.weekday) ? (Args.weekday.timeline) ? (Args.weekday.timeline.autoResize !== undefined) ? Args.weekday.timeline.autoResize : true : true : true\n                },\n                dayline: {\n                    weekdays: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.weekdays) ? Args.weekday.dayline.weekdays : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6],\n                    format: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.format) ? Args.weekday.dayline.format : 'dddd DD/MM' : 'dddd DD/MM' : 'dddd DD/MM',\n                    heightPx: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.heightPx) ? Args.weekday.dayline.heightPx ? (Args.weekday.dayline.heightPx > 31) ? Args.weekday.dayline.heightPx : 31 : 31 : 31 : 31 : 31,\n                    month: {\n                        format: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.format) ? Args.weekday.dayline.month.format : 'MMMM YYYY' : 'MMMM YYYY' : 'MMMM YYYY' : 'MMMM YYYY',\n                        heightPx: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.heightPx) ? Args.weekday.dayline.month.heightPx : 30 : 30 : 30 : 30,\n                        weekFormat: (Args.weekday) ? (Args.weekday.dayline) ? (Args.weekday.dayline.month) ? (Args.weekday.dayline.month.weekFormat) ? Args.weekday.dayline.month.weekFormat : 'w' : 'w' : 'w' : 'w'\n                    }\n                }\n            },\n            month: {\n                format: (Args.month) ? (Args.month.format) ? Args.month.format : 'MMMM YYYY' : 'MMMM YYYY',\n                heightPx: (Args.month) ? (Args.month.heightPx) ? (Args.month.heightPx > 31) ? Args.month.heightPx : 31 : 31 : 31,\n                weekline: {\n                    format: (Args.month) ? (Args.month.weekline) ? (Args.month.weekline.format) ? Args.month.weekline.format : 'w' : 'w' : 'w',\n                    heightPx: (Args.month) ? (Args.month.weekline) ? (Args.month.weekline.heightPx) ? Args.month.weekline.heightPx : 80 : 80 : 80\n                },\n                dayheader: {\n                    weekdays: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.weekdays) ? Args.month.dayheader.weekdays : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6] : [0, 1, 2, 3, 4, 5, 6],\n                    format: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.format) ? Args.month.dayheader.format : 'dddd' : 'dddd' : 'dddd',\n                    heightPx: (Args.month) ? (Args.month.dayheader) ? (Args.month.dayheader.heightPx) ? Args.month.dayheader.heightPx : 30 : 30 : 30\n                },\n                day: {\n                    format: (Args.month) ? (Args.month.day) ? (Args.month.day.format) ? Args.month.day.format : 'DD/MM' : 'DD/MM' : 'DD/MM'\n                }\n            },\n            unixTimestamp: (Args.unixTimestamp) ? Args.unixTimestamp : moment().format('X'),\n            event: {\n                hover: {\n                    delay: (Args.event) ? (Args.event.hover) ? (Args.event.hover.delay) ? Args.event.hover.delay : 500 : 500 : 500\n                }\n            },\n            colors: {\n                events: (Args.colors) ? (Args.colors.events) ? Args.colors.events : eventColors : eventColors,\n                daynotes: (Args.colors) ? (Args.colors.daynotes) ? Args.colors.daynotes : daynoteColors : daynoteColors,\n                random: (Args.colors) ? (Args.colors.random) ? Args.colors.random : true : true,\n                border1: (Args.colors) ? (Args.colors.border1) ? (Args.colors.border1) : '#576874' : '#576874',\n                border2: (Args.colors) ? (Args.colors.border2) ? (Args.colors.border2) : '#576874' : '#576874'\n            },\n            categories: {\n                enable: (Args.categories) ? (Args.categories.enable !== undefined) ? Args.categories.enable : true : true,\n                hover: {\n                    delay: (Args.categories) ? (Args.categories.hover) ? (Args.categories.hover.delay) ? Args.categories.hover.delay : 500 : 500 : 500\n                }\n            },\n            now: {\n                enable: (Args.now) ? (Args.now.enable !== undefined) ? (Args.now.enable) : false : false,\n                refresh: (Args.now) ? (Args.now.refresh !== undefined) ? (Args.now.refresh) : false : false,\n                heightPx: (Args.now) ? (Args.now.heightPx) ? (Args.now.heightPx) : 1 : 1,\n                style: (Args.now) ? (Args.now.style) ? (Args.now.style) : 'solid' : 'solid',\n                color: (Args.now) ? (Args.now.color) ? (Args.now.color) : '#03A9F4' : '#03A9F4'\n            }\n        };\n\n        // Sets moment's locale\n        moment.locale(this.conf.locale);\n\n        // Sets colors\n        this.setEventColors(this.conf.colors.events);\n        this.setDaynoteColors(this.conf.colors.daynotes);\n\n        // Create array to associate colors and categories\n        this.eventCategoryColor = [];\n        this.daynoteCategoryColor = [];\n\n        // Create array to associate colors and categories as defined by setEventCategoriesColors or setDaynoteCategoriesColors\n        this.userEventCategoryColor = [];\n        this.userDaynoteCategoryColor = [];\n\n        // Load events\n        this.setEvents((Args.events) ? Args.events : []);\n\n        // Load day notes\n        this.setDaynotes((Args.daynotes) ? Args.daynotes : []);\n\n        // Define the default view\n        if (this.mobileQuery() == 'mobile') {\n            this.setView(this.conf.defaultView.smallScreen);\n        } else {\n            this.setView(this.conf.defaultView.largeScreen);\n        }\n\n        // Init\n        this.element = element;\n        this.initTime = false;\n    }\n\n    Calendar.prototype.init = function () {\n        var millis = Date.now();\n        this.element.addClass('loading');\n        this.calculateCurrentInterval();\n        $(this.element).trigger('Calendar.init', [\n            this,\n            this.getPrevViewInterval(),\n            this.getViewInterval(),\n            this.getNextViewInterval()\n        ]);\n        $(this.element).html('');\n        if (!$(this.element).hasClass('calendar')) {\n            $(this.element).addClass('calendar');\n        }\n        if (this.getView() == 'day' || this.getView() == 'week') {\n            if (this.conf.weekday.timeline.autoResize) {\n                this.resizeTimeline();\n            }\n        }\n        this.drawCategories();\n        if (this.getView() == 'day' || this.getView() == 'week') {\n            this.weekDrawTime();\n            this.weekDrawDays();\n            this.weekDrawDaynotes();\n            this.weekDrawEvents();\n        }\n        if (this.getView() == 'month') {\n            this.monthDrawWeek();\n            this.monthDrawWeekNumbers();\n            this.monthDrawWeekDays();\n            this.monthDrawDaynotes();\n            this.monthDrawEvents();\n        }\n        this.drawModal();\n        this.drawNow();\n        this.positionEvents();\n        this.hoverEventOrDaynote();\n        this.clickEventOrDaynote();\n        this.addBtnLeftRight();\n        this.addSwipe();\n        this.clickSwitchView();\n        this.keyboardSwitchView();\n        this.defaultEvents();\n        this.element.removeClass('loading');\n        this.initTime = (Date.now() - millis) + 'ms';\n    };\n\n    Calendar.prototype.defaultEvents = function () {\n        if (this.binded == true) {\n            return;\n        }\n        var self = this;\n        var eventMouseenterDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                if (parseInt(elem.css('top')) >= (elem.closest('ul').height() / 2) - self.conf.weekday.timeline.heightPx) {\n                    var heightPx = parseInt(elem.css('top')) + parseInt(elem.css('height'));\n                    elem\n                        .css('z-index', 10)\n                        .animate({\n                            height: heightPx,\n                            top: 0,\n                            width: '100%',\n                            left: 0\n                        }, 50)\n                    ;\n                } else {\n                    var heightPx = elem.closest('ul').height() - parseInt(elem.css('top'));\n                    elem\n                        .css('z-index', 10)\n                        .animate({\n                            height: heightPx,\n                            width: '100%',\n                            left: 0\n                        }, 50)\n                    ;\n                }\n                elem.find('.event-name').removeClass('invisible');\n                elem.find('.event-content').removeClass('invisible');\n            }\n        };\n        $(self.element).off('Calendar.event-mouseenter', eventMouseenterDefault).on('Calendar.event-mouseenter', eventMouseenterDefault);\n        $(self.element).off('Calendar.daynote-mouseenter', eventMouseenterDefault).on('Calendar.daynote-mouseenter', eventMouseenterDefault);\n\n        var eventMouseleaveDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                elem\n                    .css('z-index', 'auto')\n                    .animate({\n                        height: parseFloat(elem.attr('data-height')) + 'px',\n                        top: parseFloat(elem.attr('data-top')),\n                        width: parseFloat(elem.attr('data-width')) + '%',\n                        left: parseFloat(elem.attr('data-left')) + '%'\n                    }, 50)\n                ;\n                elem.find('.event-content').addClass('invisible');\n            }\n        };\n        $(self.element).off('Calendar.event-mouseleave', eventMouseleaveDefault).on('Calendar.event-mouseleave', eventMouseleaveDefault);\n        $(self.element).off('Calendar.daynote-mouseleave', eventMouseleaveDefault).on('Calendar.daynote-mouseleave', eventMouseleaveDefault);\n\n        var eventClickDefault = function (event, self, elem, evt) {\n            if (!event.isDefaultPrevented()) {\n                var modal = $(self.element).find('#calendar-modal');\n                var rgb = self.hexToRgb(elem.attr('data-color'));\n                modal.css('background', 'rgba(' + rgb.r + ', ' + rgb.g + ', ' + rgb.b + ', 0.5)');\n                modal.find('.modal-title').append(elem.attr('data-title') + ' ');\n                modal.find('.modal-body').append(\n                    $('<h4>').append(\n                        $(this).closest('.calendar-events-day').find('span').html()\n                    ).append(\n                        ' '\n                    ).append(\n                        $('<small>').text(elem.find('.event-date').text())\n                    )\n                );\n                modal.find('.modal-body').append(elem.find('.event-content').html());\n                modal.modal('show');\n                modal.on('hidden.bs.modal', function (e) {\n                    $(e.target).find('.modal-title').html('');\n                    $(e.target).find('.modal-body').html('');\n                });\n            }\n        };\n        $(self.element).off('Calendar.event-click', eventClickDefault).on('Calendar.event-click', eventClickDefault);\n        $(self.element).off('Calendar.daynote-click', eventClickDefault).on('Calendar.daynote-click', eventClickDefault);\n\n        var eventCategoryClickDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                var events = self.element.find('.calendar-event[data-category=\"' + $(elem).text() + '\"]');\n                if ($(elem).attr('data-clicked') == 'false') {\n                    events.animate({\n                        opacity: 0\n                    }, 200, function () {\n                        events.css('display', 'none');\n                        $(elem).css('background-color', '#E0E0E0');\n                        $(elem).attr('data-clicked', true);\n                    });\n                }\n                if ($(elem).attr('data-clicked') == 'true') {\n                    events.css('display', 'list-item');\n                    $(elem).css('background-color', $(elem).attr('data-color'));\n                    events.animate({\n                        opacity: 1\n                    }, 200, function () {\n                        $(elem).attr('data-clicked', false);\n                    });\n                }\n            }\n        };\n        $(self.element).off('Calendar.category-event-click', eventCategoryClickDefault).on('Calendar.category-event-click', eventCategoryClickDefault);\n        $(self.element).off('Calendar.category-daynote-click', eventCategoryClickDefault).on('Calendar.category-daynote-click', eventCategoryClickDefault);\n\n        var eventCategoryMouseenterDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                self.element.find('.calendar-event').each(function (i, e) {\n                    if ($(e).attr('data-category') != elem.text()) {\n                        $(e).css('opacity', 0.2);\n                    }\n                });\n            }\n        };\n        $(self.element).off('Calendar.category-event-mouseenter', eventCategoryMouseenterDefault).on('Calendar.category-event-mouseenter', eventCategoryMouseenterDefault);\n        $(self.element).off('Calendar.category-daynote-mouseenter', eventCategoryMouseenterDefault).on('Calendar.category-daynote-mouseenter', eventCategoryMouseenterDefault);\n\n        var eventCategoryMouseleaveDefault = function (event, self, elem) {\n            if (!event.isDefaultPrevented()) {\n                self.element.find('.calendar-event').each(function (i, e) {\n                    $(e).css('opacity', 1);\n                });\n            }\n        };\n        $(self.element).off('Calendar.category-event-mouseleave', eventCategoryMouseleaveDefault).on('Calendar.category-event-mouseleave', eventCategoryMouseleaveDefault);\n        $(self.element).off('Calendar.category-daynote-mouseleave', eventCategoryMouseleaveDefault).on('Calendar.category-daynote-mouseleave', eventCategoryMouseleaveDefault);\n\n        this.binded = true;\n    };\n\n    Calendar.prototype.weekDrawTime = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-timeline'\n        }));\n        $(this.element).find('div.calendar-timeline').css('padding-top', this.conf.weekday.dayline.heightPx + 'px');\n        var marginTop = this.conf.weekday.dayline.month.heightPx;\n        if (this.conf.categories.enable) {\n            var $categoryBar = $(this.element).find('div.calendar-categories');\n            marginTop += $categoryBar.height() + parseFloat($categoryBar.css('margin-bottom'));\n        }\n        $(this.element).find('div.calendar-timeline').css('margin-top', marginTop + 'px');\n\n        $(this.element).find('div.calendar-timeline').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-timeline').find('ul');\n\n        var time = moment(moment()).startOf('Week');\n        time.add(this.conf.weekday.timeline.fromHour, 'H');\n\n        var limit = (((this.conf.weekday.timeline.toHour + 1) * 60) - (this.conf.weekday.timeline.fromHour * 60)) / this.conf.weekday.timeline.intervalMinutes;\n        var i = 0;\n        while (i < limit) {\n            li = $('<li>');\n            li.append($('<span>').text(time.format(this.conf.weekday.timeline.format)));\n            li.height(this.conf.weekday.timeline.heightPx);\n            ul.append(li);\n            time.add(this.conf.weekday.timeline.intervalMinutes, 'm');\n            i++;\n        }\n    };\n\n    Calendar.prototype.weekDrawDays = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-events'\n        }));\n\n        var div = $('<div>', {\n                \"class\": 'calendar-month'\n            })\n                .css('height', this.conf.weekday.dayline.month.heightPx + 'px')\n                .css('text-align', 'center')\n                .css('padding-top', (this.conf.weekday.dayline.month.heightPx - 20) / 2 + 'px')\n        ;\n        if (this.getView() == 'week') {\n            div.text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.weekday.dayline.month.format)));\n            div.addClass('weektomonth');\n        }\n        if (this.getView() == 'day') {\n            div.text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.weekday.dayline.month.weekFormat)));\n            div.addClass('daytoweek');\n        }\n        $(this.element).find('div.calendar-events').append(div);\n\n        $(this.element).find('div.calendar-events').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-events').find('ul');\n\n        var days = this.getViewDays();\n\n        for (var i = 0; i < days.length; i++) {\n            time = moment.unix(days[i]);\n\n            li = $('<li>', {\n                \"class\": 'calendar-events-day'\n            });\n            li.css('width', 100 / days.length + '%');\n            div = $('<div>', {\n                \"class\": 'calendar-day-header'\n            });\n            div.height(this.conf.weekday.dayline.heightPx);\n            if (i == 0 && this.mobileQuery() == 'desktop') {\n                div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                }).attr('data-direction', 'left').append($('<i>', {\n                    \"class\": 'fas fa-arrow-left'\n                })));\n            }\n            div.append($('<span>')\n                .addClass('weektoday')\n                .css('width', '100%')\n                .html(this.miscUcfirstString(time.format(this.conf.weekday.dayline.format)))\n            );\n\n            if (i == days.length - 1 && this.mobileQuery() == 'desktop') {\n                div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                }).attr('data-direction', 'right').append($('<i>', {\n                    \"class\": 'fas fa-arrow-right'\n                })));\n            }\n            li.append(div);\n            li.attr('data-time', time.startOf('day').format('X'));\n            var date = new Date(time);\n            var dayOfWeek = date.getDay();\n            var isWeekend = (dayOfWeek === 6) || (dayOfWeek  === 0);\n            li.attr('data-weekend', isWeekend);\n\n            li.append($('<ul>'));\n            li.find('ul').height(((60 / this.conf.weekday.timeline.intervalMinutes) * (this.conf.weekday.timeline.toHour - this.conf.weekday.timeline.fromHour) * this.conf.weekday.timeline.heightPx) + ((60 / this.conf.weekday.timeline.intervalMinutes) * this.conf.weekday.timeline.heightPx));\n            ul.append(li);\n        }\n\n        var maxHeight = 0;\n        $(this.element).find('.calendar-day-header').each(function () {\n            if ($(this).height() > maxHeight) {\n                maxHeight = $(this).height();\n            }\n        });\n        $(this.element).find('.calendar-day-header').each(function () {\n            $(this).height(maxHeight);\n        });\n\n        if (this.conf.weekday.dayline.heightPx < maxHeight) {\n            this.conf.weekday.dayline.heightPx = maxHeight;\n            $(this.element).find('div.calendar-timeline').css('padding-top', this.conf.weekday.dayline.heightPx + 'px'); // W: Padding-top do cabeçalho dos dias da semana\n            // alert(this.conf.weekday.dayline.heightPx + \" \" + $(this.element).find('.calendar-day-header').first().css('height'));\n        }\n\n    };\n\n    Calendar.prototype.monthDrawWeek = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-events'\n        }));\n        var div = $('<div>', {\n            \"class\": 'calendar-month'\n        });\n        div.css('height', this.conf.month.heightPx + 'px');\n\n        if (this.mobileQuery() == 'desktop') {\n            div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                })\n                    .attr('data-direction', 'left')\n                    .append($('<i>', {\n                        \"class\": 'fas fa-angle-left'\n                    }))\n            );\n        }\n        div.append($('<span>')\n            .css('position', 'absolute')\n            .css('top', this.conf.month.heightPx / 2 + 'px')\n            .css('right', '50%')\n            .css('transform', 'translate(50%,-50%)')\n            .text(this.miscUcfirstString(moment.unix(this.conf.unixTimestamp).format(this.conf.month.format)))\n        );\n        if (this.mobileQuery() == 'desktop') {\n            div.append($('<button>', {\n                    \"class\": 'btn btn-sm btn-light btn-move-calendar'\n                })\n                    .css('float', 'right')\n                    .attr('data-direction', 'right')\n                    .append($('<i>', {\n                        \"class\": 'fas fa-arrow-right'\n                    }))\n            );\n        }\n\n        $(this.element).find('div.calendar-events').append(div);\n        $(this.element).find('div.calendar-events').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-events').find('ul');\n\n        var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n        var month = parseInt(time.format('MM'));\n        var week = parseInt(time.format('w'));\n        var nbWeeks = 0;\n        while (parseInt(time.format('MM')) == month) {\n            nbWeeks++;\n            while (parseInt(time.format('w')) == week) {\n                time.add(1, 'days');\n            }\n            week = parseInt(time.format('w'));\n        }\n\n        for (var i = 0; i < this.conf.month.dayheader.weekdays.length; i++) {\n            time = moment().startOf('week').add(this.conf.month.dayheader.weekdays[i], 'days');\n            li = $('<li>', {\n                \"class\": 'calendar-month-day-header'\n            });\n            li.append($('<div>')\n                .css('height', this.conf.month.dayheader.heightPx + 'px')\n                .css('padding-top', (this.conf.month.dayheader.heightPx - 20) / 2 + 'px')\n                .text(this.miscUcfirstString(time.format(this.conf.month.dayheader.format)))\n            );\n            li.css('width', 100 / this.conf.month.dayheader.weekdays.length + '%');\n            li.append($('<ul>').css('height', nbWeeks * this.conf.month.weekline.heightPx + 'px'));\n            ul.append(li);\n        }\n        var maxHeight = 0;\n        $(this.element).find('.calendar-month-day-header').each(function () {\n            var e = $(this).find('div');\n            if ($(e).height() > maxHeight) {\n                maxHeight = $(e).height();\n            }\n        });\n        $(this.element).find('.calendar-month-day-header').each(function () {\n            var e = $(this).find('div');\n            $(e).height(maxHeight);\n        });\n    };\n\n    Calendar.prototype.monthDrawWeekNumbers = function () {\n        $(this.element).append($('<div>', {\n            \"class\": 'calendar-timeline'\n        }));\n        var marginTop = this.conf.month.dayheader.heightPx;\n        marginTop += this.conf.month.heightPx;\n        if (this.conf.categories.enable) {\n            marginTop += 30;\n        }\n        marginTop += 2;\n        $(this.element).find('div.calendar-timeline').css('margin-top', marginTop + 'px');\n        $(this.element).find('div.calendar-timeline').append($('<ul>'));\n\n        var li,\n            ul = $(this.element).find('div.calendar-timeline').find('ul');\n\n        var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n        var month = parseInt(time.format('MM'));\n        var week = parseInt(time.format('w'));\n        while (parseInt(time.format('MM')) == month) {\n            li = $('<li>', {\n                \"class\": 'monthtoweek'\n            });\n            li.append($('<span>')\n                .attr('data-timestamp', time.format('X'))\n                .text(time.format(this.conf.month.weekline.format)).css('margin-top', this.conf.month.weekline.heightPx / 2 + 'px')\n            );\n            li.height(this.conf.month.weekline.heightPx);\n            ul.append(li);\n            while (parseInt(time.format('w')) == week) {\n                time.add(1, 'days');\n            }\n            week = parseInt(time.format('w'));\n        }\n    };\n\n    Calendar.prototype.monthDrawWeekDays = function () {\n        var days = this.getViewDays(),\n            targetUl, li;\n\n        var i = parseInt(moment.unix(days[0]).weekday());\n        var time = moment.unix(days[0]);\n        while (i > 0) {\n            time = time.subtract(1, 'days');\n            targetUl = this.element.find(\".calendar-events>ul>.calendar-month-day-header>div:contains('\" + this.miscUcfirstString(time.format(this.conf.month.dayheader.format)) + \"')\").parent().find('ul');\n            li = $('<li>');\n            li.css('height', this.conf.month.weekline.heightPx + 'px');\n            $(targetUl).append(li);\n            i--;\n        }\n\n        time = days.length;\n        for (i = 0; i < time; i++) {\n            targetUl = this.element.find(\".calendar-events>ul>.calendar-month-day-header>div:contains('\" + this.miscUcfirstString(moment.unix(days[i]).format(this.conf.month.dayheader.format)) + \"')\").parent().find('ul');\n            li = $('<li>', {\n                \"class\": 'calendar-month-events-day'\n            });\n            li.css('height', this.conf.month.weekline.heightPx + 'px');\n            li.attr('data-time-from', moment.unix(days[i]).startOf('day').format('X'));\n            li.attr('data-time-to', moment.unix(days[i]).endOf('day').format('X'));\n            li.append($('<span>').text(moment.unix(days[i]).format(this.conf.month.day.format)));\n            $(targetUl).append(li);\n        }\n\n        this.element.find('.calendar-month-events-day').each(function () {\n            $(this).append($('<ul>'));\n        });\n    };\n\n    Calendar.prototype.drawCategories = function () {\n        this.determineEventsCategories();\n        this.determineDaynotesCategories();\n\n        if (this.conf.categories.enable) {\n            var label,\n                div = $('<div>', {\n                    \"class\": 'calendar-categories'\n                }).css('height', '26px');\n            for (var i = 0; i < this.eventCategoryColor.length; i++) {\n                label = $('<span>', {\n                    \"class\": 'badge badge-default calendar-label'\n                });\n                label.css('margin-right', '5px');\n                label.css('background-color', this.eventCategoryColor[i].color);\n                label.css('cursor', 'pointer');\n                label.attr('data-color', this.eventCategoryColor[i].color);\n                label.attr('data-clicked', false);\n                label.text(this.eventCategoryColor[i].category);\n                div.append(label);\n            }\n            for (i = 0; i < this.daynoteCategoryColor.length; i++) {\n                label = $('<span>', {\n                    \"class\": 'badge badge-default calendar-label calendar-label-daynote'\n                });\n                label.css('margin-right', '5px');\n                label.css('background-color', this.daynoteCategoryColor[i].color);\n                label.css('cursor', 'pointer');\n                label.attr('data-color', this.daynoteCategoryColor[i].color);\n                label.attr('data-clicked', false);\n                label.text(this.daynoteCategoryColor[i].category);\n                div.append(label);\n            }\n            this.element.prepend(div);\n            this.hoverCategory();\n            this.clickCategory();\n        }\n    };\n\n    Calendar.prototype.hoverCategory = function () {\n        var setTimeoutConst, elem,\n            self = this;\n        this.element.find('.calendar-label').hover(\n            function () {\n                elem = $(this);\n                setTimeoutConst = setTimeout(function () {\n                    if (elem.hasClass('calendar-label-daynote')) {\n                        $(self.element).trigger('Calendar.category-daynote-mouseenter', [\n                            self,\n                            elem\n                        ]);\n                    } else {\n                        $(self.element).trigger('Calendar.category-event-mouseenter', [\n                            self,\n                            elem\n                        ]);\n                    }\n                }, self.conf.categories.hover.delay);\n            },\n            function () {\n                clearTimeout(setTimeoutConst);\n                elem = $(this);\n                if (elem.hasClass('calendar-label-daynote')) {\n                    $(self.element).trigger('Calendar.category-daynote-mouseleave', [\n                        self,\n                        elem\n                    ]);\n                } else {\n                    $(self.element).trigger('Calendar.category-event-mouseleave', [\n                        self,\n                        elem\n                    ]);\n                }\n            }\n        );\n    };\n\n    Calendar.prototype.clickCategory = function () {\n        var elem,\n            self = this;\n        this.element.find('.calendar-label').click(function (event) {\n            if ($(event.target).hasClass('calendar-label-daynote')) {\n                $(self.element).trigger('Calendar.category-daynote-click', [\n                    self,\n                    elem\n                ]);\n            } else {\n                $(self.element).trigger('Calendar.category-event-click', [\n                    self,\n                    elem\n                ]);\n            }\n        });\n    };\n\n    Calendar.prototype.positionEvents = function () {\n        switch (this.getView()) {\n            case 'day':\n            case 'week':\n                this.positionEventsInWeek();\n                break;\n\n            case 'month':\n                this.positionEventsInMonth();\n                break;\n        }\n    };\n\n    Calendar.prototype.positionEventsInWeek = function () {\n        var self = this;\n        var zeroLast = 0;\n        this.element.find('.calendar-event').each(function (i) {\n            // Place each event in the grid -> need to set top position and height\n            var start = parseInt($(this).attr('data-start'));\n            var end = parseInt($(this).attr('data-end'));\n            var duration = end - start;\n            var zero = parseInt($(this).closest('li.calendar-events-day').attr('data-time')) + (self.conf.weekday.timeline.fromHour * 60 * 60);\n            if (zero > zeroLast) {\n                zeroLast = zero;\n            }\n            var eventTop = ((start - zero) / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) - 1;\n            var eventHeight = (duration / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) + 1;\n\n            var endsOnCurrent = 0;\n            var nbEventNotOnCurrent = false;\n            var nbEventOnCurrent = 0;\n            var tmp = [];\n            var currentElement = $(this);\n            $(this).closest('ul').find('li.calendar-event').each(function (j, e) {\n                if ($(e)[0] != currentElement[0]) {\n                    if (parseInt(currentElement.attr('data-start')) < parseInt($(e).attr('data-end')) && parseInt(currentElement.attr('data-end')) > parseInt($(e).attr('data-start'))) {\n                        tmp.push($(e));\n                        nbEventOnCurrent++;\n                    }\n                    if (parseInt(currentElement.attr('data-start')) < parseInt($(e).attr('data-end')) && parseInt(currentElement.attr('data-end')) > parseInt($(e).attr('data-end'))) {\n                        endsOnCurrent++;\n                    } else if (parseInt(currentElement.attr('data-start')) == parseInt($(e).attr('data-start')) && parseInt($(e).attr('data-index')) < parseInt(currentElement.attr('data-index'))) {\n                        endsOnCurrent++;\n                    }\n                }\n            });\n\n            var dates = [];\n            dates.push(parseInt(currentElement.attr('data-start')));\n            dates.push(parseInt(currentElement.attr('data-end')));\n\n            for (var i = 0; i < tmp.length; i++) {\n                if (parseInt(tmp[i].attr('data-start')) >= parseInt(currentElement.attr('data-start')) && parseInt(tmp[i].attr('data-start')) <= parseInt(currentElement.attr('data-end'))) {\n                    dates.push(parseInt(tmp[i].attr('data-start')));\n                }\n                if (parseInt(tmp[i].attr('data-end')) >= parseInt(currentElement.attr('data-start')) && parseInt(tmp[i].attr('data-end')) <= parseInt(currentElement.attr('data-end'))) {\n                    dates.push(parseInt(tmp[i].attr('data-end')));\n                }\n            }\n\n            dates = self.miscUniqueArray(dates);\n            dates.sort(function (a, b) {\n                return (a > b) ? 1 : -1;\n            });\n\n            for (var i = 0; i < dates.length; i++) {\n                var enMemeTemps = 0;\n                for (var j = 0; j < tmp.length; j++) {\n                    if (dates[i] > parseInt(tmp[j].attr('data-start')) && dates[i] <= parseInt(tmp[j].attr('data-end'))) {\n                        enMemeTemps++;\n                    }\n                }\n                if ((enMemeTemps > 0 && enMemeTemps > nbEventNotOnCurrent) || nbEventNotOnCurrent === false) {\n                    nbEventNotOnCurrent = enMemeTemps;\n                }\n            }\n\n            currentElement.attr('data-events', nbEventNotOnCurrent + 1);\n            currentElement.attr('data-divider', nbEventNotOnCurrent + 1);\n\n            i = tmp.length;\n            while (i--) {\n                if (parseInt(tmp[i].attr('data-divider')) > parseInt(currentElement.attr('data-divider'))) {\n                    currentElement.attr('data-divider', tmp[i].attr('data-divider'));\n                }\n            }\n\n            var positions = [];\n            for (i = 0; i < parseInt(currentElement.attr('data-divider')); i++) {\n                positions[i] = false;\n                for (var j = 0; j < tmp.length; j++) {\n                    for (var k = 0; k < String(tmp[j].attr('data-positions')).split(',').length; k++) {\n                        var position = String(tmp[j].attr('data-positions')).split(',')[k];\n                        if (position == i) {\n                            positions[i] = true;\n                        }\n                    }\n                }\n            }\n\n            currentElement.attr('data-positions', -1);\n\n            i = 0;\n            while (parseInt(currentElement.attr('data-positions')) == -1) {\n                if (positions[i] === false) {\n                    currentElement.attr('data-positions', i);\n                    if (parseInt(currentElement.attr('data-divider')) - parseInt(currentElement.attr('data-events')) + 1 > 1) {\n                        while (positions[i + 1] === false) {\n                            currentElement.attr('data-positions', currentElement.attr('data-positions') + ',' + (i + 1));\n                            i++;\n                        }\n                    }\n                }\n                i++;\n            }\n            if (self.conf.rooms !== false) {\n                var eventLeft = (String(currentElement.attr('data-positions')).split(',')[0] / self.conf.rooms) * 100;\n                var eventWidth = 100 / self.conf.rooms;\n            } else {\n                var eventWidth = 100 / (parseInt(currentElement.attr('data-divider')) / String(currentElement.attr('data-positions')).split(',').length);\n                var eventLeft = (String(currentElement.attr('data-positions')).split(',')[0] / parseInt(currentElement.attr('data-divider'))) * 100;\n            }\n            console.log('###rooms:' + self.conf.rooms);\n            self.setEventPosition(this, eventTop, eventHeight, eventLeft, eventWidth);\n        });\n    };\n\n    Calendar.prototype.positionEventsInMonth = function () {\n        var self = this;\n        this.element.find('li.calendar-month-events-day').each(function () {\n            var n = $(this).find('.calendar-event').length;\n            $(this).find('.calendar-event').each(function (i) {\n\n                var eventTop = (parseInt($(this).closest('.calendar-month-events-day').index()) * self.conf.month.weekline.heightPx) + 20 - 1;\n                var eventHeight = self.conf.month.weekline.heightPx - 21 + 1;\n                var eventWidth = 100 / n;\n                var eventLeft = (100 / n) * i;\n\n                self.setEventPosition(this, eventTop, eventHeight, eventLeft, eventWidth);\n            });\n        });\n    };\n\n    Calendar.prototype.setEventPosition = function (elem, eventTop, eventHeight, eventLeft, eventWidth) {\n        $(elem).attr('data-top', eventTop);\n        $(elem).attr('data-height', eventHeight);\n        $(elem).attr('data-left', eventLeft);\n        $(elem).attr('data-width', eventWidth);\n\n        $(elem).css({\n            top: (eventTop) + 'px',\n            height: (eventHeight) + 'px',\n            left: eventLeft + '%',\n            width: eventWidth + '%'\n        });\n    };\n\n    Calendar.prototype.weekDrawEvents = function () {\n        var e, i, day, fromHour, toHour, interval,\n            n = this.events.length;\n        for (i = 0; i < n; i++) {\n            e = this.events[i];\n            day = false;\n            fromHour = this.conf.weekday.timeline.fromHour;\n            toHour = this.conf.weekday.timeline.toHour;\n            interval = this.conf.weekday.timeline.intervalMinutes;\n            $(this.element).find('.calendar-events-day').each(function (i, d) {\n                if (e.start >= (parseInt($(d).attr('data-time')) + fromHour * 60 * 60) && e.end <= (parseInt($(d).attr('data-time')) + toHour * 60 * 60) + ((60 / interval) * interval * 60)) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.start).format('X'),\n                    moment.unix(e.end).format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getEventCategoryColor(e.category),\n                    moment.unix(e.start).format(this.conf.weekday.timeline.format) + ' - ' + moment.unix(e.end).format(this.conf.weekday.timeline.format),\n                    ['calendar-event']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.weekDrawDaynotes = function () {\n        var i, e, day,\n            n = this.daynotes.length;\n        for (i = 0; i < n; i++) {\n            e = this.daynotes[i];\n            day = false;\n            $(this.element).find('.calendar-events-day').each(function (m, d) {\n                if (parseInt(moment.unix(e.time).startOf('day').format('X')) == parseInt($(d).attr('data-time'))) {\n                    day = d;\n                }\n            });\n\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                var color = this.getDaynoteCategoryColor(e.category);\n                var from = this.conf.weekday.timeline.fromHour;\n                var toHour = this.conf.weekday.timeline.toHour + parseInt(this.conf.weekday.timeline.intervalMinutes / 60);\n                var toMin = ((this.conf.weekday.timeline.intervalMinutes / 60) - parseInt(this.conf.weekday.timeline.intervalMinutes / 60)) * 60;\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.time).startOf('day').add(from, 'h').format('X'),\n                    moment.unix(e.time).startOf('day').add(toHour, 'h').add(toMin, 'm').format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getDaynoteCategoryColor(e.category),\n                    '',\n                    ['calendar-event', 'calendar-daynote']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.drawEventsOrDaynotes = function (e, index, start, end, title, content, category, notconfirmed, notmyevent, color, time_interval, classes) {\n\n\n        var li = $('<li>'),\n            i = classes.length;\n        while (i--) {\n            li.addClass(classes[i]);\n        }\n        li.attr('data-index', index);\n        li.attr('data-start', start);\n        li.attr('data-end', end);\n        li.attr('data-title', title);\n        li.attr('data-content', content);\n        li.attr('data-category', category);\n        li.attr('data-notconfirmed', notconfirmed);\n        li.attr('data-notmyevent', notmyevent);\n        li.attr('data-color', color);\n        li.css('background', color);\n        if (notmyevent === '1') {\n            li.css('border', '5px solid '+this.conf.colors.border2);\n        }\n        if (notconfirmed === '1') {\n            li.css('border', '5px solid '+this.conf.colors.border1);\n        }\n        a = $('<a>', {\n            href: '#'\n        });\n        a.append($('<em>', {\n            \"class\": 'event-name'\n        }).text(title));\n        a.append($('<em>', {\n            \"class\": 'event-content invisible'\n        }));\n\n        a.find('.event-content').append($('<b>', {\n            \"class\": 'event-date'\n        }).html(time_interval));\n        a.find('.event-content').append($('<br>'));\n        a.find('.event-content').append(content);\n\n        li.append(a);\n        $(e).find('ul').append(li);\n    };\n\n    Calendar.prototype.monthDrawEvents = function () {\n        var i, e, day,\n            n = this.events.length;\n        for (i = 0; i < n; i++) {\n            e = this.events[i];\n            day = false;\n            $(this.element).find('.calendar-month-events-day').each(function (m, d) {\n                if (e.start >= (parseInt($(d).attr('data-time-from'))) && e.end <= (parseInt($(d).attr('data-time-to')))) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.start).format('X'),\n                    moment.unix(e.end).format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getEventCategoryColor(e.category),\n                    moment.unix(e.start).format(this.conf.month.day.format) + ' : ' + moment.unix(e.start).format(this.conf.weekday.timeline.format) + ' - ' + moment.unix(e.end).format(this.conf.weekday.timeline.format),\n                    ['calendar-event']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.monthDrawDaynotes = function () {\n        var i, e, day,\n            n = this.daynotes.length;\n        for (i = 0; i < n; i++) {\n            e = this.daynotes[i];\n            day = false;\n            $(this.element).find('.calendar-month-events-day').each(function (m, d) {\n                if (e.time >= (parseInt($(d).attr('data-time-from'))) && e.time <= (parseInt($(d).attr('data-time-to')))) {\n                    day = d;\n                }\n            });\n            if (day === false) {\n                // Console.warn('Event '+i+' out of current view');\n            } else {\n                this.drawEventsOrDaynotes(\n                    day,\n                    i,\n                    moment.unix(e.time).startOf('day').format('X'),\n                    moment.unix(e.time).endOf('day').format('X'),\n                    e.title,\n                    e.content,\n                    e.category,\n                    e.notconfirmed,\n                    e.notmyevent,\n                    this.getDaynoteCategoryColor(e.category),\n                    moment.unix(e.time).format(this.conf.month.day.format),\n                    ['calendar-event', 'calendar-daynote']\n                );\n            }\n        }\n    };\n\n    Calendar.prototype.drawModal = function () {\n        modal = '<div class=\"modal fade\" id=\"calendar-modal\" tabindex=\"-1\" role=\"dialog\">';\n        modal += '<div class=\"modal-dialog\" role=\"document\">';\n        modal += '<div class=\"modal-content\">';\n        modal += '<div class=\"modal-header\">';\n        modal += '<h3 class=\"modal-title\"></h3>';\n        modal += '<button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\"><span aria-hidden=\"true\">&times;</span></button>';\n        modal += '</div>';\n        modal += '<div class=\"modal-body\">';\n        modal += '</div>';\n        modal += '</div>';\n        modal += '</div>';\n        modal += '</div>';\n        $(this.element).append(modal);\n    };\n\n    Calendar.prototype.drawNow = function () {\n        if (this.conf.now.enable) {\n            var hr = $('<hr>', {\n                \"class\": 'featurette-divider calendar-now'\n            });\n            hr.css('width', '100%');\n            hr.css('position', 'absolute');\n            hr.css('z-index', 3);\n            hr.css('border-top', this.conf.now.heightPx + 'px ' + this.conf.now.style + ' ' + this.conf.now.color);\n            var top = ((moment().format('X') - moment().startOf('day').add(this.conf.weekday.timeline.fromHour, 'h').format('X')) / 60 / this.conf.weekday.timeline.intervalMinutes * this.conf.weekday.timeline.heightPx) - (this.conf.weekday.timeline.heightPx / 2);\n            hr.css('top', top + 'px');\n            this.element.find('li.calendar-events-day[data-time=\"' + moment().startOf('day').format('X') + '\"]').find('ul').append(hr);\n            if (this.conf.now.refresh) {\n                var self = this;\n                setInterval(function () {\n                    var hr = self.element.find('hr.calendar-now').remove();\n                    var hr = $('<hr>', {\n                        \"class\": 'featurette-divider calendar-now'\n                    });\n                    hr.css('width', '100%');\n                    hr.css('position', 'absolute');\n                    hr.css('z-index', 2);\n                    hr.css('border-top', self.conf.now.heightPx + 'px ' + self.conf.now.style + ' ' + self.conf.now.color);\n                    var top = ((moment().format('X') - moment().startOf('day').add(self.conf.weekday.timeline.fromHour, 'h').format('X')) / 60 / self.conf.weekday.timeline.intervalMinutes * self.conf.weekday.timeline.heightPx) - (self.conf.weekday.timeline.heightPx / 2);\n                    hr.css('top', top + 'px');\n                    self.element.find('li.calendar-events-day[data-time=\"' + moment().startOf('day').format('X') + '\"]').find('ul').append(hr);\n                }, 10000);\n            }\n        }\n    };\n\n    Calendar.prototype.hoverEventOrDaynote = function () {\n        var self = this;\n        this.element.find('.calendar-event').each(function () {\n            var setTimeoutConst;\n            $(this).hover(\n                function () {\n                    elem = $(this);\n                    setTimeoutConst = setTimeout(function () {\n                        if (elem.hasClass('calendar-daynote')) {\n                            $(self.element).trigger('Calendar.daynote-mouseenter', [\n                                self,\n                                elem\n                            ]);\n                        } else {\n                            $(self.element).trigger('Calendar.event-mouseenter', [\n                                self,\n                                elem\n                            ]);\n                        }\n\n                    }, self.conf.event.hover.delay);\n                },\n                function () {\n                    clearTimeout(setTimeoutConst);\n                    elem = $(this);\n                    if (elem.hasClass('calendar-daynote')) {\n                        $(self.element).trigger('Calendar.daynote-mouseleave', [\n                            self,\n                            elem\n                        ]);\n                    } else {\n                        $(self.element).trigger('Calendar.event-mouseleave', [\n                            self,\n                            elem\n                        ]);\n                    }\n\n                }\n            );\n        });\n    };\n\n    Calendar.prototype.clickEventOrDaynote = function () {\n        var self = this;\n        this.element.find('.calendar-event').each(function () {\n            $(this).click(function (event) {\n                event.preventDefault();\n                event.stopPropagation();\n                elem = $(event.target);\n                if (elem.prop('nodeName') !== 'LI' && !elem.hasClass('calendar-event')) {\n                    elem = elem.closest('li.calendar-event');\n                }\n                if (elem.hasClass('calendar-daynote')) {\n                    $(self.element).trigger('Calendar.daynote-click', [\n                        self,\n                        elem,\n                        self.daynotes[parseInt(elem.attr('data-index'))]\n                    ]);\n                } else {\n                    $(self.element).trigger('Calendar.event-click', [\n                        self,\n                        elem,\n                        self.events[parseInt(elem.attr('data-index'))]\n                    ]);\n                }\n            });\n        });\n    };\n\n    Calendar.prototype.resizeTimeline = function () {\n        var j = this.events.length;\n        while (j--) {\n            if (parseInt(moment.unix(this.events[j].start).format('HH')) < this.conf.weekday.timeline.fromHour) {\n                this.conf.weekday.timeline.fromHour = parseInt(moment.unix(this.events[j].start).format('HH'));\n            }\n            if (parseInt(this.events[j].end) > parseInt(moment.unix(this.events[j].end).startOf('day').add(this.conf.weekday.timeline.toHour, 'hour').format('X'))) {\n                this.conf.weekday.timeline.toHour = parseInt(moment.unix(this.events[j].end).hour());\n                if (this.conf.weekday.timeline.toHour < 23) {\n                    this.conf.weekday.timeline.toHour++;\n                }\n            }\n        }\n    };\n\n    Calendar.prototype.getViewDays = function () {\n        var days = [];\n        if (this.getView() == 'day') {\n            days.push(parseInt(moment.unix(this.conf.unixTimestamp).format('X')));\n        }\n        if (this.getView() == 'week') {\n            for (var i = 0; i < this.conf.weekday.dayline.weekdays.length; i++) {\n                days.push(parseInt(moment.unix(this.conf.unixTimestamp).startOf('week').add(this.conf.weekday.dayline.weekdays[i], 'days').format('X')));\n            }\n        }\n        if (this.getView() == 'month') {\n            var nbDaysInMonth = moment.unix(this.conf.unixTimestamp).daysInMonth();\n            var time = moment.unix(this.conf.unixTimestamp).startOf('month');\n            for (var i = 0; i < nbDaysInMonth; i++) {\n                days.push(parseInt(time.startOf('day').format('X')));\n                time.add(1, 'days');\n            }\n        }\n        return days;\n    };\n\n    Calendar.prototype.addBtnLeftRight = function () {\n        var self = this;\n        this.element.find('.btn-move-calendar').click(function (event) {\n            var elem = $(event.target);\n            if (elem.prop('nodeName') !== 'BUTTON') {\n                elem = elem.closest('.btn-move-calendar');\n            }\n            self.moveCurrentIntervalView($(elem).attr('data-direction'));\n        });\n    };\n\n    Calendar.prototype.addSwipe = function () {\n        var self = this;\n        self.element.find('.calendar-events').swipe({\n            swipe: function (event, direction) {\n                if (direction == 'left' || direction == 'right') {\n                    // Le swipe est à l'envers\n                    if (direction == 'left') {\n                        direction = 'right';\n                    } else if (direction == 'right') {\n                        direction = 'left';\n                    }\n                    self.moveCurrentIntervalView(direction);\n                }\n            },\n            threshold: 100,\n            allowPageScroll: 'auto'\n        });\n    };\n\n    Calendar.prototype.clickSwitchView = function () {\n        var self = this;\n        // Monthtoweek\n        $(this.element).find('.monthtoweek').click(function () {\n            self.setTimestamp(parseInt($(this).find('span').attr('data-timestamp')));\n            self.setView('week');\n            self.init();\n        });\n        // Weektomonth\n        $(this.element).find('.weektomonth').click(function () {\n            self.setView('month');\n            self.init();\n        });\n        // Daytoweek\n        $(this.element).find('.daytoweek').click(function () {\n            self.setView('week');\n            self.init();\n        });\n        // Weektoday\n        $(this.element).find('.weektoday').click(function () {\n            self.setTimestamp($(this).closest('.calendar-events-day').attr('data-time'));\n            self.setView('day');\n            self.init();\n        });\n    };\n\n    Calendar.prototype.keyboardSwitchView = function () {\n        if (!this.conf.enableKeyboard) {\n            return;\n        }\n        var self = this;\n        $(window).unbind('keydown').on('keydown', function (x) {\n            // Ctrl + left\n            if (x.keyCode == 37 && x.ctrlKey) {\n                self.moveCurrentIntervalView('left');\n            }\n            // Ctrl + right\n            if (x.keyCode == 39 && x.ctrlKey) {\n                self.moveCurrentIntervalView('right');\n            }\n            // Ctrl + up\n            if (x.keyCode == 38 && x.ctrlKey) {\n                if (self.getView() == 'week') {\n                    self.setView('month');\n                    self.init();\n                }\n                if (self.getView() == 'day') {\n                    self.setView('week');\n                    self.init();\n                }\n            }\n            // Ctrl + down\n            if (x.keyCode == 40 && x.ctrlKey) {\n                if (self.getView() == 'week') {\n                    self.setView('day');\n                    self.init();\n                }\n                if (self.getView() == 'month') {\n                    self.setView('week');\n                    self.init();\n                }\n            }\n        });\n    };\n\n    Calendar.prototype.moveCurrentIntervalView = function (direction) {\n        var word,\n            self = this;\n        if (this.getView() == 'day') {\n            word = 'days';\n        }\n        if (this.getView() == 'week') {\n            word = 'week';\n        }\n        if (this.getView() == 'month') {\n            word = 'month';\n        }\n        if (direction == 'left') {\n            this.conf.unixTimestamp = parseInt(moment.unix(self.conf.unixTimestamp).subtract(1, word).format('X'));\n        }\n        if (direction == 'right') {\n            this.conf.unixTimestamp = parseInt(moment.unix(self.conf.unixTimestamp).add(1, word).format('X'));\n        }\n        this.init();\n    };\n\n    Calendar.prototype.mobileQuery = function () {\n        return $(window).width() < this.conf.defaultView.smallScreenThreshold ? 'mobile' : 'desktop';\n    };\n\n    Calendar.prototype.hexToRgb = function (hex) {\n        var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n        hex = hex.replace(shorthandRegex, function (m, r, g, b) {\n            return r + r + g + g + b + b;\n        });\n        var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n        return result ? {\n            r: parseInt(result[1], 16),\n            g: parseInt(result[2], 16),\n            b: parseInt(result[3], 16)\n        } : null;\n    };\n\n    Calendar.prototype.calculateCurrentInterval = function () {\n        var days = this.getViewDays();\n        this.fromTimestamp = parseInt(moment.unix(days[0]).startOf('day').format('X'));\n        this.toTimestamp = parseInt(moment.unix(days[days.length - 1]).endOf('day').format('X'));\n    };\n\n    Calendar.prototype.getCategories = function (object, attribute1, attribute2) {\n        var categories = [],\n            e,\n            n = object.length,\n            fromTimeStamp = parseInt(this.fromTimestamp),\n            toTimeStamp = parseInt(this.toTimestamp);\n\n        for (var i = 0; i < n; i++) {\n            e = object[i];\n            if (parseInt(e[attribute1]) >= fromTimeStamp && parseInt(e[attribute2]) <= toTimeStamp) {\n                categories.push(e.category);\n            }\n        }\n        return this.miscUniqueArray(categories);\n    };\n\n    Calendar.prototype.getCategoryColor = function (category, object, colors, color) {\n        console.log('###category:' + category);\n        console.log('###object:' + JSON.stringify(object, null, 4));\n        console.log('###colors:' + colors);\n        console.log('###color:' + color);\n        var roomcolors = JSON.parse($(\"#calendar-roomcategories\").attr(\"data-calendar-roomcolors\"));\n        console.log('###COLORS:' + JSON.stringify(roomcolors, null, 4));\n\n        var used, j,\n            i = roomcolors.length;\n        while (i--) {\n            if (roomcolors[i].category == category) {\n                object.unshift({\n                    category: category,\n                    color: roomcolors[i].color\n                });\n                return roomcolors[i].color;\n            }\n        }\n// var i = object.length;\n//     while (i--) {\n//       if (object[i].category == category) {\n//         return object[i].color;\n//       }\n//     }\n\n        for (i = 0; i < colors.length; i++) {\n            used = false;\n            j = object.length;\n            while (j--) {\n                if (object[j].color == colors[i]) {\n                    used = true;\n                }\n            }\n            if (!used) {\n                object.push({\n                    category: category,\n                    color: colors[i]\n                });\n                return colors[i];\n            }\n        }\n        return color;\n    };\n\n    Calendar.prototype.getEventsCategories = function () {\n        return this.getCategories(this.events, 'start', 'end');\n    };\n\n    Calendar.prototype.determineEventsCategories = function () {\n        var categories = this.getEventsCategories();\n        this.eventCategoryColor = (this.userEventCategoryColor.length > 0) ? this.userEventCategoryColor : [];\n        var i = categories.length;\n        while (i--) {\n            this.getEventCategoryColor(categories[i]);\n        }\n    };\n\n    Calendar.prototype.getEventCategoryColor = function (category) {\n        return this.getCategoryColor(category, this.eventCategoryColor, this.conf.colors.events, '#000000');\n    };\n\n    Calendar.prototype.getEventCategoriesColors = function () {\n        return this.eventCategoryColor;\n    };\n\n    Calendar.prototype.setEventCategoriesColors = function (categoriesColors) {\n        this.userEventCategoryColor = categoriesColors;\n    };\n\n    Calendar.prototype.getDaynotesCategories = function () {\n        return this.getCategories(this.daynotes, 'time', 'time');\n    };\n\n    Calendar.prototype.determineDaynotesCategories = function () {\n        var categories = this.getDaynotesCategories();\n        this.daynoteCategoryColor = (this.userDaynoteCategoryColor.length > 0) ? this.userDaynoteCategoryColor : [];\n        var i = categories.length;\n        while (i--) {\n            this.getDaynoteCategoryColor(categories[i]);\n        }\n    };\n\n    Calendar.prototype.getDaynoteCategoryColor = function (category) {\n        return this.getCategoryColor(category, this.daynoteCategoryColor, this.conf.colors.daynotes, '#FEFEFE');\n    };\n\n    Calendar.prototype.getDaynoteCategoriesColors = function () {\n        return this.daynoteCategoryColor;\n    };\n\n    Calendar.prototype.setDaynoteCategoriesColors = function (categoriesColors) {\n        this.userDaynoteCategoryColor = categoriesColors;\n    };\n\n    Calendar.prototype.getEventColors = function () {\n        return this.conf.colors.events;\n    };\n\n    Calendar.prototype.setEventColors = function (array) {\n        this.conf.colors.events = this.miscDedupeArray(array);\n        if (this.conf.colors.random) {\n            this.conf.colors.events.sort(function () {\n                return 0.5 - Math.random();\n            });\n        }\n    };\n\n    Calendar.prototype.getDaynoteColors = function () {\n        return this.conf.colors.daynotes;\n    };\n\n    Calendar.prototype.setDaynoteColors = function (array) {\n        this.conf.colors.daynotes = this.miscDedupeArray(array);\n        if (this.conf.colors.random) {\n            this.conf.colors.daynotes.sort(function () {\n                return 0.5 - Math.random();\n            });\n        }\n    };\n\n    Calendar.prototype.getEvents = function () {\n        return this.events;\n    };\n\n    Calendar.prototype.setEvents = function (events) {\n        this.events = (events) ? events : [];\n        this.events.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.addEvents = function (events) {\n        this.events = this.events.concat(events);\n        this.events.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.getDaynotes = function () {\n        return this.daynotes;\n    };\n\n    Calendar.prototype.setDaynotes = function (daynotes) {\n        this.daynotes = (daynotes) ? daynotes : [];\n        this.daynotes.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.addDaynotes = function (daynotes) {\n        this.daynotes = this.daynotes.concat(daynotes);\n        this.daynotes.sort(function (a, b) {\n            return (a.start > b.start) ? 1 : -1;\n        });\n    };\n\n    Calendar.prototype.getInitTime = function () {\n        return this.initTime;\n    };\n\n    Calendar.prototype.getViewInterval = function () {\n        return [this.fromTimestamp, this.toTimestamp];\n    };\n\n    Calendar.prototype.getNextViewInterval = function () {\n        var add = {'day': 'd', 'week': 'w', 'month': 'M'};\n        add = add[this.getView()];\n        return [\n            parseInt(moment.unix(this.fromTimestamp).add(1, add).format('X')),\n            parseInt(moment.unix(this.toTimestamp).add(1, add).format('X'))\n        ];\n\n    };\n\n    Calendar.prototype.getPrevViewInterval = function () {\n        var sub = {'day': 'd', 'week': 'w', 'month': 'M'};\n        sub = sub[this.getView()];\n        return [\n            parseInt(moment.unix(this.fromTimestamp).subtract(1, sub).format('X')),\n            parseInt(moment.unix(this.toTimestamp).subtract(1, sub).format('X'))\n        ];\n    };\n\n    Calendar.prototype.getTimestamp = function () {\n        return this.conf.unixTimestamp;\n    };\n\n    Calendar.prototype.setTimestamp = function (timestamp) {\n        this.conf.unixTimestamp = parseInt(timestamp);\n    };\n\n    Calendar.prototype.getView = function () {\n        return this.conf.view;\n    };\n\n    Calendar.prototype.setView = function (view) {\n        if (view == 'day' || view == 'week' || view == 'month') {\n            this.conf.view = view;\n        }\n    };\n\n    Calendar.prototype.miscDedupeArray = function (a) {\n        a = a.concat();\n        for (var i = 0; i < a.length; ++i) {\n            for (var j = i + 1; j < a.length; ++j) {\n                if (a[i] === a[j]) {\n                    a.splice(j--, 1);\n                }\n            }\n        }\n        return a;\n    };\n\n    Calendar.prototype.miscUniqueArray = function (a) {\n        a = a.concat();\n        for (var i = 0; i < a.length; ++i) {\n            for (var j = i + 1; j < a.length; ++j) {\n                if (a[i] === a[j]) {\n                    a.splice(j--, 1);\n                }\n            }\n        }\n        return a;\n    };\n\n    Calendar.prototype.miscUcfirstString = function (s) {\n        return s.charAt(0).toUpperCase() + s.slice(1);\n    };\n\n    var objSchedulesPlan = [];\n\n    // Initialization\n    jQuery.extend(jQuery.fn, {\n        Calendar: function (objArgs) {\n            var c = new Calendar($(this), (objArgs === undefined) ? {} : objArgs);\n            objSchedulesPlan.push(c);\n            return c;\n        }\n    });\n\n    // Reinitialization on screen rotation\n    var resizeListener1;\n    var pause1 = 500;\n    window.addEventListener(\"orientationchange\", function () {\n        clearTimeout(resizeListener1);\n        resizeListener1 = setTimeout(function () {\n            objSchedulesPlan.forEach(function (obj) {\n                obj.init();\n            });\n        }, pause1);\n    });\n\n    // Reinitialization on screen resize if not mobile\n    var resizeListener2;\n    var pause2 = 500;\n    window.addEventListener(\"resize\", function () {\n        clearTimeout(resizeListener2);\n        resizeListener2 = setTimeout(function () {\n            objSchedulesPlan.forEach(function (obj) {\n                if (obj.mobileQuery() == 'desktop') {\n                    obj.init();\n                }\n            });\n        }, pause2);\n    });\n\n});\n"],"names":["jQuery","document","ready","$","Calendar","element","Args","moment","eventColors","daynoteColors","conf","locale","view","rooms","enableKeyboard","defaultView","largeScreen","smallScreen","smallScreenThreshold","weekday","timeline","fromHour","toHour","intervalMinutes","format","heightPx","autoResize","undefined","dayline","weekdays","month","weekFormat","weekline","dayheader","day","unixTimestamp","event","hover","delay","colors","events","daynotes","random","border1","border2","categories","enable","now","refresh","style","color","this","setEventColors","setDaynoteColors","eventCategoryColor","daynoteCategoryColor","userEventCategoryColor","userDaynoteCategoryColor","setEvents","setDaynotes","mobileQuery","setView","initTime","console","error","prototype","init","millis","Date","addClass","calculateCurrentInterval","trigger","getPrevViewInterval","getViewInterval","getNextViewInterval","html","hasClass","getView","resizeTimeline","drawCategories","weekDrawTime","weekDrawDays","weekDrawDaynotes","weekDrawEvents","monthDrawWeek","monthDrawWeekNumbers","monthDrawWeekDays","monthDrawDaynotes","monthDrawEvents","drawModal","drawNow","positionEvents","hoverEventOrDaynote","clickEventOrDaynote","addBtnLeftRight","addSwipe","clickSwitchView","keyboardSwitchView","defaultEvents","removeClass","binded","eventMouseenterDefault","self","elem","isDefaultPrevented","parseInt","css","closest","height","animate","top","width","left","find","off","on","eventMouseleaveDefault","parseFloat","attr","eventClickDefault","evt","modal","rgb","hexToRgb","r","g","b","append","text","e","target","eventCategoryClickDefault","opacity","eventCategoryMouseenterDefault","each","i","eventCategoryMouseleaveDefault","marginTop","$categoryBar","li","ul","time","startOf","add","limit","div","miscUcfirstString","unix","days","getViewDays","length","dayOfWeek","getDay","isWeekend","maxHeight","week","nbWeeks","targetUl","subtract","parent","endOf","determineEventsCategories","determineDaynotesCategories","label","category","prepend","hoverCategory","clickCategory","setTimeoutConst","setTimeout","clearTimeout","click","positionEventsInWeek","positionEventsInMonth","zeroLast","start","duration","zero","eventTop","eventHeight","nbEventNotOnCurrent","tmp","currentElement","j","push","endsOnCurrent","dates","miscUniqueArray","sort","a","enMemeTemps","positions","k","String","split","eventLeft","eventWidth","log","setEventPosition","n","index","interval","d","end","drawEventsOrDaynotes","title","content","notconfirmed","notmyevent","getEventCategoryColor","m","getDaynoteCategoryColor","from","toMin","time_interval","classes","href","hr","setInterval","remove","preventDefault","stopPropagation","prop","hour","nbDaysInMonth","daysInMonth","moveCurrentIntervalView","swipe","direction","threshold","allowPageScroll","setTimestamp","window","unbind","x","keyCode","ctrlKey","word","hex","replace","result","exec","fromTimestamp","toTimestamp","getCategories","object","attribute1","attribute2","fromTimeStamp","toTimeStamp","getCategoryColor","JSON","stringify","roomcolors","parse","used","unshift","getEventsCategories","getEventCategoriesColors","setEventCategoriesColors","categoriesColors","getDaynotesCategories","getDaynoteCategoriesColors","setDaynoteCategoriesColors","getEventColors","array","miscDedupeArray","Math","getDaynoteColors","getEvents","addEvents","concat","getDaynotes","addDaynotes","getInitTime","sub","getTimestamp","timestamp","splice","s","charAt","toUpperCase","slice","resizeListener1","objSchedulesPlan","extend","fn","objArgs","c","resizeListener2","addEventListener","forEach","obj"],"mappings":";;;;;;AAOAA,OAAOC,UAAUC,OAAM,SAAUC,YACpBC,SAASC,QAASC,SAEC,mBAAZC,YAMRC,YAAc,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAIAC,cAAgB,CAChB,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,gBAICC,KAAO,CACRC,OAASL,KAAKK,OAAUL,KAAKK,OAAS,KACtCC,KAAM,OACNC,OAAuB,IAAfP,KAAKO,OAAmBP,KAAKO,MACrCC,gBAAiBR,KAAKQ,gBAAkBR,KAAKQ,eAC7CC,YAAa,CACTC,YAAcV,KAAKS,aAAgBT,KAAKS,YAAYC,YAAgBV,KAAKS,YAAYC,YAAwB,OAC7GC,YAAcX,KAAKS,aAAgBT,KAAKS,YAAYE,YAAgBX,KAAKS,YAAYE,YAAuB,MAC5GC,qBAAuBZ,KAAKS,aAAgBT,KAAKS,YAAYG,qBAAyBZ,KAAKS,YAAYG,qBAA+B,KAE1IC,QAAS,CACLC,SAAU,CACNC,SAAWf,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASC,SAAYf,KAAKa,QAAQC,SAASC,SAAmB,EACjIC,OAAShB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASE,OAAUhB,KAAKa,QAAQC,SAASE,OAAmB,GAC7HC,gBAAkBjB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASG,gBAAmBjB,KAAKa,QAAQC,SAASG,gBAA4B,GACxJC,OAASlB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASI,OAAUlB,KAAKa,QAAQC,SAASI,OAA6B,QACvIC,SAAWnB,KAAKa,SAAYb,KAAKa,QAAQC,UAAad,KAAKa,QAAQC,SAASK,SAAYnB,KAAKa,QAAQC,SAASK,SAAqB,GACnIC,YAAapB,KAAKa,WAAYb,KAAKa,QAAQC,gBAAkDO,IAArCrB,KAAKa,QAAQC,SAASM,YAA4BpB,KAAKa,QAAQC,SAASM,cAEpIE,QAAS,CACLC,SAAWvB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQC,SAAYvB,KAAKa,QAAQS,QAAQC,SAA2D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACzLL,OAASlB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQJ,OAAUlB,KAAKa,QAAQS,QAAQJ,OAAuC,aAC9IC,SAAWnB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQH,UAAYnB,KAAKa,QAAQS,QAAQH,UAAYnB,KAAKa,QAAQS,QAAQH,SAAW,GAAMnB,KAAKa,QAAQS,QAAQH,SAA+B,GACjNK,MAAO,CACHN,OAASlB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQE,OAAUxB,KAAKa,QAAQS,QAAQE,MAAMN,OAAUlB,KAAKa,QAAQS,QAAQE,MAAMN,OAAmD,YACrMC,SAAWnB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQE,OAAUxB,KAAKa,QAAQS,QAAQE,MAAML,SAAYnB,KAAKa,QAAQS,QAAQE,MAAML,SAA0B,GAChLM,WAAazB,KAAKa,SAAYb,KAAKa,QAAQS,SAAYtB,KAAKa,QAAQS,QAAQE,OAAUxB,KAAKa,QAAQS,QAAQE,MAAMC,WAAczB,KAAKa,QAAQS,QAAQE,MAAMC,WAA+B,OAIrMD,MAAO,CACHN,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAMN,OAAUlB,KAAKwB,MAAMN,OAAuB,YAC/EC,SAAWnB,KAAKwB,OAAUxB,KAAKwB,MAAML,UAAanB,KAAKwB,MAAML,SAAW,GAAMnB,KAAKwB,MAAML,SAAqB,GAC9GO,SAAU,CACNR,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAME,UAAa1B,KAAKwB,MAAME,SAASR,OAAUlB,KAAKwB,MAAME,SAASR,OAAqB,IACvHC,SAAWnB,KAAKwB,OAAUxB,KAAKwB,MAAME,UAAa1B,KAAKwB,MAAME,SAASP,SAAYnB,KAAKwB,MAAME,SAASP,SAAqB,IAE/HQ,UAAW,CACPJ,SAAWvB,KAAKwB,OAAUxB,KAAKwB,MAAMG,WAAc3B,KAAKwB,MAAMG,UAAUJ,SAAYvB,KAAKwB,MAAMG,UAAUJ,SAA2D,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,GACvLL,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAMG,WAAc3B,KAAKwB,MAAMG,UAAUT,OAAUlB,KAAKwB,MAAMG,UAAUT,OAA2B,OAChIC,SAAWnB,KAAKwB,OAAUxB,KAAKwB,MAAMG,WAAc3B,KAAKwB,MAAMG,UAAUR,SAAYnB,KAAKwB,MAAMG,UAAUR,SAAqB,IAElIS,IAAK,CACDV,OAASlB,KAAKwB,OAAUxB,KAAKwB,MAAMI,KAAQ5B,KAAKwB,MAAMI,IAAIV,OAAUlB,KAAKwB,MAAMI,IAAIV,OAA6B,UAGxHW,cAAgB7B,KAAK6B,cAAiB7B,KAAK6B,cAAgB5B,SAASiB,OAAO,KAC3EY,MAAO,CACHC,MAAO,CACHC,MAAQhC,KAAK8B,OAAU9B,KAAK8B,MAAMC,OAAU/B,KAAK8B,MAAMC,MAAMC,MAAShC,KAAK8B,MAAMC,MAAMC,MAAoB,MAGnHC,OAAQ,CACJC,OAASlC,KAAKiC,QAAWjC,KAAKiC,OAAOC,OAAUlC,KAAKiC,OAAOC,OAAuBhC,YAClFiC,SAAWnC,KAAKiC,QAAWjC,KAAKiC,OAAOE,SAAYnC,KAAKiC,OAAOE,SAA2BhC,cAC1FiC,QAASpC,KAAKiC,UAAWjC,KAAKiC,OAAOG,QAAUpC,KAAKiC,OAAOG,QAC3DC,QAAUrC,KAAKiC,QAAWjC,KAAKiC,OAAOI,QAAYrC,KAAKiC,OAAOI,QAAuB,UACrFC,QAAUtC,KAAKiC,QAAWjC,KAAKiC,OAAOK,QAAYtC,KAAKiC,OAAOK,QAAuB,WAEzFC,WAAY,CACRC,QAASxC,KAAKuC,kBAA0ClB,IAA3BrB,KAAKuC,WAAWC,QAAwBxC,KAAKuC,WAAWC,QACrFT,MAAO,CACHC,MAAQhC,KAAKuC,YAAevC,KAAKuC,WAAWR,OAAU/B,KAAKuC,WAAWR,MAAMC,MAAShC,KAAKuC,WAAWR,MAAMC,MAAoB,MAGvIS,IAAK,CACDD,SAASxC,KAAKyC,WAA4BpB,IAApBrB,KAAKyC,IAAID,QAAyBxC,KAAKyC,IAAID,QACjEE,UAAU1C,KAAKyC,WAA6BpB,IAArBrB,KAAKyC,IAAIC,SAA0B1C,KAAKyC,IAAIC,SACnEvB,SAAWnB,KAAKyC,KAAQzC,KAAKyC,IAAItB,SAAanB,KAAKyC,IAAItB,SAAgB,EACvEwB,MAAQ3C,KAAKyC,KAAQzC,KAAKyC,IAAIE,MAAU3C,KAAKyC,IAAIE,MAAmB,QACpEC,MAAQ5C,KAAKyC,KAAQzC,KAAKyC,IAAIG,MAAU5C,KAAKyC,IAAIG,MAAqB,YAK9E3C,OAAOI,OAAOwC,KAAKzC,KAAKC,aAGnByC,eAAeD,KAAKzC,KAAK6B,OAAOC,aAChCa,iBAAiBF,KAAKzC,KAAK6B,OAAOE,eAGlCa,mBAAqB,QACrBC,qBAAuB,QAGvBC,uBAAyB,QACzBC,yBAA2B,QAG3BC,UAAWpD,KAAKkC,OAAUlC,KAAKkC,OAAS,SAGxCmB,YAAarD,KAAKmC,SAAYnC,KAAKmC,SAAW,IAGzB,UAAtBU,KAAKS,mBACAC,QAAQV,KAAKzC,KAAKK,YAAYE,kBAE9B4C,QAAQV,KAAKzC,KAAKK,YAAYC,kBAIlCX,QAAUA,aACVyD,UAAW,OA5JZC,QAAQC,MAAM,gCA+JtB5D,SAAS6D,UAAUC,KAAO,eAClBC,OAASC,KAAKrB,WACb1C,QAAQgE,SAAS,gBACjBC,2BACLnE,EAAEgD,KAAK9C,SAASkE,QAAQ,gBAAiB,CACrCpB,KACAA,KAAKqB,sBACLrB,KAAKsB,kBACLtB,KAAKuB,wBAETvE,EAAEgD,KAAK9C,SAASsE,KAAK,IAChBxE,EAAEgD,KAAK9C,SAASuE,SAAS,aAC1BzE,EAAEgD,KAAK9C,SAASgE,SAAS,YAEP,OAAlBlB,KAAK0B,WAAwC,QAAlB1B,KAAK0B,WAC5B1B,KAAKzC,KAAKS,QAAQC,SAASM,iBACtBoD,sBAGRC,iBACiB,OAAlB5B,KAAK0B,WAAwC,QAAlB1B,KAAK0B,iBAC3BG,oBACAC,oBACAC,wBACAC,kBAEa,SAAlBhC,KAAK0B,iBACAO,qBACAC,4BACAC,yBACAC,yBACAC,wBAEJC,iBACAC,eACAC,sBACAC,2BACAC,2BACAC,uBACAC,gBACAC,uBACAC,0BACAC,qBACA7F,QAAQ8F,YAAY,gBACpBrC,SAAYM,KAAKrB,MAAQoB,OAAU,MAG5C/D,SAAS6D,UAAUiC,cAAgB,cACZ,GAAf/C,KAAKiD,YAILC,uBAAyB,SAAUjE,MAAOkE,KAAMC,UAC3CnE,MAAMoE,qBAAsB,IACzBC,SAASF,KAAKG,IAAI,SAAYH,KAAKI,QAAQ,MAAMC,SAAW,EAAKN,KAAK5F,KAAKS,QAAQC,SAASK,SAAU,KAClGA,SAAWgF,SAASF,KAAKG,IAAI,QAAUD,SAASF,KAAKG,IAAI,WAC7DH,KACKG,IAAI,UAAW,IACfG,QAAQ,CACLD,OAAQnF,SACRqF,IAAK,EACLC,MAAO,OACPC,KAAM,GACP,QAEJ,CACCvF,SAAW8E,KAAKI,QAAQ,MAAMC,SAAWH,SAASF,KAAKG,IAAI,QAC/DH,KACKG,IAAI,UAAW,IACfG,QAAQ,CACLD,OAAQnF,SACRsF,MAAO,OACPC,KAAM,GACP,IAGXT,KAAKU,KAAK,eAAed,YAAY,aACrCI,KAAKU,KAAK,kBAAkBd,YAAY,eAGhDhG,EA7BWgD,KA6BJ9C,SAAS6G,IAAI,4BAA6Bb,wBAAwBc,GAAG,4BAA6Bd,wBACzGlG,EA9BWgD,KA8BJ9C,SAAS6G,IAAI,8BAA+Bb,wBAAwBc,GAAG,8BAA+Bd,4BAEzGe,uBAAyB,SAAUhF,MAAOkE,KAAMC,MAC3CnE,MAAMoE,uBACPD,KACKG,IAAI,UAAW,QACfG,QAAQ,CACLD,OAAQS,WAAWd,KAAKe,KAAK,gBAAkB,KAC/CR,IAAKO,WAAWd,KAAKe,KAAK,aAC1BP,MAAOM,WAAWd,KAAKe,KAAK,eAAiB,IAC7CN,KAAMK,WAAWd,KAAKe,KAAK,cAAgB,KAC5C,IAEPf,KAAKU,KAAK,kBAAkB5C,SAAS,eAG7ClE,EA9CWgD,KA8CJ9C,SAAS6G,IAAI,4BAA6BE,wBAAwBD,GAAG,4BAA6BC,wBACzGjH,EA/CWgD,KA+CJ9C,SAAS6G,IAAI,8BAA+BE,wBAAwBD,GAAG,8BAA+BC,4BAEzGG,kBAAoB,SAAUnF,MAAOkE,KAAMC,KAAMiB,SAC5CpF,MAAMoE,qBAAsB,KACzBiB,MAAQtH,EAAEmG,KAAKjG,SAAS4G,KAAK,mBAC7BS,IAAMpB,KAAKqB,SAASpB,KAAKe,KAAK,eAClCG,MAAMf,IAAI,aAAc,QAAUgB,IAAIE,EAAI,KAAOF,IAAIG,EAAI,KAAOH,IAAII,EAAI,UACxEL,MAAMR,KAAK,gBAAgBc,OAAOxB,KAAKe,KAAK,cAAgB,KAC5DG,MAAMR,KAAK,eAAec,OACtB5H,EAAE,QAAQ4H,OACN5H,EAAEgD,MAAMwD,QAAQ,wBAAwBM,KAAK,QAAQtC,QACvDoD,OACE,KACFA,OACE5H,EAAE,WAAW6H,KAAKzB,KAAKU,KAAK,eAAee,UAGnDP,MAAMR,KAAK,eAAec,OAAOxB,KAAKU,KAAK,kBAAkBtC,QAC7D8C,MAAMA,MAAM,QACZA,MAAMN,GAAG,mBAAmB,SAAUc,GAClC9H,EAAE8H,EAAEC,QAAQjB,KAAK,gBAAgBtC,KAAK,IACtCxE,EAAE8H,EAAEC,QAAQjB,KAAK,eAAetC,KAAK,SAIjDxE,EAxEWgD,KAwEJ9C,SAAS6G,IAAI,uBAAwBK,mBAAmBJ,GAAG,uBAAwBI,mBAC1FpH,EAzEWgD,KAyEJ9C,SAAS6G,IAAI,yBAA0BK,mBAAmBJ,GAAG,yBAA0BI,uBAE1FY,0BAA4B,SAAU/F,MAAOkE,KAAMC,UAC9CnE,MAAMoE,qBAAsB,KACzBhE,OAAS8D,KAAKjG,QAAQ4G,KAAK,kCAAoC9G,EAAEoG,MAAMyB,OAAS,MAChD,SAAhC7H,EAAEoG,MAAMe,KAAK,iBACb9E,OAAOqE,QAAQ,CACXuB,QAAS,GACV,KAAK,WACJ5F,OAAOkE,IAAI,UAAW,QACtBvG,EAAEoG,MAAMG,IAAI,mBAAoB,WAChCvG,EAAEoG,MAAMe,KAAK,gBAAgB,MAGD,QAAhCnH,EAAEoG,MAAMe,KAAK,kBACb9E,OAAOkE,IAAI,UAAW,aACtBvG,EAAEoG,MAAMG,IAAI,mBAAoBvG,EAAEoG,MAAMe,KAAK,eAC7C9E,OAAOqE,QAAQ,CACXuB,QAAS,GACV,KAAK,WACJjI,EAAEoG,MAAMe,KAAK,gBAAgB,SAK7CnH,EAlGWgD,KAkGJ9C,SAAS6G,IAAI,gCAAiCiB,2BAA2BhB,GAAG,gCAAiCgB,2BACpHhI,EAnGWgD,KAmGJ9C,SAAS6G,IAAI,kCAAmCiB,2BAA2BhB,GAAG,kCAAmCgB,+BAEpHE,+BAAiC,SAAUjG,MAAOkE,KAAMC,MACnDnE,MAAMoE,sBACPF,KAAKjG,QAAQ4G,KAAK,mBAAmBqB,MAAK,SAAUC,EAAGN,GAC/C9H,EAAE8H,GAAGX,KAAK,kBAAoBf,KAAKyB,QACnC7H,EAAE8H,GAAGvB,IAAI,UAAW,QAKpCvG,EA9GWgD,KA8GJ9C,SAAS6G,IAAI,qCAAsCmB,gCAAgClB,GAAG,qCAAsCkB,gCACnIlI,EA/GWgD,KA+GJ9C,SAAS6G,IAAI,uCAAwCmB,gCAAgClB,GAAG,uCAAwCkB,oCAEnIG,+BAAiC,SAAUpG,MAAOkE,KAAMC,MACnDnE,MAAMoE,sBACPF,KAAKjG,QAAQ4G,KAAK,mBAAmBqB,MAAK,SAAUC,EAAGN,GACnD9H,EAAE8H,GAAGvB,IAAI,UAAW,OAIhCvG,EAxHWgD,KAwHJ9C,SAAS6G,IAAI,qCAAsCsB,gCAAgCrB,GAAG,qCAAsCqB,gCACnIrI,EAzHWgD,KAyHJ9C,SAAS6G,IAAI,uCAAwCsB,gCAAgCrB,GAAG,uCAAwCqB,qCAElIpC,QAAS,IAGlBhG,SAAS6D,UAAUe,aAAe,WAC9B7E,EAAEgD,KAAK9C,SAAS0H,OAAO5H,EAAE,QAAS,OACrB,uBAEbA,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBP,IAAI,cAAevD,KAAKzC,KAAKS,QAAQS,QAAQH,SAAW,UAClGgH,UAAYtF,KAAKzC,KAAKS,QAAQS,QAAQE,MAAML,YAC5C0B,KAAKzC,KAAKmC,WAAWC,OAAQ,KACzB4F,aAAevI,EAAEgD,KAAK9C,SAAS4G,KAAK,2BACxCwB,WAAaC,aAAa9B,SAAWS,WAAWqB,aAAahC,IAAI,kBAErEvG,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBP,IAAI,aAAc+B,UAAY,MAE5EtI,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBc,OAAO5H,EAAE,aAEnDwI,GACAC,GAAKzI,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBA,KAAK,MAExD4B,KAAOtI,OAAOA,UAAUuI,QAAQ,QACpCD,KAAKE,IAAI5F,KAAKzC,KAAKS,QAAQC,SAASC,SAAU,aAE1C2H,OAAoD,IAAzC7F,KAAKzC,KAAKS,QAAQC,SAASE,OAAS,GAAkD,GAAtC6B,KAAKzC,KAAKS,QAAQC,SAASC,UAAkB8B,KAAKzC,KAAKS,QAAQC,SAASG,gBACnIgH,EAAI,EACDA,EAAIS,QACPL,GAAKxI,EAAE,SACJ4H,OAAO5H,EAAE,UAAU6H,KAAKa,KAAKrH,OAAO2B,KAAKzC,KAAKS,QAAQC,SAASI,UAClEmH,GAAG/B,OAAOzD,KAAKzC,KAAKS,QAAQC,SAASK,UACrCmH,GAAGb,OAAOY,IACVE,KAAKE,IAAI5F,KAAKzC,KAAKS,QAAQC,SAASG,gBAAiB,KACrDgH,KAIRnI,SAAS6D,UAAUgB,aAAe,WAC9B9E,EAAEgD,KAAK9C,SAAS0H,OAAO5H,EAAE,QAAS,OACrB,yBAGT8I,IAAM9I,EAAE,QAAS,OACJ,mBAERuG,IAAI,SAAUvD,KAAKzC,KAAKS,QAAQS,QAAQE,MAAML,SAAW,MACzDiF,IAAI,aAAc,UAClBA,IAAI,eAAgBvD,KAAKzC,KAAKS,QAAQS,QAAQE,MAAML,SAAW,IAAM,EAAI,MAE5D,QAAlB0B,KAAK0B,YACLoE,IAAIjB,KAAK7E,KAAK+F,kBAAkB3I,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAeX,OAAO2B,KAAKzC,KAAKS,QAAQS,QAAQE,MAAMN,UAC5GyH,IAAI5E,SAAS,gBAEK,OAAlBlB,KAAK0B,YACLoE,IAAIjB,KAAK7E,KAAK+F,kBAAkB3I,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAeX,OAAO2B,KAAKzC,KAAKS,QAAQS,QAAQE,MAAMC,cAC5GkH,IAAI5E,SAAS,cAEjBlE,EAAEgD,KAAK9C,SAAS4G,KAAK,uBAAuBc,OAAOkB,KAEnD9I,EAAEgD,KAAK9C,SAAS4G,KAAK,uBAAuBc,OAAO5H,EAAE,iBAEjDwI,GACAC,GAAKzI,EAAEgD,KAAK9C,SAAS4G,KAAK,uBAAuBA,KAAK,MAEtDmC,KAAOjG,KAAKkG,cAEPd,EAAI,EAAGA,EAAIa,KAAKE,OAAQf,IAAK,CAClCM,KAAOtI,OAAO4I,KAAKC,KAAKb,KAExBI,GAAKxI,EAAE,OAAQ,OACF,yBAEVuG,IAAI,QAAS,IAAM0C,KAAKE,OAAS,MACpCL,IAAM9I,EAAE,QAAS,OACJ,yBAETyG,OAAOzD,KAAKzC,KAAKS,QAAQS,QAAQH,UAC5B,GAAL8G,GAAgC,WAAtBpF,KAAKS,eACfqF,IAAIlB,OAAO5H,EAAE,WAAY,OACZ,2CACVmH,KAAK,iBAAkB,QAAQS,OAAO5H,EAAE,MAAO,OACrC,wBAGjB8I,IAAIlB,OAAO5H,EAAE,UACRkE,SAAS,aACTqC,IAAI,QAAS,QACb/B,KAAKxB,KAAK+F,kBAAkBL,KAAKrH,OAAO2B,KAAKzC,KAAKS,QAAQS,QAAQJ,WAGnE+G,GAAKa,KAAKE,OAAS,GAA2B,WAAtBnG,KAAKS,eAC7BqF,IAAIlB,OAAO5H,EAAE,WAAY,OACZ,2CACVmH,KAAK,iBAAkB,SAASS,OAAO5H,EAAE,MAAO,OACtC,yBAGjBwI,GAAGZ,OAAOkB,KACVN,GAAGrB,KAAK,YAAauB,KAAKC,QAAQ,OAAOtH,OAAO,UAE5C+H,UADO,IAAInF,KAAKyE,MACCW,SACjBC,UAA2B,IAAdF,WAAoC,IAAfA,UACtCZ,GAAGrB,KAAK,eAAgBmC,WAExBd,GAAGZ,OAAO5H,EAAE,SACZwI,GAAG1B,KAAK,MAAML,OAAS,GAAKzD,KAAKzC,KAAKS,QAAQC,SAASG,iBAAoB4B,KAAKzC,KAAKS,QAAQC,SAASE,OAAS6B,KAAKzC,KAAKS,QAAQC,SAASC,UAAY8B,KAAKzC,KAAKS,QAAQC,SAASK,SAAc,GAAK0B,KAAKzC,KAAKS,QAAQC,SAASG,gBAAmB4B,KAAKzC,KAAKS,QAAQC,SAASK,UAC7QmH,GAAGb,OAAOY,QAGVe,UAAY,EAChBvJ,EAAEgD,KAAK9C,SAAS4G,KAAK,wBAAwBqB,MAAK,WAC1CnI,EAAEgD,MAAMyD,SAAW8C,YACnBA,UAAYvJ,EAAEgD,MAAMyD,aAG5BzG,EAAEgD,KAAK9C,SAAS4G,KAAK,wBAAwBqB,MAAK,WAC9CnI,EAAEgD,MAAMyD,OAAO8C,cAGfvG,KAAKzC,KAAKS,QAAQS,QAAQH,SAAWiI,iBAChChJ,KAAKS,QAAQS,QAAQH,SAAWiI,UACrCvJ,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBP,IAAI,cAAevD,KAAKzC,KAAKS,QAAQS,QAAQH,SAAW,QAM9GrB,SAAS6D,UAAUmB,cAAgB,WAC/BjF,EAAEgD,KAAK9C,SAAS0H,OAAO5H,EAAE,QAAS,OACrB,yBAET8I,IAAM9I,EAAE,QAAS,OACR,mBAEb8I,IAAIvC,IAAI,SAAUvD,KAAKzC,KAAKoB,MAAML,SAAW,MAEnB,WAAtB0B,KAAKS,eACLqF,IAAIlB,OAAO5H,EAAE,WAAY,OACR,2CAERmH,KAAK,iBAAkB,QACvBS,OAAO5H,EAAE,MAAO,OACJ,wBAIzB8I,IAAIlB,OAAO5H,EAAE,UACRuG,IAAI,WAAY,YAChBA,IAAI,MAAOvD,KAAKzC,KAAKoB,MAAML,SAAW,EAAI,MAC1CiF,IAAI,QAAS,OACbA,IAAI,YAAa,uBACjBsB,KAAK7E,KAAK+F,kBAAkB3I,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAeX,OAAO2B,KAAKzC,KAAKoB,MAAMN,WAEnE,WAAtB2B,KAAKS,eACLqF,IAAIlB,OAAO5H,EAAE,WAAY,OACR,2CAERuG,IAAI,QAAS,SACbY,KAAK,iBAAkB,SACvBS,OAAO5H,EAAE,MAAO,OACJ,yBAKzBA,EAAEgD,KAAK9C,SAAS4G,KAAK,uBAAuBc,OAAOkB,KACnD9I,EAAEgD,KAAK9C,SAAS4G,KAAK,uBAAuBc,OAAO5H,EAAE,iBAEjDwI,GACAC,GAAKzI,EAAEgD,KAAK9C,SAAS4G,KAAK,uBAAuBA,KAAK,MAEtD4B,KAAOtI,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAe2G,QAAQ,SACpDhH,MAAQ2E,SAASoC,KAAKrH,OAAO,OAC7BmI,KAAOlD,SAASoC,KAAKrH,OAAO,MAC5BoI,QAAU,EACPnD,SAASoC,KAAKrH,OAAO,QAAUM,OAAO,KACzC8H,UACOnD,SAASoC,KAAKrH,OAAO,OAASmI,MACjCd,KAAKE,IAAI,EAAG,QAEhBY,KAAOlD,SAASoC,KAAKrH,OAAO,UAG3B,IAAI+G,EAAI,EAAGA,EAAIpF,KAAKzC,KAAKoB,MAAMG,UAAUJ,SAASyH,OAAQf,IAC3DM,KAAOtI,SAASuI,QAAQ,QAAQC,IAAI5F,KAAKzC,KAAKoB,MAAMG,UAAUJ,SAAS0G,GAAI,SAC3EI,GAAKxI,EAAE,OAAQ,OACF,+BAEV4H,OAAO5H,EAAE,SACPuG,IAAI,SAAUvD,KAAKzC,KAAKoB,MAAMG,UAAUR,SAAW,MACnDiF,IAAI,eAAgBvD,KAAKzC,KAAKoB,MAAMG,UAAUR,SAAW,IAAM,EAAI,MACnEuG,KAAK7E,KAAK+F,kBAAkBL,KAAKrH,OAAO2B,KAAKzC,KAAKoB,MAAMG,UAAUT,WAEvEmH,GAAGjC,IAAI,QAAS,IAAMvD,KAAKzC,KAAKoB,MAAMG,UAAUJ,SAASyH,OAAS,KAClEX,GAAGZ,OAAO5H,EAAE,QAAQuG,IAAI,SAAUkD,QAAUzG,KAAKzC,KAAKoB,MAAME,SAASP,SAAW,OAChFmH,GAAGb,OAAOY,QAEVe,UAAY,EAChBvJ,EAAEgD,KAAK9C,SAAS4G,KAAK,8BAA8BqB,MAAK,eAChDL,EAAI9H,EAAEgD,MAAM8D,KAAK,OACjB9G,EAAE8H,GAAGrB,SAAW8C,YAChBA,UAAYvJ,EAAE8H,GAAGrB,aAGzBzG,EAAEgD,KAAK9C,SAAS4G,KAAK,8BAA8BqB,MAAK,eAChDL,EAAI9H,EAAEgD,MAAM8D,KAAK,OACrB9G,EAAE8H,GAAGrB,OAAO8C,eAIpBtJ,SAAS6D,UAAUoB,qBAAuB,WACtClF,EAAEgD,KAAK9C,SAAS0H,OAAO5H,EAAE,QAAS,OACrB,2BAETsI,UAAYtF,KAAKzC,KAAKoB,MAAMG,UAAUR,SAC1CgH,WAAatF,KAAKzC,KAAKoB,MAAML,SACzB0B,KAAKzC,KAAKmC,WAAWC,SACrB2F,WAAa,IAEjBA,WAAa,EACbtI,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBP,IAAI,aAAc+B,UAAY,MAC5EtI,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBc,OAAO5H,EAAE,iBAEnDwI,GACAC,GAAKzI,EAAEgD,KAAK9C,SAAS4G,KAAK,yBAAyBA,KAAK,MAExD4B,KAAOtI,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAe2G,QAAQ,SACpDhH,MAAQ2E,SAASoC,KAAKrH,OAAO,OAC7BmI,KAAOlD,SAASoC,KAAKrH,OAAO,MACzBiF,SAASoC,KAAKrH,OAAO,QAAUM,OAAO,MACzC6G,GAAKxI,EAAE,OAAQ,OACF,iBAEV4H,OAAO5H,EAAE,UACPmH,KAAK,iBAAkBuB,KAAKrH,OAAO,MACnCwG,KAAKa,KAAKrH,OAAO2B,KAAKzC,KAAKoB,MAAME,SAASR,SAASkF,IAAI,aAAcvD,KAAKzC,KAAKoB,MAAME,SAASP,SAAW,EAAI,OAElHkH,GAAG/B,OAAOzD,KAAKzC,KAAKoB,MAAME,SAASP,UACnCmH,GAAGb,OAAOY,IACHlC,SAASoC,KAAKrH,OAAO,OAASmI,MACjCd,KAAKE,IAAI,EAAG,QAEhBY,KAAOlD,SAASoC,KAAKrH,OAAO,QAIpCpB,SAAS6D,UAAUqB,kBAAoB,mBAE/BuE,SAAUlB,GADVS,KAAOjG,KAAKkG,cAGZd,EAAI9B,SAASlG,OAAO4I,KAAKC,KAAK,IAAIjI,WAClC0H,KAAOtI,OAAO4I,KAAKC,KAAK,IACrBb,EAAI,GACPM,KAAOA,KAAKiB,SAAS,EAAG,QACxBD,SAAW1G,KAAK9C,QAAQ4G,KAAK,gEAAkE9D,KAAK+F,kBAAkBL,KAAKrH,OAAO2B,KAAKzC,KAAKoB,MAAMG,UAAUT,SAAW,MAAMuI,SAAS9C,KAAK,OAC3L0B,GAAKxI,EAAE,SACJuG,IAAI,SAAUvD,KAAKzC,KAAKoB,MAAME,SAASP,SAAW,MACrDtB,EAAE0J,UAAU9B,OAAOY,IACnBJ,QAGJM,KAAOO,KAAKE,OACPf,EAAI,EAAGA,EAAIM,KAAMN,IAClBsB,SAAW1G,KAAK9C,QAAQ4G,KAAK,gEAAkE9D,KAAK+F,kBAAkB3I,OAAO4I,KAAKC,KAAKb,IAAI/G,OAAO2B,KAAKzC,KAAKoB,MAAMG,UAAUT,SAAW,MAAMuI,SAAS9C,KAAK,OAC3M0B,GAAKxI,EAAE,OAAQ,OACF,+BAEVuG,IAAI,SAAUvD,KAAKzC,KAAKoB,MAAME,SAASP,SAAW,MACrDkH,GAAGrB,KAAK,iBAAkB/G,OAAO4I,KAAKC,KAAKb,IAAIO,QAAQ,OAAOtH,OAAO,MACrEmH,GAAGrB,KAAK,eAAgB/G,OAAO4I,KAAKC,KAAKb,IAAIyB,MAAM,OAAOxI,OAAO,MACjEmH,GAAGZ,OAAO5H,EAAE,UAAU6H,KAAKzH,OAAO4I,KAAKC,KAAKb,IAAI/G,OAAO2B,KAAKzC,KAAKoB,MAAMI,IAAIV,UAC3ErB,EAAE0J,UAAU9B,OAAOY,SAGlBtI,QAAQ4G,KAAK,8BAA8BqB,MAAK,WACjDnI,EAAEgD,MAAM4E,OAAO5H,EAAE,aAIzBC,SAAS6D,UAAUc,eAAiB,mBAC3BkF,iCACAC,8BAED/G,KAAKzC,KAAKmC,WAAWC,OAAQ,SACzBqH,MACAlB,IAAM9I,EAAE,QAAS,OACJ,wBACVuG,IAAI,SAAU,QACZ6B,EAAI,EAAGA,EAAIpF,KAAKG,mBAAmBgG,OAAQf,KAChD4B,MAAQhK,EAAE,SAAU,OACP,wCAEPuG,IAAI,eAAgB,OAC1ByD,MAAMzD,IAAI,mBAAoBvD,KAAKG,mBAAmBiF,GAAGrF,OACzDiH,MAAMzD,IAAI,SAAU,WACpByD,MAAM7C,KAAK,aAAcnE,KAAKG,mBAAmBiF,GAAGrF,OACpDiH,MAAM7C,KAAK,gBAAgB,GAC3B6C,MAAMnC,KAAK7E,KAAKG,mBAAmBiF,GAAG6B,UACtCnB,IAAIlB,OAAOoC,WAEV5B,EAAI,EAAGA,EAAIpF,KAAKI,qBAAqB+F,OAAQf,KAC9C4B,MAAQhK,EAAE,SAAU,OACP,+DAEPuG,IAAI,eAAgB,OAC1ByD,MAAMzD,IAAI,mBAAoBvD,KAAKI,qBAAqBgF,GAAGrF,OAC3DiH,MAAMzD,IAAI,SAAU,WACpByD,MAAM7C,KAAK,aAAcnE,KAAKI,qBAAqBgF,GAAGrF,OACtDiH,MAAM7C,KAAK,gBAAgB,GAC3B6C,MAAMnC,KAAK7E,KAAKI,qBAAqBgF,GAAG6B,UACxCnB,IAAIlB,OAAOoC,YAEV9J,QAAQgK,QAAQpB,UAChBqB,qBACAC,kBAIbnK,SAAS6D,UAAUqG,cAAgB,eAC3BE,gBAAiBjE,KACjBD,KAAOnD,UACN9C,QAAQ4G,KAAK,mBAAmB5E,OACjC,WACIkE,KAAOpG,EAAEgD,MACTqH,gBAAkBC,YAAW,WACrBlE,KAAK3B,SAAS,0BACdzE,EAAEmG,KAAKjG,SAASkE,QAAQ,uCAAwC,CAC5D+B,KACAC,OAGJpG,EAAEmG,KAAKjG,SAASkE,QAAQ,qCAAsC,CAC1D+B,KACAC,SAGTD,KAAK5F,KAAKmC,WAAWR,MAAMC,UAElC,WACIoI,aAAaF,kBACbjE,KAAOpG,EAAEgD,OACAyB,SAAS,0BACdzE,EAAEmG,KAAKjG,SAASkE,QAAQ,uCAAwC,CAC5D+B,KACAC,OAGJpG,EAAEmG,KAAKjG,SAASkE,QAAQ,qCAAsC,CAC1D+B,KACAC,WAOpBnG,SAAS6D,UAAUsG,cAAgB,eAE3BjE,KAAOnD,UACN9C,QAAQ4G,KAAK,mBAAmB0D,OAAM,SAAUvI,OAC7CjC,EAAEiC,MAAM8F,QAAQtD,SAAS,0BACzBzE,EAAEmG,KAAKjG,SAASkE,QAAQ,kCAAmC,CACvD+B,KALRC,YASIpG,EAAEmG,KAAKjG,SAASkE,QAAQ,gCAAiC,CACrD+B,KAVRC,gBAiBRnG,SAAS6D,UAAU0B,eAAiB,kBACxBxC,KAAK0B,eACJ,UACA,YACI+F,iCAGJ,aACIC,0BAKjBzK,SAAS6D,UAAU2G,qBAAuB,eAClCtE,KAAOnD,KACP2H,SAAW,OACVzK,QAAQ4G,KAAK,mBAAmBqB,MAAK,SAAUC,OAE5CwC,MAAQtE,SAAStG,EAAEgD,MAAMmE,KAAK,eAE9B0D,SADMvE,SAAStG,EAAEgD,MAAMmE,KAAK,aACXyD,MACjBE,KAAOxE,SAAStG,EAAEgD,MAAMwD,QAAQ,0BAA0BW,KAAK,cAAuD,GAAtChB,KAAK5F,KAAKS,QAAQC,SAASC,SAAgB,GAC3H4J,KAAOH,WACPA,SAAWG,UAEXC,UAAaH,MAAQE,MAAQ,GAAK3E,KAAK5F,KAAKS,QAAQC,SAASG,gBAAkB+E,KAAK5F,KAAKS,QAAQC,SAASK,SAAY,EACtH0J,YAAeH,SAAW,GAAK1E,KAAK5F,KAAKS,QAAQC,SAASG,gBAAkB+E,KAAK5F,KAAKS,QAAQC,SAASK,SAAY,EAGnH2J,qBAAsB,EAEtBC,IAAM,GACNC,eAAiBnL,EAAEgD,MACvBhD,EAAEgD,MAAMwD,QAAQ,MAAMM,KAAK,qBAAqBqB,MAAK,SAAUiD,EAAGtD,GAC1D9H,EAAE8H,GAAG,IAAMqD,eAAe,KACtB7E,SAAS6E,eAAehE,KAAK,eAAiBb,SAAStG,EAAE8H,GAAGX,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,aAAeb,SAAStG,EAAE8H,GAAGX,KAAK,iBAChJ+D,IAAIG,KAAKrL,EAAE8H,MAGXxB,SAAS6E,eAAehE,KAAK,eAAiBb,SAAStG,EAAE8H,GAAGX,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,aAAeb,SAAStG,EAAE8H,GAAGX,KAAK,cAEzIb,SAAS6E,eAAehE,KAAK,gBAAkBb,SAAStG,EAAE8H,GAAGX,KAAK,gBAAkBb,SAAStG,EAAE8H,GAAGX,KAAK,eAAiBb,SAAS6E,eAAehE,KAAK,iBAD5JmE,UAORC,MAAQ,GACZA,MAAMF,KAAK/E,SAAS6E,eAAehE,KAAK,gBACxCoE,MAAMF,KAAK/E,SAAS6E,eAAehE,KAAK,kBAE/BiB,EAAI,EAAGA,EAAI8C,IAAI/B,OAAQf,IACxB9B,SAAS4E,IAAI9C,GAAGjB,KAAK,gBAAkBb,SAAS6E,eAAehE,KAAK,gBAAkBb,SAAS4E,IAAI9C,GAAGjB,KAAK,gBAAkBb,SAAS6E,eAAehE,KAAK,cAC1JoE,MAAMF,KAAK/E,SAAS4E,IAAI9C,GAAGjB,KAAK,gBAEhCb,SAAS4E,IAAI9C,GAAGjB,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,gBAAkBb,SAAS4E,IAAI9C,GAAGjB,KAAK,cAAgBb,SAAS6E,eAAehE,KAAK,cACtJoE,MAAMF,KAAK/E,SAAS4E,IAAI9C,GAAGjB,KAAK,eAIxCoE,MAAQpF,KAAKqF,gBAAgBD,QACvBE,MAAK,SAAUC,EAAG/D,UACZ+D,EAAI/D,EAAK,GAAK,SAGjBS,EAAI,EAAGA,EAAImD,MAAMpC,OAAQf,IAAK,SAC/BuD,YAAc,EACTP,EAAI,EAAGA,EAAIF,IAAI/B,OAAQiC,IACxBG,MAAMnD,GAAK9B,SAAS4E,IAAIE,GAAGjE,KAAK,gBAAkBoE,MAAMnD,IAAM9B,SAAS4E,IAAIE,GAAGjE,KAAK,cACnFwE,eAGHA,YAAc,GAAKA,YAAcV,sBAAgD,IAAxBA,uBAC1DA,oBAAsBU,iBAI9BR,eAAehE,KAAK,cAAe8D,oBAAsB,GACzDE,eAAehE,KAAK,eAAgB8D,oBAAsB,GAE1D7C,EAAI8C,IAAI/B,OACDf,KACC9B,SAAS4E,IAAI9C,GAAGjB,KAAK,iBAAmBb,SAAS6E,eAAehE,KAAK,kBACrEgE,eAAehE,KAAK,eAAgB+D,IAAI9C,GAAGjB,KAAK,qBAIpDyE,UAAY,OACXxD,EAAI,EAAGA,EAAI9B,SAAS6E,eAAehE,KAAK,iBAAkBiB,IAAK,CAChEwD,UAAUxD,IAAK,MACNgD,EAAI,EAAGA,EAAIF,IAAI/B,OAAQiC,QACvB,IAAIS,EAAI,EAAGA,EAAIC,OAAOZ,IAAIE,GAAGjE,KAAK,mBAAmB4E,MAAM,KAAK5C,OAAQ0C,IAAK,CAC/DC,OAAOZ,IAAIE,GAAGjE,KAAK,mBAAmB4E,MAAM,KAAKF,IAChDzD,IACZwD,UAAUxD,IAAK,QAM/B+C,eAAehE,KAAK,kBAAmB,GAEvCiB,EAAI,GACuD,GAApD9B,SAAS6E,eAAehE,KAAK,oBAA0B,KACrC,IAAjByE,UAAUxD,KACV+C,eAAehE,KAAK,iBAAkBiB,GAClC9B,SAAS6E,eAAehE,KAAK,iBAAmBb,SAAS6E,eAAehE,KAAK,gBAAkB,EAAI,SACvE,IAArByE,UAAUxD,EAAI,IACjB+C,eAAehE,KAAK,iBAAkBgE,eAAehE,KAAK,kBAAoB,KAAOiB,EAAI,IACzFA,IAIZA,QAEoB,IAApBjC,KAAK5F,KAAKG,UACNsL,UAAaF,OAAOX,eAAehE,KAAK,mBAAmB4E,MAAM,KAAK,GAAK5F,KAAK5F,KAAKG,MAAS,IAC9FuL,WAAa,IAAM9F,KAAK5F,KAAKG,WAE7BuL,WAAa,KAAO3F,SAAS6E,eAAehE,KAAK,iBAAmB2E,OAAOX,eAAehE,KAAK,mBAAmB4E,MAAM,KAAK5C,QAC7H6C,UAAaF,OAAOX,eAAehE,KAAK,mBAAmB4E,MAAM,KAAK,GAAKzF,SAAS6E,eAAehE,KAAK,iBAAoB,IAEpIvD,QAAQsI,IAAI,YAAc/F,KAAK5F,KAAKG,OACpCyF,KAAKgG,iBAAiBnJ,KAAM+H,SAAUC,YAAagB,UAAWC,gBAItEhM,SAAS6D,UAAU4G,sBAAwB,eACnCvE,KAAOnD,UACN9C,QAAQ4G,KAAK,gCAAgCqB,MAAK,eAC/CiE,EAAIpM,EAAEgD,MAAM8D,KAAK,mBAAmBqC,OACxCnJ,EAAEgD,MAAM8D,KAAK,mBAAmBqB,MAAK,SAAUC,OAEvC2C,SAAYzE,SAAStG,EAAEgD,MAAMwD,QAAQ,8BAA8B6F,SAAWlG,KAAK5F,KAAKoB,MAAME,SAASP,SAAY,GAAK,EACxH0J,YAAc7E,KAAK5F,KAAKoB,MAAME,SAASP,SAAW,GAAK,EACvD2K,WAAa,IAAMG,EACnBJ,UAAa,IAAMI,EAAKhE,EAE5BjC,KAAKgG,iBAAiBnJ,KAAM+H,SAAUC,YAAagB,UAAWC,mBAK1EhM,SAAS6D,UAAUqI,iBAAmB,SAAU/F,KAAM2E,SAAUC,YAAagB,UAAWC,YACpFjM,EAAEoG,MAAMe,KAAK,WAAY4D,UACzB/K,EAAEoG,MAAMe,KAAK,cAAe6D,aAC5BhL,EAAEoG,MAAMe,KAAK,YAAa6E,WAC1BhM,EAAEoG,MAAMe,KAAK,aAAc8E,YAE3BjM,EAAEoG,MAAMG,IAAI,CACRI,IAAMoE,SAAY,KAClBtE,OAASuE,YAAe,KACxBnE,KAAMmF,UAAY,IAClBpF,MAAOqF,WAAa,OAI5BhM,SAAS6D,UAAUkB,eAAiB,eAC5B8C,EAAGM,EAAGrG,IAAKb,SAAUC,OAAQmL,SAC7BF,EAAIpJ,KAAKX,OAAO8G,WACff,EAAI,EAAGA,EAAIgE,EAAGhE,IACfN,EAAI9E,KAAKX,OAAO+F,GAChBrG,KAAM,EACNb,SAAW8B,KAAKzC,KAAKS,QAAQC,SAASC,SACtCC,OAAS6B,KAAKzC,KAAKS,QAAQC,SAASE,OACpCmL,SAAWtJ,KAAKzC,KAAKS,QAAQC,SAASG,gBACtCpB,EAAEgD,KAAK9C,SAAS4G,KAAK,wBAAwBqB,MAAK,SAAUC,EAAGmE,GACvDzE,EAAE8C,OAAUtE,SAAStG,EAAEuM,GAAGpF,KAAK,cAA2B,GAAXjG,SAAgB,IAAO4G,EAAE0E,KAAQlG,SAAStG,EAAEuM,GAAGpF,KAAK,cAAyB,GAAThG,OAAc,GAAQ,GAAKmL,SAAYA,SAAW,KACrKvK,IAAMwK,OAGF,IAARxK,UAGK0K,qBACD1K,IACAqG,EACAhI,OAAO4I,KAAKlB,EAAE8C,OAAOvJ,OAAO,KAC5BjB,OAAO4I,KAAKlB,EAAE0E,KAAKnL,OAAO,KAC1ByG,EAAE4E,MACF5E,EAAE6E,QACF7E,EAAEmC,SACFnC,EAAE8E,aACF9E,EAAE+E,WACF7J,KAAK8J,sBAAsBhF,EAAEmC,UAC7B7J,OAAO4I,KAAKlB,EAAE8C,OAAOvJ,OAAO2B,KAAKzC,KAAKS,QAAQC,SAASI,QAAU,MAAQjB,OAAO4I,KAAKlB,EAAE0E,KAAKnL,OAAO2B,KAAKzC,KAAKS,QAAQC,SAASI,QAC9H,CAAC,oBAMjBpB,SAAS6D,UAAUiB,iBAAmB,eAC9BqD,EAAGN,EAAG/F,IACNqK,EAAIpJ,KAAKV,SAAS6G,WACjBf,EAAI,EAAGA,EAAIgE,EAAGhE,OACfN,EAAI9E,KAAKV,SAAS8F,GAClBrG,KAAM,EACN/B,EAAEgD,KAAK9C,SAAS4G,KAAK,wBAAwBqB,MAAK,SAAU4E,EAAGR,GACvDjG,SAASlG,OAAO4I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOtH,OAAO,OAASiF,SAAStG,EAAEuM,GAAGpF,KAAK,gBAC/EpF,IAAMwK,OAIF,IAARxK,SAEG,CACSiB,KAAKgK,wBAAwBlF,EAAEmC,cACvCgD,KAAOjK,KAAKzC,KAAKS,QAAQC,SAASC,SAClCC,OAAS6B,KAAKzC,KAAKS,QAAQC,SAASE,OAASmF,SAAStD,KAAKzC,KAAKS,QAAQC,SAASG,gBAAkB,IACnG8L,MAA0H,IAAhHlK,KAAKzC,KAAKS,QAAQC,SAASG,gBAAkB,GAAMkF,SAAStD,KAAKzC,KAAKS,QAAQC,SAASG,gBAAkB,UAClHqL,qBACD1K,IACAqG,EACAhI,OAAO4I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOC,IAAIqE,KAAM,KAAK5L,OAAO,KACzDjB,OAAO4I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOC,IAAIzH,OAAQ,KAAKyH,IAAIsE,MAAO,KAAK7L,OAAO,KAC3EyG,EAAE4E,MACF5E,EAAE6E,QACF7E,EAAEmC,SACFnC,EAAE8E,aACF9E,EAAE+E,WACF7J,KAAKgK,wBAAwBlF,EAAEmC,UAC/B,GACA,CAAC,iBAAkB,uBAMnChK,SAAS6D,UAAU2I,qBAAuB,SAAU3E,EAAGuE,MAAOzB,MAAO4B,IAAKE,MAAOC,QAAS1C,SAAU2C,aAAcC,WAAY9J,MAAOoK,cAAeC,iBAG5I5E,GAAKxI,EAAE,QACPoI,EAAIgF,QAAQjE,OACTf,KACHI,GAAGtE,SAASkJ,QAAQhF,IAExBI,GAAGrB,KAAK,aAAckF,OACtB7D,GAAGrB,KAAK,aAAcyD,OACtBpC,GAAGrB,KAAK,WAAYqF,KACpBhE,GAAGrB,KAAK,aAAcuF,OACtBlE,GAAGrB,KAAK,eAAgBwF,SACxBnE,GAAGrB,KAAK,gBAAiB8C,UACzBzB,GAAGrB,KAAK,oBAAqByF,cAC7BpE,GAAGrB,KAAK,kBAAmB0F,YAC3BrE,GAAGrB,KAAK,aAAcpE,OACtByF,GAAGjC,IAAI,aAAcxD,OACF,MAAf8J,YACArE,GAAGjC,IAAI,SAAU,aAAavD,KAAKzC,KAAK6B,OAAOK,SAE9B,MAAjBmK,cACApE,GAAGjC,IAAI,SAAU,aAAavD,KAAKzC,KAAK6B,OAAOI,SAEnDkJ,EAAI1L,EAAE,MAAO,CACTqN,KAAM,MAEV3B,EAAE9D,OAAO5H,EAAE,OAAQ,OACN,eACV6H,KAAK6E,QACRhB,EAAE9D,OAAO5H,EAAE,OAAQ,OACN,6BAGb0L,EAAE5E,KAAK,kBAAkBc,OAAO5H,EAAE,MAAO,OAC5B,eACVwE,KAAK2I,gBACRzB,EAAE5E,KAAK,kBAAkBc,OAAO5H,EAAE,SAClC0L,EAAE5E,KAAK,kBAAkBc,OAAO+E,SAEhCnE,GAAGZ,OAAO8D,GACV1L,EAAE8H,GAAGhB,KAAK,MAAMc,OAAOY,KAG3BvI,SAAS6D,UAAUuB,gBAAkB,eAC7B+C,EAAGN,EAAG/F,IACNqK,EAAIpJ,KAAKX,OAAO8G,WACff,EAAI,EAAGA,EAAIgE,EAAGhE,IACfN,EAAI9E,KAAKX,OAAO+F,GAChBrG,KAAM,EACN/B,EAAEgD,KAAK9C,SAAS4G,KAAK,8BAA8BqB,MAAK,SAAU4E,EAAGR,GAC7DzE,EAAE8C,OAAUtE,SAAStG,EAAEuM,GAAGpF,KAAK,oBAAuBW,EAAE0E,KAAQlG,SAAStG,EAAEuM,GAAGpF,KAAK,mBACnFpF,IAAMwK,OAGF,IAARxK,UAGK0K,qBACD1K,IACAqG,EACAhI,OAAO4I,KAAKlB,EAAE8C,OAAOvJ,OAAO,KAC5BjB,OAAO4I,KAAKlB,EAAE0E,KAAKnL,OAAO,KAC1ByG,EAAE4E,MACF5E,EAAE6E,QACF7E,EAAEmC,SACFnC,EAAE8E,aACF9E,EAAE+E,WACF7J,KAAK8J,sBAAsBhF,EAAEmC,UAC7B7J,OAAO4I,KAAKlB,EAAE8C,OAAOvJ,OAAO2B,KAAKzC,KAAKoB,MAAMI,IAAIV,QAAU,MAAQjB,OAAO4I,KAAKlB,EAAE8C,OAAOvJ,OAAO2B,KAAKzC,KAAKS,QAAQC,SAASI,QAAU,MAAQjB,OAAO4I,KAAKlB,EAAE0E,KAAKnL,OAAO2B,KAAKzC,KAAKS,QAAQC,SAASI,QAChM,CAAC,oBAMjBpB,SAAS6D,UAAUsB,kBAAoB,eAC/BgD,EAAGN,EAAG/F,IACNqK,EAAIpJ,KAAKV,SAAS6G,WACjBf,EAAI,EAAGA,EAAIgE,EAAGhE,IACfN,EAAI9E,KAAKV,SAAS8F,GAClBrG,KAAM,EACN/B,EAAEgD,KAAK9C,SAAS4G,KAAK,8BAA8BqB,MAAK,SAAU4E,EAAGR,GAC7DzE,EAAEY,MAASpC,SAAStG,EAAEuM,GAAGpF,KAAK,oBAAuBW,EAAEY,MAASpC,SAAStG,EAAEuM,GAAGpF,KAAK,mBACnFpF,IAAMwK,OAGF,IAARxK,UAGK0K,qBACD1K,IACAqG,EACAhI,OAAO4I,KAAKlB,EAAEY,MAAMC,QAAQ,OAAOtH,OAAO,KAC1CjB,OAAO4I,KAAKlB,EAAEY,MAAMmB,MAAM,OAAOxI,OAAO,KACxCyG,EAAE4E,MACF5E,EAAE6E,QACF7E,EAAEmC,SACFnC,EAAE8E,aACF9E,EAAE+E,WACF7J,KAAKgK,wBAAwBlF,EAAEmC,UAC/B7J,OAAO4I,KAAKlB,EAAEY,MAAMrH,OAAO2B,KAAKzC,KAAKoB,MAAMI,IAAIV,QAC/C,CAAC,iBAAkB,sBAMnCpB,SAAS6D,UAAUwB,UAAY,WAC3BgC,MAAQ,2EACRA,OAAS,6CACTA,OAAS,8BACTA,OAAS,6BACTA,OAAS,gCACTA,OAAS,+HACTA,OAAS,SACTA,OAAS,2BACTA,OAAS,SACTA,OAAS,SACTA,OAAS,SACTA,OAAS,SACTtH,EAAEgD,KAAK9C,SAAS0H,OADhBN,2XAIJrH,SAAS6D,UAAUyB,QAAU,cACrBvC,KAAKzC,KAAKqC,IAAID,OAAQ,KAClB2K,GAAKtN,EAAE,OAAQ,OACN,oCAEbsN,GAAG/G,IAAI,QAAS,QAChB+G,GAAG/G,IAAI,WAAY,YACnB+G,GAAG/G,IAAI,UAAW,GAClB+G,GAAG/G,IAAI,aAAcvD,KAAKzC,KAAKqC,IAAItB,SAAW,MAAQ0B,KAAKzC,KAAKqC,IAAIE,MAAQ,IAAME,KAAKzC,KAAKqC,IAAIG,WAC5F4D,KAAQvG,SAASiB,OAAO,KAAOjB,SAASuI,QAAQ,OAAOC,IAAI5F,KAAKzC,KAAKS,QAAQC,SAASC,SAAU,KAAKG,OAAO,MAAQ,GAAK2B,KAAKzC,KAAKS,QAAQC,SAASG,gBAAkB4B,KAAKzC,KAAKS,QAAQC,SAASK,SAAa0B,KAAKzC,KAAKS,QAAQC,SAASK,SAAW,KACxPgM,GAAG/G,IAAI,MAAOI,IAAM,WACfzG,QAAQ4G,KAAK,qCAAuC1G,SAASuI,QAAQ,OAAOtH,OAAO,KAAO,MAAMyF,KAAK,MAAMc,OAAO0F,IACnHtK,KAAKzC,KAAKqC,IAAIC,QAAS,KACnBsD,KAAOnD,KACXuK,aAAY,eACJD,GAAKnH,KAAKjG,QAAQ4G,KAAK,mBAAmB0G,UAC1CF,GAAKtN,EAAE,OAAQ,OACN,qCAEVuG,IAAI,QAAS,QAChB+G,GAAG/G,IAAI,WAAY,YACnB+G,GAAG/G,IAAI,UAAW,GAClB+G,GAAG/G,IAAI,aAAcJ,KAAK5F,KAAKqC,IAAItB,SAAW,MAAQ6E,KAAK5F,KAAKqC,IAAIE,MAAQ,IAAMqD,KAAK5F,KAAKqC,IAAIG,WAC5F4D,KAAQvG,SAASiB,OAAO,KAAOjB,SAASuI,QAAQ,OAAOC,IAAIzC,KAAK5F,KAAKS,QAAQC,SAASC,SAAU,KAAKG,OAAO,MAAQ,GAAK8E,KAAK5F,KAAKS,QAAQC,SAASG,gBAAkB+E,KAAK5F,KAAKS,QAAQC,SAASK,SAAa6E,KAAK5F,KAAKS,QAAQC,SAASK,SAAW,EACxPgM,GAAG/G,IAAI,MAAOI,IAAM,MACpBR,KAAKjG,QAAQ4G,KAAK,qCAAuC1G,SAASuI,QAAQ,OAAOtH,OAAO,KAAO,MAAMyF,KAAK,MAAMc,OAAO0F,MACxH,QAKfrN,SAAS6D,UAAU2B,oBAAsB,eACjCU,KAAOnD,UACN9C,QAAQ4G,KAAK,mBAAmBqB,MAAK,eAClCkC,gBACJrK,EAAEgD,MAAMd,OACJ,WACIkE,KAAOpG,EAAEgD,MACTqH,gBAAkBC,YAAW,WACrBlE,KAAK3B,SAAS,oBACdzE,EAAEmG,KAAKjG,SAASkE,QAAQ,8BAA+B,CACnD+B,KACAC,OAGJpG,EAAEmG,KAAKjG,SAASkE,QAAQ,4BAA6B,CACjD+B,KACAC,SAITD,KAAK5F,KAAK0B,MAAMC,MAAMC,UAE7B,WACIoI,aAAaF,iBACbjE,KAAOpG,EAAEgD,MACLoD,KAAK3B,SAAS,oBACdzE,EAAEmG,KAAKjG,SAASkE,QAAQ,8BAA+B,CACnD+B,KACAC,OAGJpG,EAAEmG,KAAKjG,SAASkE,QAAQ,4BAA6B,CACjD+B,KACAC,cASxBnG,SAAS6D,UAAU4B,oBAAsB,eACjCS,KAAOnD,UACN9C,QAAQ4G,KAAK,mBAAmBqB,MAAK,WACtCnI,EAAEgD,MAAMwH,OAAM,SAAUvI,OACpBA,MAAMwL,iBACNxL,MAAMyL,kBACNtH,KAAOpG,EAAEiC,MAAM8F,QACe,OAA1B3B,KAAKuH,KAAK,aAAyBvH,KAAK3B,SAAS,oBACjD2B,KAAOA,KAAKI,QAAQ,sBAEpBJ,KAAK3B,SAAS,oBACdzE,EAAEmG,KAAKjG,SAASkE,QAAQ,yBAA0B,CAC9C+B,KACAC,KACAD,KAAK7D,SAASgE,SAASF,KAAKe,KAAK,kBAGrCnH,EAAEmG,KAAKjG,SAASkE,QAAQ,uBAAwB,CAC5C+B,KACAC,KACAD,KAAK9D,OAAOiE,SAASF,KAAKe,KAAK,yBAOnDlH,SAAS6D,UAAUa,eAAiB,mBAC5ByG,EAAIpI,KAAKX,OAAO8G,OACbiC,KACC9E,SAASlG,OAAO4I,KAAKhG,KAAKX,OAAO+I,GAAGR,OAAOvJ,OAAO,OAAS2B,KAAKzC,KAAKS,QAAQC,SAASC,gBACjFX,KAAKS,QAAQC,SAASC,SAAWoF,SAASlG,OAAO4I,KAAKhG,KAAKX,OAAO+I,GAAGR,OAAOvJ,OAAO,QAExFiF,SAAStD,KAAKX,OAAO+I,GAAGoB,KAAOlG,SAASlG,OAAO4I,KAAKhG,KAAKX,OAAO+I,GAAGoB,KAAK7D,QAAQ,OAAOC,IAAI5F,KAAKzC,KAAKS,QAAQC,SAASE,OAAQ,QAAQE,OAAO,aACxId,KAAKS,QAAQC,SAASE,OAASmF,SAASlG,OAAO4I,KAAKhG,KAAKX,OAAO+I,GAAGoB,KAAKoB,QACzE5K,KAAKzC,KAAKS,QAAQC,SAASE,OAAS,SAC/BZ,KAAKS,QAAQC,SAASE,WAM3ClB,SAAS6D,UAAUoF,YAAc,eACzBD,KAAO,MACW,OAAlBjG,KAAK0B,WACLuE,KAAKoC,KAAK/E,SAASlG,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAeX,OAAO,OAE7C,QAAlB2B,KAAK0B,cACA,IAAI0D,EAAI,EAAGA,EAAIpF,KAAKzC,KAAKS,QAAQS,QAAQC,SAASyH,OAAQf,IAC3Da,KAAKoC,KAAK/E,SAASlG,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAe2G,QAAQ,QAAQC,IAAI5F,KAAKzC,KAAKS,QAAQS,QAAQC,SAAS0G,GAAI,QAAQ/G,OAAO,UAGpH,SAAlB2B,KAAK0B,eACDmJ,cAAgBzN,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAe8L,cACrDpF,KAAOtI,OAAO4I,KAAKhG,KAAKzC,KAAKyB,eAAe2G,QAAQ,aAC/CP,EAAI,EAAGA,EAAIyF,cAAezF,IAC/Ba,KAAKoC,KAAK/E,SAASoC,KAAKC,QAAQ,OAAOtH,OAAO,OAC9CqH,KAAKE,IAAI,EAAG,eAGbK,MAGXhJ,SAAS6D,UAAU6B,gBAAkB,eAC7BQ,KAAOnD,UACN9C,QAAQ4G,KAAK,sBAAsB0D,OAAM,SAAUvI,WAChDmE,KAAOpG,EAAEiC,MAAM8F,QACW,WAA1B3B,KAAKuH,KAAK,cACVvH,KAAOA,KAAKI,QAAQ,uBAExBL,KAAK4H,wBAAwB/N,EAAEoG,MAAMe,KAAK,uBAIlDlH,SAAS6D,UAAU8B,SAAW,eACtBO,KAAOnD,KACXmD,KAAKjG,QAAQ4G,KAAK,oBAAoBkH,MAAM,CACxCA,MAAO,SAAU/L,MAAOgM,WACH,QAAbA,WAAoC,SAAbA,YAEN,QAAbA,UACAA,UAAY,QACQ,SAAbA,YACPA,UAAY,QAEhB9H,KAAK4H,wBAAwBE,aAGrCC,UAAW,IACXC,gBAAiB,UAIzBlO,SAAS6D,UAAU+B,gBAAkB,eAC7BM,KAAOnD,KAEXhD,EAAEgD,KAAK9C,SAAS4G,KAAK,gBAAgB0D,OAAM,WACvCrE,KAAKiI,aAAa9H,SAAStG,EAAEgD,MAAM8D,KAAK,QAAQK,KAAK,oBACrDhB,KAAKzC,QAAQ,QACbyC,KAAKpC,UAGT/D,EAAEgD,KAAK9C,SAAS4G,KAAK,gBAAgB0D,OAAM,WACvCrE,KAAKzC,QAAQ,SACbyC,KAAKpC,UAGT/D,EAAEgD,KAAK9C,SAAS4G,KAAK,cAAc0D,OAAM,WACrCrE,KAAKzC,QAAQ,QACbyC,KAAKpC,UAGT/D,EAAEgD,KAAK9C,SAAS4G,KAAK,cAAc0D,OAAM,WACrCrE,KAAKiI,aAAapO,EAAEgD,MAAMwD,QAAQ,wBAAwBW,KAAK,cAC/DhB,KAAKzC,QAAQ,OACbyC,KAAKpC,WAIb9D,SAAS6D,UAAUgC,mBAAqB,cAC/B9C,KAAKzC,KAAKI,oBAGXwF,KAAOnD,KACXhD,EAAEqO,QAAQC,OAAO,WAAWtH,GAAG,WAAW,SAAUuH,GAE/B,IAAbA,EAAEC,SAAiBD,EAAEE,SACrBtI,KAAK4H,wBAAwB,QAGhB,IAAbQ,EAAEC,SAAiBD,EAAEE,SACrBtI,KAAK4H,wBAAwB,SAGhB,IAAbQ,EAAEC,SAAiBD,EAAEE,UACC,QAAlBtI,KAAKzB,YACLyB,KAAKzC,QAAQ,SACbyC,KAAKpC,QAEa,OAAlBoC,KAAKzB,YACLyB,KAAKzC,QAAQ,QACbyC,KAAKpC,SAII,IAAbwK,EAAEC,SAAiBD,EAAEE,UACC,QAAlBtI,KAAKzB,YACLyB,KAAKzC,QAAQ,OACbyC,KAAKpC,QAEa,SAAlBoC,KAAKzB,YACLyB,KAAKzC,QAAQ,QACbyC,KAAKpC,cAMrB9D,SAAS6D,UAAUiK,wBAA0B,SAAUE,eAC/CS,KAEkB,OAAlB1L,KAAK0B,YACLgK,KAAO,QAEW,QAAlB1L,KAAK0B,YACLgK,KAAO,QAEW,SAAlB1L,KAAK0B,YACLgK,KAAO,SAEM,QAAbT,iBACK1N,KAAKyB,cAAgBsE,SAASlG,OAAO4I,KAXnChG,KAW6CzC,KAAKyB,eAAe2H,SAAS,EAAG+E,MAAMrN,OAAO,OAEpF,SAAb4M,iBACK1N,KAAKyB,cAAgBsE,SAASlG,OAAO4I,KAdnChG,KAc6CzC,KAAKyB,eAAe4G,IAAI,EAAG8F,MAAMrN,OAAO,YAE3F0C,QAGT9D,SAAS6D,UAAUL,YAAc,kBACtBzD,EAAEqO,QAAQzH,QAAU5D,KAAKzC,KAAKK,YAAYG,qBAAuB,SAAW,WAGvFd,SAAS6D,UAAU0D,SAAW,SAAUmH,KAEpCA,IAAMA,IAAIC,QADW,oCACa,SAAU7B,EAAGtF,EAAGC,EAAGC,UAC1CF,EAAIA,EAAIC,EAAIA,EAAIC,EAAIA,SAE3BkH,OAAS,4CAA4CC,KAAKH,YACvDE,OAAS,CACZpH,EAAGnB,SAASuI,OAAO,GAAI,IACvBnH,EAAGpB,SAASuI,OAAO,GAAI,IACvBlH,EAAGrB,SAASuI,OAAO,GAAI,KACvB,MAGR5O,SAAS6D,UAAUK,yBAA2B,eACtC8E,KAAOjG,KAAKkG,mBACX6F,cAAgBzI,SAASlG,OAAO4I,KAAKC,KAAK,IAAIN,QAAQ,OAAOtH,OAAO,WACpE2N,YAAc1I,SAASlG,OAAO4I,KAAKC,KAAKA,KAAKE,OAAS,IAAIU,MAAM,OAAOxI,OAAO,OAGvFpB,SAAS6D,UAAUmL,cAAgB,SAAUC,OAAQC,WAAYC,oBAEzDtH,EADApF,WAAa,GAEb0J,EAAI8C,OAAO/F,OACXkG,cAAgB/I,SAAStD,KAAK+L,eAC9BO,YAAchJ,SAAStD,KAAKgM,aAEvB5G,EAAI,EAAGA,EAAIgE,EAAGhE,IACnBN,EAAIoH,OAAO9G,GACP9B,SAASwB,EAAEqH,cAAgBE,eAAiB/I,SAASwB,EAAEsH,cAAgBE,aACvE5M,WAAW2I,KAAKvD,EAAEmC,iBAGnBjH,KAAKwI,gBAAgB9I,aAGhCzC,SAAS6D,UAAUyL,iBAAmB,SAAUtF,SAAUiF,OAAQ9M,OAAQW,OACtEa,QAAQsI,IAAI,eAAiBjC,UAC7BrG,QAAQsI,IAAI,aAAesD,KAAKC,UAAUP,OAAQ,KAAM,IACxDtL,QAAQsI,IAAI,aAAe9J,QAC3BwB,QAAQsI,IAAI,YAAcnJ,WACtB2M,WAAaF,KAAKG,MAAM3P,EAAE,4BAA4BmH,KAAK,6BAC/DvD,QAAQsI,IAAI,aAAesD,KAAKC,UAAUC,WAAY,KAAM,YAExDE,KAAMxE,EACNhD,EAAIsH,WAAWvG,OACZf,QACCsH,WAAWtH,GAAG6B,UAAYA,gBAC1BiF,OAAOW,QAAQ,CACX5F,SAAUA,SACVlH,MAAO2M,WAAWtH,GAAGrF,QAElB2M,WAAWtH,GAAGrF,UAUxBqF,EAAI,EAAGA,EAAIhG,OAAO+G,OAAQf,IAAK,KAChCwH,MAAO,EACPxE,EAAI8D,OAAO/F,OACJiC,KACC8D,OAAO9D,GAAGrI,OAASX,OAAOgG,KAC1BwH,MAAO,OAGVA,YACDV,OAAO7D,KAAK,CACRpB,SAAUA,SACVlH,MAAOX,OAAOgG,KAEXhG,OAAOgG,UAGfrF,OAGX9C,SAAS6D,UAAUgM,oBAAsB,kBAC9B9M,KAAKiM,cAAcjM,KAAKX,OAAQ,QAAS,QAGpDpC,SAAS6D,UAAUgG,0BAA4B,eACvCpH,WAAaM,KAAK8M,2BACjB3M,mBAAsBH,KAAKK,uBAAuB8F,OAAS,EAAKnG,KAAKK,uBAAyB,WAC/F+E,EAAI1F,WAAWyG,OACZf,UACE0E,sBAAsBpK,WAAW0F,KAI9CnI,SAAS6D,UAAUgJ,sBAAwB,SAAU7C,iBAC1CjH,KAAKuM,iBAAiBtF,SAAUjH,KAAKG,mBAAoBH,KAAKzC,KAAK6B,OAAOC,OAAQ,YAG7FpC,SAAS6D,UAAUiM,yBAA2B,kBACnC/M,KAAKG,oBAGhBlD,SAAS6D,UAAUkM,yBAA2B,SAAUC,uBAC/C5M,uBAAyB4M,kBAGlChQ,SAAS6D,UAAUoM,sBAAwB,kBAChClN,KAAKiM,cAAcjM,KAAKV,SAAU,OAAQ,SAGrDrC,SAAS6D,UAAUiG,4BAA8B,eACzCrH,WAAaM,KAAKkN,6BACjB9M,qBAAwBJ,KAAKM,yBAAyB6F,OAAS,EAAKnG,KAAKM,yBAA2B,WACrG8E,EAAI1F,WAAWyG,OACZf,UACE4E,wBAAwBtK,WAAW0F,KAIhDnI,SAAS6D,UAAUkJ,wBAA0B,SAAU/C,iBAC5CjH,KAAKuM,iBAAiBtF,SAAUjH,KAAKI,qBAAsBJ,KAAKzC,KAAK6B,OAAOE,SAAU,YAGjGrC,SAAS6D,UAAUqM,2BAA6B,kBACrCnN,KAAKI,sBAGhBnD,SAAS6D,UAAUsM,2BAA6B,SAAUH,uBACjD3M,yBAA2B2M,kBAGpChQ,SAAS6D,UAAUuM,eAAiB,kBACzBrN,KAAKzC,KAAK6B,OAAOC,QAG5BpC,SAAS6D,UAAUb,eAAiB,SAAUqN,YACrC/P,KAAK6B,OAAOC,OAASW,KAAKuN,gBAAgBD,OAC3CtN,KAAKzC,KAAK6B,OAAOG,aACZhC,KAAK6B,OAAOC,OAAOoJ,MAAK,iBAClB,GAAM+E,KAAKjO,aAK9BtC,SAAS6D,UAAU2M,iBAAmB,kBAC3BzN,KAAKzC,KAAK6B,OAAOE,UAG5BrC,SAAS6D,UAAUZ,iBAAmB,SAAUoN,YACvC/P,KAAK6B,OAAOE,SAAWU,KAAKuN,gBAAgBD,OAC7CtN,KAAKzC,KAAK6B,OAAOG,aACZhC,KAAK6B,OAAOE,SAASmJ,MAAK,iBACpB,GAAM+E,KAAKjO,aAK9BtC,SAAS6D,UAAU4M,UAAY,kBACpB1N,KAAKX,QAGhBpC,SAAS6D,UAAUP,UAAY,SAAUlB,aAChCA,OAAUA,QAAmB,QAC7BA,OAAOoJ,MAAK,SAAUC,EAAG/D,UAClB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C3K,SAAS6D,UAAU6M,UAAY,SAAUtO,aAChCA,OAASW,KAAKX,OAAOuO,OAAOvO,aAC5BA,OAAOoJ,MAAK,SAAUC,EAAG/D,UAClB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C3K,SAAS6D,UAAU+M,YAAc,kBACtB7N,KAAKV,UAGhBrC,SAAS6D,UAAUN,YAAc,SAAUlB,eAClCA,SAAYA,UAAuB,QACnCA,SAASmJ,MAAK,SAAUC,EAAG/D,UACpB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C3K,SAAS6D,UAAUgN,YAAc,SAAUxO,eAClCA,SAAWU,KAAKV,SAASsO,OAAOtO,eAChCA,SAASmJ,MAAK,SAAUC,EAAG/D,UACpB+D,EAAEd,MAAQjD,EAAEiD,MAAS,GAAK,MAI1C3K,SAAS6D,UAAUiN,YAAc,kBACtB/N,KAAKW,UAGhB1D,SAAS6D,UAAUQ,gBAAkB,iBAC1B,CAACtB,KAAK+L,cAAe/L,KAAKgM,cAGrC/O,SAAS6D,UAAUS,oBAAsB,eACjCqE,IAAM,KAAQ,SAAa,UAAc,YAC7CA,IAAMA,IAAI5F,KAAK0B,WACR,CACH4B,SAASlG,OAAO4I,KAAKhG,KAAK+L,eAAenG,IAAI,EAAGA,KAAKvH,OAAO,MAC5DiF,SAASlG,OAAO4I,KAAKhG,KAAKgM,aAAapG,IAAI,EAAGA,KAAKvH,OAAO,QAKlEpB,SAAS6D,UAAUO,oBAAsB,eACjC2M,IAAM,KAAQ,SAAa,UAAc,YAC7CA,IAAMA,IAAIhO,KAAK0B,WACR,CACH4B,SAASlG,OAAO4I,KAAKhG,KAAK+L,eAAepF,SAAS,EAAGqH,KAAK3P,OAAO,MACjEiF,SAASlG,OAAO4I,KAAKhG,KAAKgM,aAAarF,SAAS,EAAGqH,KAAK3P,OAAO,QAIvEpB,SAAS6D,UAAUmN,aAAe,kBACvBjO,KAAKzC,KAAKyB,eAGrB/B,SAAS6D,UAAUsK,aAAe,SAAU8C,gBACnC3Q,KAAKyB,cAAgBsE,SAAS4K,YAGvCjR,SAAS6D,UAAUY,QAAU,kBAClB1B,KAAKzC,KAAKE,MAGrBR,SAAS6D,UAAUJ,QAAU,SAAUjD,MACvB,OAARA,MAAyB,QAARA,MAA0B,SAARA,YAC9BF,KAAKE,KAAOA,OAIzBR,SAAS6D,UAAUyM,gBAAkB,SAAU7E,GAC3CA,EAAIA,EAAEkF,aACD,IAAIxI,EAAI,EAAGA,EAAIsD,EAAEvC,SAAUf,MACvB,IAAIgD,EAAIhD,EAAI,EAAGgD,EAAIM,EAAEvC,SAAUiC,EAC5BM,EAAEtD,KAAOsD,EAAEN,IACXM,EAAEyF,OAAO/F,IAAK,UAInBM,GAGXzL,SAAS6D,UAAU0H,gBAAkB,SAAUE,GAC3CA,EAAIA,EAAEkF,aACD,IAAIxI,EAAI,EAAGA,EAAIsD,EAAEvC,SAAUf,MACvB,IAAIgD,EAAIhD,EAAI,EAAGgD,EAAIM,EAAEvC,SAAUiC,EAC5BM,EAAEtD,KAAOsD,EAAEN,IACXM,EAAEyF,OAAO/F,IAAK,UAInBM,GAGXzL,SAAS6D,UAAUiF,kBAAoB,SAAUqI,UACtCA,EAAEC,OAAO,GAAGC,cAAgBF,EAAEG,MAAM,QAe3CC,gBAZAC,iBAAmB,GAGvB5R,OAAO6R,OAAO7R,OAAO8R,GAAI,CACrB1R,SAAU,SAAU2R,aACZC,EAAI,IAAI5R,SAASD,EAAEgD,WAAoBxB,IAAZoQ,QAAyB,GAAKA,gBAC7DH,iBAAiBpG,KAAKwG,GACfA,SAiBXC,gBAVJzD,OAAO0D,iBAAiB,qBAAqB,WACzCxH,aAAaiH,iBACbA,gBAAkBlH,YAAW,WACzBmH,iBAAiBO,SAAQ,SAAUC,KAC/BA,IAAIlO,YALH,QAabsK,OAAO0D,iBAAiB,UAAU,WAC9BxH,aAAauH,iBACbA,gBAAkBxH,YAAW,WACzBmH,iBAAiBO,SAAQ,SAAUC,KACN,WAArBA,IAAIxO,eACJwO,IAAIlO,YANP"}